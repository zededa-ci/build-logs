Already up-to-date.
make -C build-tools all
make[1]: Entering directory '/home/zededa-ci/src/zenbuild/build-tools'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/home/zededa-ci/src/zenbuild/build-tools'
From github.com:zededa/go-provision
   dd939331..440cd7b2  fixes      -> origin/fixes
Already up-to-date.
Already up-to-date.
Building and pushing "zededa/lisp:4bd88ce08634e61060bc7abc8d7b0c1fb25d117d"
4bd88ce08634e61060bc7abc8d7b0c1fb25d117d: Pulling from zededa/lisp
Digest: sha256:1f51ee008e3774ab395f1f2efd81d9c7af43c57134057be840aab5fc9a3cac1f
Status: Image is up to date for zededa/lisp:4bd88ce08634e61060bc7abc8d7b0c1fb25d117d
Building and pushing "zededa/lisp:latest"
Sending build context to Docker daemon  13.18MB
Step 1/20 : FROM golang:1.9.1-alpine AS go-build
 ---> cc52d0ad4cce
Step 2/20 : RUN apk update
 ---> Using cache
 ---> 621195e9370a
Step 3/20 : RUN apk add --no-cache git gcc linux-headers libc-dev libpcap-dev
 ---> Using cache
 ---> 2514c3e08706
Step 4/20 : ADD . /go/src/github.com/zededa/lisp
 ---> Using cache
 ---> 9076ada8b3fa
Step 5/20 : RUN go install github.com/zededa/lisp/cmd/...
 ---> Using cache
 ---> 71428f965b28
Step 6/20 : FROM alpine:3.8
 ---> 637f35dd3ce4
Step 7/20 : RUN apk add --no-cache curl gcc linux-headers libc-dev python python-dev libffi-dev openssl-dev libpcap-dev iproute2 tcpdump ethtool ip6tables
 ---> Using cache
 ---> af473ac2d4f5
Step 8/20 : RUN mkdir /lisp
 ---> Using cache
 ---> 7219a1bdefed
Step 9/20 : ARG LISP_URL=https://www.dropbox.com/s/ogfu5gaw550rlkq/zededa.tgz
 ---> Using cache
 ---> 335818f2a9c5
Step 10/20 : RUN cd /lisp ; curl --insecure -L $LISP_URL | gzip -dc | tar -xf -
 ---> Using cache
 ---> 93e44b0e13f9
Step 11/20 : ADD scripts/sudo /usr/bin/sudo
 ---> Using cache
 ---> 4d1d28f41f38
Step 12/20 : ADD conf scripts/RESTART-LISP scripts/RUN-LISP.rtr1 scripts/RUN-LISP scripts/STOP-LISP scripts/CONFIG-SVC scripts/RL scripts/pslisp scripts/log-packets scripts/ping-mesh.py /lisp/
 ---> Using cache
 ---> 4b096c926b0a
Step 13/20 : RUN python /lisp/get-pip.py
 ---> Using cache
 ---> 4b1dc457daef
Step 14/20 : RUN pip install -r /lisp/pip-requirements.txt
 ---> Using cache
 ---> 446d06f47c30
Step 15/20 : RUN echo 'PS1="`hostname | cut -d . -f 0` > "' >> /root/.profile
 ---> Using cache
 ---> 0c23db95f97e
Step 16/20 : COPY --from=go-build /go/bin/dataplane /lisp/lisp-ztr
 ---> Using cache
 ---> 4cfc1bace463
Step 17/20 : EXPOSE 8080
 ---> Using cache
 ---> 70924a2b5afd
Step 18/20 : WORKDIR /lisp
 ---> Using cache
 ---> 62757a2c135f
Step 19/20 : CMD ./CONFIG-SVC ; ./RL ; sleep 5 ; tail -f ./logs/*
 ---> Using cache
 ---> f846b011bfc3
Step 20/20 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'f8f2cba08166884c5b9341eb605db1d5d84f6550' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Using cache
 ---> 04cd2f1dca73
Successfully built 04cd2f1dca73
Successfully tagged zededa/lisp:latest-arm64
Pushing zededa/lisp:latest-arm64
The push refers to a repository [docker.io/zededa/lisp]
60202587de00: Preparing
bec7a4831b69: Preparing
99b7cd413ed3: Preparing
a4a5c52df6b8: Preparing
5a108b9dc054: Preparing
54070777e7cf: Preparing
2a1a2f97e419: Preparing
262fdb2f7191: Preparing
dd58c41d6793: Preparing
42f65d3fc3bb: Preparing
0684225156a7: Preparing
2a1a2f97e419: Waiting
262fdb2f7191: Waiting
dd58c41d6793: Waiting
42f65d3fc3bb: Waiting
0684225156a7: Waiting
54070777e7cf: Waiting
60202587de00: Layer already exists
5a108b9dc054: Layer already exists
bec7a4831b69: Layer already exists
99b7cd413ed3: Layer already exists
a4a5c52df6b8: Layer already exists
262fdb2f7191: Layer already exists
dd58c41d6793: Layer already exists
54070777e7cf: Layer already exists
2a1a2f97e419: Layer already exists
42f65d3fc3bb: Layer already exists
0684225156a7: Layer already exists
latest-arm64: digest: sha256:932a8a25ef9cf9cfbe993fa4709adb3fd9683bd7097ad5dcf68af7abf9d4425b size: 2621
Pushing zededa/lisp:latest-arm64 to manifest zededa/lisp:latest
time="2018-12-23T08:00:21+01:00" level=warning msg="Couldn't find or access image reference \"zededa/lisp:latest-s390x\". Skipping image."
Digest: sha256:7620f0f2de0b092db2d1951bb1eb86e54e5886a1d02aef4dd1fa900af83a3aa2 743
Not signing zededa/lisp:latest
Build and push complete, not releasing, all done.
Building and pushing "zededa/ztools:b1a3a8a30838f1e0a75cdb3eb6f6f4d95ae4b150"
b1a3a8a30838f1e0a75cdb3eb6f6f4d95ae4b150: Pulling from zededa/ztools
Digest: sha256:78ba246dc9533a70e9c3e5a2fff58df124a08abcfb3192d2cc0478c52b997f01
Status: Image is up to date for zededa/ztools:b1a3a8a30838f1e0a75cdb3eb6f6f4d95ae4b150
Building and pushing "zededa/ztools:latest"
Sending build context to Docker daemon   46.2MB
Step 1/33 : FROM golang:1.9.1-alpine AS build
 ---> cc52d0ad4cce
Step 2/33 : RUN apk update
 ---> Using cache
 ---> 621195e9370a
Step 3/33 : RUN apk add --no-cache git gcc linux-headers libc-dev util-linux
 ---> Using cache
 ---> 43fab0f90810
Step 4/33 : ADD ./ /go/src/github.com/zededa/go-provision/
 ---> ba54281e5b9a
Step 5/33 : ADD etc /config
 ---> a534a5004700
Step 6/33 : ADD scripts/device-steps.sh scripts/find-uplink.sh scripts/generate-device.sh scripts/generate-self-signed.sh scripts/handlezedserverconfig.sh /opt/zededa/bin/
 ---> 07c6345d6fa4
Step 7/33 : ADD examples /opt/zededa/examples
 ---> 2e9d024c0e13
Step 8/33 : ADD AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> b9b7764e101b
Step 9/33 : ADD DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> 5252fc30480e
Step 10/33 : ADD lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> 6af2a363a452
Step 11/33 : RUN (cd ./src/github.com/zededa/go-provision/; scripts/getversion.sh >/opt/zededa/bin/versioninfo)
 ---> Running in f419c31ea4dd
 ---> b0b78c4640b6
Removing intermediate container f419c31ea4dd
Step 12/33 : RUN cp /opt/zededa/bin/versioninfo /opt/zededa/bin/versioninfo.1
 ---> Running in 1f6f85da6131
 ---> 31a65a3d5547
Removing intermediate container 1f6f85da6131
Step 13/33 : RUN echo Building: `cat /opt/zededa/bin/versioninfo`
 ---> Running in 19016c9f2d66
Building: 20180314-test-2091d28e-2018-12-23.07.01
 ---> ba50c69bcaad
Removing intermediate container 19016c9f2d66
Step 14/33 : RUN go install github.com/zededa/go-provision/zedbox/...
 ---> Running in 5ec780a732da
 ---> ef7ea4e8a4ea
Removing intermediate container 5ec780a732da
Step 15/33 : RUN cd /opt/zededa/bin ; ln -s /go/bin/* .
 ---> Running in f84d29964cc0
 ---> 4e9df7697209
Removing intermediate container f84d29964cc0
Step 16/33 : RUN cd /opt/zededa/bin ; ln -s zedbox client; ln -s zedbox domainmgr; ln -s zedbox downloader; ln -s zedbox hardwaremodel; ln -s zedbox identitymgr; ln -s zedbox ledmanager; ln -s zedbox logmanager; ln -s zedbox verifier; ln -s zedbox zedagent; ln -s zedbox zedmanager; ln -s zedbox zedrouter; ln -s zedbox ipcmonitor; ln -s zedbox nim; ln -s zedbox waitforaddr
 ---> Running in 887a73eed048
 ---> e510f605acb6
Removing intermediate container 887a73eed048
Step 17/33 : FROM zededa/lisp:latest AS lisp
 ---> 04cd2f1dca73
Step 18/33 : FROM scratch
 ---> 
Step 19/33 : COPY --from=build /opt/zededa/bin /opt/zededa/bin
 ---> 26ec74ebded7
Step 20/33 : COPY --from=build /opt/zededa/examples /opt/zededa/examples
 ---> 23e2eddd0847
Step 21/33 : COPY --from=build /var/tmp/zededa/AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> 24b1be3e2f88
Step 22/33 : COPY --from=build /var/tmp/zededa/DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> 020e484b420a
Step 23/33 : COPY --from=build /var/tmp/zededa/lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> 6d7b15a127d1
Step 24/33 : COPY --from=build /config /opt/zededa/examples/config
 ---> 64069b35f440
Step 25/33 : COPY --from=build /go/bin/* /opt/zededa/bin/
 ---> 03b3101f11fd
Step 26/33 : COPY --from=lisp /lisp/lisp-ztr /opt/zededa/bin/
 ---> ade913d6dfa3
Step 27/33 : COPY --from=lisp /lisp /opt/zededa/lisp/
 ---> cce260d7b0e4
Step 28/33 : COPY --from=lisp /usr/bin/pydoc /usr/bin/smtpd.py /usr/bin/python* /usr/bin/
 ---> 622a486fa6dd
Step 29/33 : COPY --from=lisp /usr/lib/libpython* /usr/lib/libffi.so* /usr/lib/
 ---> 607be4a6f78c
Step 30/33 : COPY --from=lisp /usr/lib/python2.7 /usr/lib/python2.7/
 ---> 80c8e01bcf6a
Step 31/33 : WORKDIR /opt/zededa/bin
 ---> 53cbd7b4ddcc
Removing intermediate container 34c4108b9a76
Step 32/33 : CMD /bin/ash
 ---> Running in 3db2e716d552
 ---> 38493a1c8acc
Removing intermediate container 3db2e716d552
Step 33/33 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '2091d28e07781ca723e6ff605f9b1d933fec92f7' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 3c88e936d1da
 ---> 2451cce6fa9b
Removing intermediate container 3c88e936d1da
Successfully built 2451cce6fa9b
Successfully tagged zededa/ztools:latest-arm64
Pushing zededa/ztools:latest-arm64
The push refers to a repository [docker.io/zededa/ztools]
980cb97851b2: Preparing
d8db4fc5873a: Preparing
cc02ee4e42ae: Preparing
3f0a1524dece: Preparing
2e3022ff213c: Preparing
bd9e91d05332: Preparing
b23717214e15: Preparing
0201f3dd32e5: Preparing
43504c5e46fa: Preparing
6c2ef2616b21: Preparing
fa40330b64eb: Preparing
b3a1185f627d: Preparing
43504c5e46fa: Waiting
fa40330b64eb: Waiting
bd9e91d05332: Waiting
b23717214e15: Waiting
0201f3dd32e5: Waiting
b3a1185f627d: Waiting
6c2ef2616b21: Waiting
cc02ee4e42ae: Pushed
d8db4fc5873a: Pushed
2e3022ff213c: Pushed
b23717214e15: Pushed
0201f3dd32e5: Pushed
3f0a1524dece: Pushed
bd9e91d05332: Pushed
43504c5e46fa: Pushed
fa40330b64eb: Pushed
6c2ef2616b21: Pushed
b3a1185f627d: Pushed
980cb97851b2: Pushed
latest-arm64: digest: sha256:4c5c6274ccc7106e0d6f88abaf934a57b90b3cc1bf919a34078ce79c8e3de825 size: 2828
Pushing zededa/ztools:latest-arm64 to manifest zededa/ztools:latest
time="2018-12-23T08:03:33+01:00" level=warning msg="Couldn't find or access image reference \"zededa/ztools:latest-s390x\". Skipping image."
Digest: sha256:cfbede87f8a3f9fe8dcff353f1ea68d85bc9097b53732675cf853f9743a09abd 743
Not signing zededa/ztools:latest
Build and push complete, not releasing, all done.
make: Entering directory '/home/zededa-ci/src/zenbuild/pkg'
(cd ..; ./parse-pkgs.sh pkg/qrexec-lib/Dockerfile.in > pkg/qrexec-lib/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/qrexec-dom0/Dockerfile.in > pkg/qrexec-dom0/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/zedctr/Dockerfile.in > pkg/zedctr/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/mkconf/Dockerfile.in > pkg/mkconf/Dockerfile)
Building and pushing "zededa/grub:10f9c3a840901f1888615c1c1ac5f8ce65e55b7e"
10f9c3a840901f1888615c1c1ac5f8ce65e55b7e: Pulling from zededa/grub
Digest: sha256:a7e14a159399d0459e31d4a0ed8d9674378a1ae89741a19e369a8abfcc61ee05
Status: Image is up to date for zededa/grub:10f9c3a840901f1888615c1c1ac5f8ce65e55b7e
Building and pushing "zededa/xen:f51bf3d17fad15b71242befbddec96e177132a99"
f51bf3d17fad15b71242befbddec96e177132a99: Pulling from zededa/xen
Digest: sha256:6f8b12b6f065654018994e94a902fc9cacc79ee89f9f08e7187983c2f4d28095
Status: Image is up to date for zededa/xen:f51bf3d17fad15b71242befbddec96e177132a99
Building and pushing "zededa/kernel:7b989ae20b664c80e4f7c52a6aa7c8228f3609aa"
7b989ae20b664c80e4f7c52a6aa7c8228f3609aa: Pulling from zededa/kernel
Digest: sha256:9ec5a052f0d4e2c87ace104281436cf6efdd56d42eb3650e3c67df69e23b154b
Status: Image is up to date for zededa/kernel:7b989ae20b664c80e4f7c52a6aa7c8228f3609aa
Building and pushing "zededa/fw:298163b691690b23d5db7c11e0cd69f6f1de57c7"
298163b691690b23d5db7c11e0cd69f6f1de57c7: Pulling from zededa/fw
Digest: sha256:3a83576b1ce62cce1b5040a537067d25917fedaf4baa0d7f94c4d7052abccb2f
Status: Image is up to date for zededa/fw:298163b691690b23d5db7c11e0cd69f6f1de57c7
Building and pushing "zededa/xen-tools:9c96b441d083d7ef7bcb602bf009fa91bd7ebbf2"
9c96b441d083d7ef7bcb602bf009fa91bd7ebbf2: Pulling from zededa/xen-tools
Digest: sha256:11e8ca7fb023acb3823fee4631667bfb65612d40778b1d55d0323dd3fb9ffeff
Status: Image is up to date for zededa/xen-tools:9c96b441d083d7ef7bcb602bf009fa91bd7ebbf2
Building and pushing "zededa/dnsmasq:c5985cdd83998d06255fe115d230a280c6928f1b"
c5985cdd83998d06255fe115d230a280c6928f1b: Pulling from zededa/dnsmasq
Digest: sha256:5538226a34dced0db54c64a1de4d6d3a4a0f2c515105facf5b20e4a97abe78b2
Status: Image is up to date for zededa/dnsmasq:c5985cdd83998d06255fe115d230a280c6928f1b
Building and pushing "zededa/strongswan:8f5ee3b98aa3ea49a9a4231baac9be933d6155ec"
8f5ee3b98aa3ea49a9a4231baac9be933d6155ec: Pulling from zededa/strongswan
Digest: sha256:b183b09d233b6455bd307b588e1daf800de4ed1e69eebe6bfafc5ece8291787d
Status: Image is up to date for zededa/strongswan:8f5ee3b98aa3ea49a9a4231baac9be933d6155ec
Building and pushing "zededa/gpt-tools:fe878611e4e032ea10946cbc9a1c3d5b22349dc4"
fe878611e4e032ea10946cbc9a1c3d5b22349dc4: Pulling from zededa/gpt-tools
Digest: sha256:2778c0f1eefac80bbf63b72721820ff95db243638024ea7447634013969b7ce1
Status: Image is up to date for zededa/gpt-tools:fe878611e4e032ea10946cbc9a1c3d5b22349dc4
Building and pushing "zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760"
c6d8f2123c748379add5d3dbbac23e3630131760: Pulling from zededa/dom0-ztools
Digest: sha256:c177a05c06b83e6438a3aee39ba3fcdfca821d2276c6e25e0ab6697184471710
Status: Image is up to date for zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760
Building and pushing "zededa/qrexec-lib:2e0df0df95f86df6953d7d2e7729213b77fd7206"
2e0df0df95f86df6953d7d2e7729213b77fd7206: Pulling from zededa/qrexec-lib
Digest: sha256:9ed46f2a158c6f900f41ebfeb107c71657737a01964e859e5b8019826a311a8f
Status: Image is up to date for zededa/qrexec-lib:2e0df0df95f86df6953d7d2e7729213b77fd7206
Building and pushing "zededa/qrexec-dom0:2c3cf9b135409690eaa86092c41f7c800d398468"
2c3cf9b135409690eaa86092c41f7c800d398468: Pulling from zededa/qrexec-dom0
Digest: sha256:7a6a1a64f2254649c38ca1ff24ecdacc6c62cafaf322eeee9cc41ba47181fe5b
Status: Image is up to date for zededa/qrexec-dom0:2c3cf9b135409690eaa86092c41f7c800d398468
Building and pushing "zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d"
5f68442251df0f2625fde14e947f11de2374b72d: Pulling from zededa/wwan
Digest: sha256:5127447e62d55c8047c02cf82714b52168c2ebd35941c67a40ce1d55d555d85d
Status: Image is up to date for zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d
Building and pushing "zededa/wlan:8aa66e76c276b97d1141801d3f461e2b3f8f8f97"
8aa66e76c276b97d1141801d3f461e2b3f8f8f97: Pulling from zededa/wlan
Digest: sha256:4c77458c273c81d5694d5b4e21a9a203f1dba6296d670e1f6cdd5ada7f9235e6
Status: Image is up to date for zededa/wlan:8aa66e76c276b97d1141801d3f461e2b3f8f8f97
Building and pushing "zededa/watchdog:2aea3af274e4928d2eab2b738d0e100ee5362173"
2aea3af274e4928d2eab2b738d0e100ee5362173: Pulling from zededa/watchdog
Digest: sha256:1b797e00f5eab9f84d53e521bfa95f24a175674b071a25fdfce2e59dde75f805
Status: Image is up to date for zededa/watchdog:2aea3af274e4928d2eab2b738d0e100ee5362173
Building and pushing "zededa/guacd:1bdc3c8ca55db141372b1a12daf7d12c04866eed"
1bdc3c8ca55db141372b1a12daf7d12c04866eed: Pulling from zededa/guacd
Digest: sha256:52b491eb676737c52c4dfc4fd6ff1b36d564ecd9278080b17fab005d875560cf
Status: Image is up to date for zededa/guacd:1bdc3c8ca55db141372b1a12daf7d12c04866eed
Building and pushing "zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d"
1bca882c64827de08bba9aa7713441b2b4d7ca8d: Pulling from zededa/device-trees
Digest: sha256:cbed1a5fce79eea8f55ce4e275960b1f6e0ebd6ac9d087b464e0691127dd4c20
Status: Image is up to date for zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d
Building and pushing "zededa/debug:3aeeaf4e04f450283d49220eb7e82262b4531687"
3aeeaf4e04f450283d49220eb7e82262b4531687: Pulling from zededa/debug
Digest: sha256:acf47fcb3817dcd101001cefa6429880fa8c73f3dda208fdfdb01b7f72934591
Status: Image is up to date for zededa/debug:3aeeaf4e04f450283d49220eb7e82262b4531687
Building and pushing "zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d"
0f38bbbff95eae348a92e87e837455ad8b4cee6d: Pulling from zededa/zedctr
Digest: sha256:3cd6462731ca1ab15af8e8777fe1e4476338d4dc2a83f74133871255124ad2d9
Status: Downloaded newer image for zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d
Building and pushing "zededa/conf:5905e588128d59fe44d6c37768b101def09e73d6"
5905e588128d59fe44d6c37768b101def09e73d6: Pulling from zededa/conf
Digest: sha256:cf1f9ee6faa3591eec8b6ad242995379f0e4724a1552f78c530935f640a552d1
Status: Image is up to date for zededa/conf:5905e588128d59fe44d6c37768b101def09e73d6
Building and pushing "zededa/mkrootfs-ext4:5f77cd6a2b87a3a9927593763da1941dbed1ce80"
5f77cd6a2b87a3a9927593763da1941dbed1ce80: Pulling from zededa/mkrootfs-ext4
Digest: sha256:0883dbb96270dd622fec7433c2c8662c573955bf8c07c0c7f4a1e3ce6d73b5ba
Status: Image is up to date for zededa/mkrootfs-ext4:5f77cd6a2b87a3a9927593763da1941dbed1ce80
Building and pushing "zededa/mkrootfs-squash:b47d705603f5f0d3765b03cf583e1a7fd287f212"
b47d705603f5f0d3765b03cf583e1a7fd287f212: Pulling from zededa/mkrootfs-squash
Digest: sha256:7f807f091c04558888bd6e64767abd19597c33c1f90b4eb98e6370fc6d760660
Status: Image is up to date for zededa/mkrootfs-squash:b47d705603f5f0d3765b03cf583e1a7fd287f212
Building and pushing "zededa/mkimage-raw-efi:932773aae8f4bb3de7651b9a8a60d9cf3104fce5"
932773aae8f4bb3de7651b9a8a60d9cf3104fce5: Pulling from zededa/mkimage-raw-efi
Digest: sha256:15bcab8309c0fc9096d0962dba2645462526d06ed086a470ba8837179edd6b29
Status: Image is up to date for zededa/mkimage-raw-efi:932773aae8f4bb3de7651b9a8a60d9cf3104fce5
Building and pushing "zededa/mkimage-iso-efi:49a6ff8320ce088460c8acb6f36bc15b15d800e9"
49a6ff8320ce088460c8acb6f36bc15b15d800e9: Pulling from zededa/mkimage-iso-efi
Digest: sha256:b56338e3f6e0558461357eb72f411e2d3618fc269fc58612febd21b6d873a17e
Status: Image is up to date for zededa/mkimage-iso-efi:49a6ff8320ce088460c8acb6f36bc15b15d800e9
make: Leaving directory '/home/zededa-ci/src/zenbuild/pkg'
make: Entering directory '/home/zededa-ci/src/zenbuild/pkg'
(cd ..; ./parse-pkgs.sh pkg/zedctr//Dockerfile.in > pkg/zedctr//Dockerfile)
Building and pushing "zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d"
Sending build context to Docker daemon  20.48kB
Step 1/21 : FROM zededa/ztools:latest as ztools
 ---> 081e0efa7669
Step 2/21 : FROM zededa/xen-tools:9c96b441d083d7ef7bcb602bf009fa91bd7ebbf2-arm64 as xen-tools
 ---> 194a0d29c96f
Step 3/21 : FROM zededa/dnsmasq:c5985cdd83998d06255fe115d230a280c6928f1b-arm64 as dnsmasq
 ---> 85ce87902c8e
Step 4/21 : FROM zededa/strongswan:8f5ee3b98aa3ea49a9a4231baac9be933d6155ec-arm64 as strongswan
 ---> 2e11606a1b07
Step 5/21 : FROM zededa/gpt-tools:fe878611e4e032ea10946cbc9a1c3d5b22349dc4-arm64 as gpttools
 ---> 245b06fc67fd
Step 6/21 : FROM zededa/watchdog:2aea3af274e4928d2eab2b738d0e100ee5362173-arm64 as watchdog
 ---> 2682e16114b6
Step 7/21 : FROM alpine:3.8
 ---> 637f35dd3ce4
Step 8/21 : RUN apk add --no-cache     yajl xz bash openssl iptables ip6tables iproute2 dhcpcd     apk-cron coreutils dmidecode sudo libbz2 libuuid ipset     libpcap libaio logrotate pixman glib curl radvd perl ethtool     openssh-server util-linux e2fsprogs libcrypto1.0 xorriso
 ---> Running in f9bd0491c683
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/aarch64/APKINDEX.tar.gz
(1/62) Installing apk-cron (1.0-r1)
(2/62) Installing ncurses-terminfo-base (6.1_p20180818-r1)
(3/62) Installing ncurses-terminfo (6.1_p20180818-r1)
(4/62) Installing ncurses-libs (6.1_p20180818-r1)
(5/62) Installing readline (7.0.003-r0)
(6/62) Installing bash (4.4.19-r1)
Executing bash-4.4.19-r1.post-install
(7/62) Installing libattr (2.4.47-r7)
(8/62) Installing libacl (2.2.52-r5)
(9/62) Installing coreutils (8.29-r2)
(10/62) Installing ca-certificates (20171114-r3)
(11/62) Installing nghttp2-libs (1.32.0-r0)
(12/62) Installing libssh2 (1.8.0-r3)
(13/62) Installing libcurl (7.61.1-r1)
(14/62) Installing curl (7.61.1-r1)
(15/62) Installing dhcpcd (7.0.7-r0)
(16/62) Installing dmidecode (3.1-r0)
(17/62) Installing libuuid (2.32-r0)
(18/62) Installing libblkid (2.32-r0)
(19/62) Installing libcom_err (1.44.2-r0)
(20/62) Installing e2fsprogs-libs (1.44.2-r0)
(21/62) Installing e2fsprogs (1.44.2-r0)
(22/62) Installing ethtool (4.16-r0)
(23/62) Installing libffi (3.2.1-r4)
(24/62) Installing libintl (0.19.8.1-r2)
(25/62) Installing libmount (2.32-r0)
(26/62) Installing pcre (8.42-r0)
(27/62) Installing glib (2.56.1-r0)
(28/62) Installing libmnl (1.0.4-r0)
(29/62) Installing jansson (2.11-r0)
(30/62) Installing libnftnl-libs (1.1.1-r0)
(31/62) Installing iptables (1.6.2-r0)
(32/62) Installing ip6tables (1.6.2-r0)
(33/62) Installing libelf (0.8.13-r3)
(34/62) Installing iproute2 (4.13.0-r0)
Executing iproute2-4.13.0-r0.post-install
(35/62) Installing ipset (6.38-r1)
(36/62) Installing libaio (0.3.111-r0)
(37/62) Installing libbz2 (1.0.6-r6)
(38/62) Installing libcrypto1.0 (1.0.2q-r0)
(39/62) Installing libpcap (1.8.1-r1)
(40/62) Installing popt (1.16-r7)
(41/62) Installing logrotate (3.14.0-r0)
(42/62) Installing openssh-keygen (7.7_p1-r3)
(43/62) Installing openssh-server-common (7.7_p1-r3)
(44/62) Installing openssh-server (7.7_p1-r3)
(45/62) Installing libssl1.0 (1.0.2q-r0)
(46/62) Installing openssl (1.0.2q-r0)
(47/62) Installing perl (5.26.3-r0)
(48/62) Installing pixman (0.34.0-r5)
(49/62) Installing radvd (2.17-r2)
Executing radvd-2.17-r2.pre-install
(50/62) Installing sudo (1.8.23-r2)
(51/62) Installing libsmartcols (2.32-r0)
(52/62) Installing findmnt (2.32-r0)
(53/62) Installing libfdisk (2.32-r0)
(54/62) Installing util-linux (2.32-r0)
(55/62) Installing libburn (1.4.8-r0)
(56/62) Installing libedit (20170329.3.1-r3)
(57/62) Installing libisofs (1.4.8-r0)
(58/62) Installing libisoburn (1.4.8-r0)
(59/62) Installing xorriso (1.4.8-r0)
(60/62) Installing xz-libs (5.2.4-r0)
(61/62) Installing xz (5.2.4-r0)
(62/62) Installing yajl (2.1.0-r0)
Executing busybox-1.28.4-r1.trigger
Executing ca-certificates-20171114-r3.trigger
Executing glib-2.56.1-r0.trigger
OK: 72 MiB in 75 packages
 ---> 70b49c971eaa
Removing intermediate container f9bd0491c683
Step 9/21 : RUN [ `uname -m` = "aarch64" ] && apk add --no-cache libfdt || :
 ---> Running in 02cf09a12fb8
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/aarch64/APKINDEX.tar.gz
(1/1) Installing libfdt (1.4.4-r0)
OK: 72 MiB in 76 packages
 ---> f9e264a1b148
Removing intermediate container 02cf09a12fb8
Step 10/21 : RUN ln -s libpcap.so.1 /usr/lib/libpcap.so
 ---> Running in 7b0a3659ae6a
 ---> 7fb1bb45af81
Removing intermediate container 7b0a3659ae6a
Step 11/21 : RUN ssh-keygen -A ; echo PermitRootLogin yes >> /etc/ssh/sshd_config ; sed -ie '/^root/s#^.*$#root:$6$Ndt1G5AYZFQ8rz7m$7vGZMKKotSYxwxk/.jMfuOCzxw0I3DNedygaQaLF7kYSYsLqiBHhmc8RJSXp8/VxSYPpgYSz/8fkv0hO6I4js.:17477:0:::::#' /etc/shadow
 ---> Running in 8742561cfb3f
ssh-keygen: generating new host keys: RSA DSA ECDSA ED25519 
 ---> 0b9b984b44f8
Removing intermediate container 8742561cfb3f
Step 12/21 : COPY --from=xen-tools / /
 ---> 0faf41e4ba19
Step 13/21 : COPY --from=ztools / /
 ---> ca893b11330b
Step 14/21 : COPY --from=gpttools / /
 ---> b926cdd49cec
Step 15/21 : COPY --from=dnsmasq /usr/sbin/dnsmasq /opt/zededa/bin/dnsmasq
 ---> dbbe74653baf
Step 16/21 : COPY --from=strongswan / /
 ---> 3fdae3d4bcc9
Step 17/21 : COPY --from=watchdog /usr/sbin /usr/sbin
 ---> 1dd4329d5949
Step 18/21 : COPY rootfs/ /
 ---> df63d658f3ee
Step 19/21 : RUN chmod 644 /etc/logrotate.d/zededa
 ---> Running in 306fcd9d7b26
 ---> 23eaed61a71e
Removing intermediate container 306fcd9d7b26
Step 20/21 : CMD /init.sh
 ---> Running in 277d7eabc074
 ---> ca0fc92def9e
Removing intermediate container 277d7eabc074
Step 21/21 : LABEL org.mobyproject.config '{"capabilities":["all"],"binds":["/dev:/dev","/etc/resolv.conf:/etc/resolv.conf","/run:/run","/var/config:/config","/var/log:/var/log/dom0","/:/hostfs"],"net":"host","pid":"host"}' org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '987c2a3afd89dab565c6ccee61c958fd5b2c767f' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in ecdbf8fe6860
 ---> 6448dedf1a8e
Removing intermediate container ecdbf8fe6860
Successfully built 6448dedf1a8e
Successfully tagged zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d-arm64
Pushing zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d-arm64
The push refers to a repository [docker.io/zededa/zedctr]
7d5fc6efe9e0: Preparing
e63ef7d536a4: Preparing
c2c99f72275e: Preparing
00cba3a0aa9b: Preparing
543b981cbc5d: Preparing
7623d8ef8a4d: Preparing
400d5a602195: Preparing
db8490710088: Preparing
6195d5a8b97e: Preparing
4f5a3663e579: Preparing
1dd186342a4c: Preparing
42f65d3fc3bb: Preparing
0684225156a7: Preparing
db8490710088: Waiting
1dd186342a4c: Waiting
0684225156a7: Waiting
42f65d3fc3bb: Waiting
7623d8ef8a4d: Waiting
4f5a3663e579: Waiting
6195d5a8b97e: Waiting
400d5a602195: Waiting
c2c99f72275e: Layer already exists
543b981cbc5d: Layer already exists
7d5fc6efe9e0: Layer already exists
400d5a602195: Layer already exists
7623d8ef8a4d: Layer already exists
db8490710088: Pushed
e63ef7d536a4: Pushed
00cba3a0aa9b: Pushed
6195d5a8b97e: Pushed
42f65d3fc3bb: Layer already exists
4f5a3663e579: Pushed
0684225156a7: Layer already exists
1dd186342a4c: Pushed
0f38bbbff95eae348a92e87e837455ad8b4cee6d-arm64: digest: sha256:48cedaff3f9086a9a853bbddbc2fbf8810f5ca127437e7cacb8ad5103552507e size: 3047
Pushing zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d-arm64 to manifest zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d
time="2018-12-23T08:05:50+01:00" level=warning msg="Couldn't find or access image reference \"zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d-s390x\". Skipping image."
Digest: sha256:22e3274164a2b59672dde5626452c19576119e44789e4b8b5f080fd96a759f4e 743
Not signing zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d
Build and push complete, not releasing, all done.
make: Leaving directory '/home/zededa-ci/src/zenbuild/pkg'
make: Entering directory '/home/zededa-ci/src/zenbuild/build-pkgs'
Building and pushing "zededa/build-pkgs_abuild:7ae4d9f9fa290963de466d5ed96d6c9318354824"
7ae4d9f9fa290963de466d5ed96d6c9318354824: Pulling from zededa/build-pkgs_abuild
Digest: sha256:29cb5d3b6d6ac25de0cd7db7f7eedbffd4f3391a4b0c8c0b4ce6d943bab997b8
Status: Image is up to date for zededa/build-pkgs_abuild:7ae4d9f9fa290963de466d5ed96d6c9318354824
Building and pushing "zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693"
a3362428c518fb4db1a136a961bd17e8a66fb693: Pulling from zededa/build-pkgs_uefi
Digest: sha256:3112c8cbfdfab4cae4b47267749843762e2d75600f3e267a7ba9643724d40564
Status: Image is up to date for zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693
make: Leaving directory '/home/zededa-ci/src/zenbuild/build-pkgs'
cd bios ; _() { C=`docker create $1 fake` ; docker export $C | tar -xf - $2 ; docker rm $C ; } ; _ zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693-arm64 OVMF.fd
476532d187a187cea5dd27e1d4f0974333a4540d53c9e575854f31d63e739ea7
make -C build-tools all
make[1]: Entering directory '/home/zededa-ci/src/zenbuild/build-tools'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/home/zededa-ci/src/zenbuild/build-tools'
tee: /dev/tty: No such device or address
make[1]: Entering directory '/home/zededa-ci/src/zenbuild/pkg'
(cd ..; ./parse-pkgs.sh pkg/zedctr//Dockerfile.in > pkg/zedctr//Dockerfile)
Building and pushing "zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d"
Sending build context to Docker daemon  20.48kB
Step 1/21 : FROM zededa/ztools:latest as ztools
 ---> 2451cce6fa9b
Step 2/21 : FROM zededa/xen-tools:9c96b441d083d7ef7bcb602bf009fa91bd7ebbf2-arm64 as xen-tools
 ---> 194a0d29c96f
Step 3/21 : FROM zededa/dnsmasq:c5985cdd83998d06255fe115d230a280c6928f1b-arm64 as dnsmasq
 ---> 85ce87902c8e
Step 4/21 : FROM zededa/strongswan:8f5ee3b98aa3ea49a9a4231baac9be933d6155ec-arm64 as strongswan
 ---> 2e11606a1b07
Step 5/21 : FROM zededa/gpt-tools:fe878611e4e032ea10946cbc9a1c3d5b22349dc4-arm64 as gpttools
 ---> 245b06fc67fd
Step 6/21 : FROM zededa/watchdog:2aea3af274e4928d2eab2b738d0e100ee5362173-arm64 as watchdog
 ---> 2682e16114b6
Step 7/21 : FROM alpine:3.8
 ---> 637f35dd3ce4
Step 8/21 : RUN apk add --no-cache     yajl xz bash openssl iptables ip6tables iproute2 dhcpcd     apk-cron coreutils dmidecode sudo libbz2 libuuid ipset     libpcap libaio logrotate pixman glib curl radvd perl ethtool     openssh-server util-linux e2fsprogs libcrypto1.0 xorriso
 ---> Running in 1e42686f7e06
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/aarch64/APKINDEX.tar.gz
(1/62) Installing apk-cron (1.0-r1)
(2/62) Installing ncurses-terminfo-base (6.1_p20180818-r1)
(3/62) Installing ncurses-terminfo (6.1_p20180818-r1)
(4/62) Installing ncurses-libs (6.1_p20180818-r1)
(5/62) Installing readline (7.0.003-r0)
(6/62) Installing bash (4.4.19-r1)
Executing bash-4.4.19-r1.post-install
(7/62) Installing libattr (2.4.47-r7)
(8/62) Installing libacl (2.2.52-r5)
(9/62) Installing coreutils (8.29-r2)
(10/62) Installing ca-certificates (20171114-r3)
(11/62) Installing nghttp2-libs (1.32.0-r0)
(12/62) Installing libssh2 (1.8.0-r3)
(13/62) Installing libcurl (7.61.1-r1)
(14/62) Installing curl (7.61.1-r1)
(15/62) Installing dhcpcd (7.0.7-r0)
(16/62) Installing dmidecode (3.1-r0)
(17/62) Installing libuuid (2.32-r0)
(18/62) Installing libblkid (2.32-r0)
(19/62) Installing libcom_err (1.44.2-r0)
(20/62) Installing e2fsprogs-libs (1.44.2-r0)
(21/62) Installing e2fsprogs (1.44.2-r0)
(22/62) Installing ethtool (4.16-r0)
(23/62) Installing libffi (3.2.1-r4)
(24/62) Installing libintl (0.19.8.1-r2)
(25/62) Installing libmount (2.32-r0)
(26/62) Installing pcre (8.42-r0)
(27/62) Installing glib (2.56.1-r0)
(28/62) Installing libmnl (1.0.4-r0)
(29/62) Installing jansson (2.11-r0)
(30/62) Installing libnftnl-libs (1.1.1-r0)
(31/62) Installing iptables (1.6.2-r0)
(32/62) Installing ip6tables (1.6.2-r0)
(33/62) Installing libelf (0.8.13-r3)
(34/62) Installing iproute2 (4.13.0-r0)
Executing iproute2-4.13.0-r0.post-install
(35/62) Installing ipset (6.38-r1)
(36/62) Installing libaio (0.3.111-r0)
(37/62) Installing libbz2 (1.0.6-r6)
(38/62) Installing libcrypto1.0 (1.0.2q-r0)
(39/62) Installing libpcap (1.8.1-r1)
(40/62) Installing popt (1.16-r7)
(41/62) Installing logrotate (3.14.0-r0)
(42/62) Installing openssh-keygen (7.7_p1-r3)
(43/62) Installing openssh-server-common (7.7_p1-r3)
(44/62) Installing openssh-server (7.7_p1-r3)
(45/62) Installing libssl1.0 (1.0.2q-r0)
(46/62) Installing openssl (1.0.2q-r0)
(47/62) Installing perl (5.26.3-r0)
(48/62) Installing pixman (0.34.0-r5)
(49/62) Installing radvd (2.17-r2)
Executing radvd-2.17-r2.pre-install
(50/62) Installing sudo (1.8.23-r2)
(51/62) Installing libsmartcols (2.32-r0)
(52/62) Installing findmnt (2.32-r0)
(53/62) Installing libfdisk (2.32-r0)
(54/62) Installing util-linux (2.32-r0)
(55/62) Installing libburn (1.4.8-r0)
(56/62) Installing libedit (20170329.3.1-r3)
(57/62) Installing libisofs (1.4.8-r0)
(58/62) Installing libisoburn (1.4.8-r0)
(59/62) Installing xorriso (1.4.8-r0)
(60/62) Installing xz-libs (5.2.4-r0)
(61/62) Installing xz (5.2.4-r0)
(62/62) Installing yajl (2.1.0-r0)
Executing busybox-1.28.4-r1.trigger
Executing ca-certificates-20171114-r3.trigger
Executing glib-2.56.1-r0.trigger
OK: 72 MiB in 75 packages
 ---> 705b017e66ad
Removing intermediate container 1e42686f7e06
Step 9/21 : RUN [ `uname -m` = "aarch64" ] && apk add --no-cache libfdt || :
 ---> Running in 5dc4453397de
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/aarch64/APKINDEX.tar.gz
(1/1) Installing libfdt (1.4.4-r0)
OK: 72 MiB in 76 packages
 ---> 8fb5097f8f12
Removing intermediate container 5dc4453397de
Step 10/21 : RUN ln -s libpcap.so.1 /usr/lib/libpcap.so
 ---> Running in 193deac7f7b5
 ---> e3063a8e7951
Removing intermediate container 193deac7f7b5
Step 11/21 : RUN ssh-keygen -A ; echo PermitRootLogin yes >> /etc/ssh/sshd_config ; sed -ie '/^root/s#^.*$#root:$6$Ndt1G5AYZFQ8rz7m$7vGZMKKotSYxwxk/.jMfuOCzxw0I3DNedygaQaLF7kYSYsLqiBHhmc8RJSXp8/VxSYPpgYSz/8fkv0hO6I4js.:17477:0:::::#' /etc/shadow
 ---> Running in 4c6991747712
ssh-keygen: generating new host keys: RSA DSA ECDSA ED25519 
 ---> 32e55da66ed1
Removing intermediate container 4c6991747712
Step 12/21 : COPY --from=xen-tools / /
 ---> c4c10335050b
Step 13/21 : COPY --from=ztools / /
 ---> 8b1468fbb6e1
Step 14/21 : COPY --from=gpttools / /
 ---> 7e5d3e98a0d3
Step 15/21 : COPY --from=dnsmasq /usr/sbin/dnsmasq /opt/zededa/bin/dnsmasq
 ---> 3f4de11d9341
Step 16/21 : COPY --from=strongswan / /
 ---> f590ca5625fd
Step 17/21 : COPY --from=watchdog /usr/sbin /usr/sbin
 ---> 187b12ec7f72
Step 18/21 : COPY rootfs/ /
 ---> 103b5800f474
Step 19/21 : RUN chmod 644 /etc/logrotate.d/zededa
 ---> Running in 2bb876d42939
 ---> ad63046bd517
Removing intermediate container 2bb876d42939
Step 20/21 : CMD /init.sh
 ---> Running in 7b049af0bcd7
 ---> 1cf06cda7418
Removing intermediate container 7b049af0bcd7
Step 21/21 : LABEL org.mobyproject.config '{"capabilities":["all"],"binds":["/dev:/dev","/etc/resolv.conf:/etc/resolv.conf","/run:/run","/var/config:/config","/var/log:/var/log/dom0","/:/hostfs"],"net":"host","pid":"host"}' org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '987c2a3afd89dab565c6ccee61c958fd5b2c767f' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in aef991a39a54
 ---> 8342ed2d8989
Removing intermediate container aef991a39a54
Successfully built 8342ed2d8989
Successfully tagged zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d-arm64
Pushing zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d-arm64
The push refers to a repository [docker.io/zededa/zedctr]
7d5fc6efe9e0: Preparing
71d9a25c92ec: Preparing
c2c99f72275e: Preparing
e685e48e0a98: Preparing
543b981cbc5d: Preparing
9cc93debc6c7: Preparing
400d5a602195: Preparing
13fbcac07bdb: Preparing
9cc93debc6c7: Waiting
400d5a602195: Waiting
6c2bfbfbb981: Preparing
13fbcac07bdb: Waiting
6c2bfbfbb981: Waiting
3ff3eab0eefa: Preparing
294a699c8da9: Preparing
42f65d3fc3bb: Preparing
3ff3eab0eefa: Waiting
0684225156a7: Preparing
42f65d3fc3bb: Waiting
0684225156a7: Waiting
7d5fc6efe9e0: Layer already exists
c2c99f72275e: Layer already exists
543b981cbc5d: Layer already exists
400d5a602195: Layer already exists
71d9a25c92ec: Pushed
e685e48e0a98: Pushed
13fbcac07bdb: Pushed
6c2bfbfbb981: Pushed
42f65d3fc3bb: Layer already exists
0684225156a7: Layer already exists
3ff3eab0eefa: Pushed
294a699c8da9: Pushed
9cc93debc6c7: Pushed
0f38bbbff95eae348a92e87e837455ad8b4cee6d-arm64: digest: sha256:59b718603b3802f489933e6e548ca82cef7ffdfe5f4df79103900eab35ee2c37 size: 3047
Pushing zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d-arm64 to manifest zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d
time="2018-12-23T08:07:41+01:00" level=warning msg="Couldn't find or access image reference \"zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d-s390x\". Skipping image."
Digest: sha256:c08cb81fbc23f62241f0e6861e18ff3266a581ffcf40102651dac2aba4b9ac78 743
Not signing zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d
Build and push complete, not releasing, all done.
make[1]: Leaving directory '/home/zededa-ci/src/zenbuild/pkg'
DOCKER_ARCH_TAG="arm64" ./parse-pkgs.sh images/installer.yml.in > images/installer.yml
# the following is a horrible hack that needs to go away ASAP
if [ "aarch64" != `uname -m` ] ; then \
           sed -e '/source:/s#rootfs.img#rootfs_aarch64.img#' \
               -e '/command:/s#/dev/sda#/dev/vda#' -i.orig images/installer.yml ;\
   echo "WARNING: We are assembling a aarch64 image on `uname -m`. Things may break." ;\
        fi
DOCKER_ARCH_TAG="arm64" ./parse-pkgs.sh images/rootfs.yml.in > images/rootfs.yml
# the following is a horrible hack that needs to go away ASAP
if [ "aarch64" != `uname -m` ] ; then \
           sed -e '/source:/s#rootfs.img#rootfs_aarch64.img#' \
               -e '/command:/s#/dev/sda#/dev/vda#' -i.orig images/rootfs.yml ;\
   echo "WARNING: We are assembling a aarch64 image on `uname -m`. Things may break." ;\
        fi
./makerootfs.sh images/rootfs.yml squash rootfs_aarch64.img
Extract kernel image: zededa/kernel:7b989ae20b664c80e4f7c52a6aa7c8228f3609aa-arm64
Add init containers:
Process init image: zededa/grub:10f9c3a840901f1888615c1c1ac5f8ce65e55b7e-arm64
Process init image: zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d-arm64
Process init image: zededa/fw:298163b691690b23d5db7c11e0cd69f6f1de57c7-arm64
Process init image: zededa/xen:f51bf3d17fad15b71242befbddec96e177132a99-arm64
Process init image: zededa/gpt-tools:fe878611e4e032ea10946cbc9a1c3d5b22349dc4-arm64
Process init image: zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760-arm64
Process init image: linuxkit/init:v0.5
Process init image: linuxkit/runc:v0.5
Process init image: linuxkit/containerd:v0.5
Process init image: linuxkit/getty:v0.5
Add onboot containers:
  Create OCI config for linuxkit/sysctl:v0.5
  Create OCI config for linuxkit/modprobe:v0.5
  Create OCI config for linuxkit/mount:v0.5
Add service containers:
  Create OCI config for linuxkit/openntpd:v0.5
  Create OCI config for zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d-arm64
  Create OCI config for zededa/wlan:8aa66e76c276b97d1141801d3f461e2b3f8f8f97-arm64
  Create OCI config for zededa/guacd:1bdc3c8ca55db141372b1a12daf7d12c04866eed-arm64
  Create OCI config for zededa/zedctr:0f38bbbff95eae348a92e87e837455ad8b4cee6d-arm64
Add files:
  /containers/services/zededa-tools/lower/opt/zededa/bin/versioninfo
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[/                                                           ]     0/17595   0%[-                                                           ]   100/17595   0%[============\                                               ]  3800/17595  21%[==================================================|         ] 15200/17595  86%[===========================================================\] 17595/17595 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 192564.25 Kbytes (188.05 Mbytes)
	31.76% of uncompressed filesystem size (606220.80 Kbytes)
Inode table size 185880 bytes (181.52 Kbytes)
	26.00% of uncompressed inode table size (714809 bytes)
Directory table size 192273 bytes (187.77 Kbytes)
	45.00% of uncompressed directory table size (427300 bytes)
Number of duplicate files found 4493
Number of inodes 18912
Number of files 13865
Number of fragments 750
Number of symbolic links  3447
Number of device nodes 8
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 1592
Number of ids (unique uids + gids) 3
Number of uids 1
	root (0)
Number of gids 3
	root (0)
	shadow (42)
	tty (5)
./makeiso.sh images/installer.yml installer_aarch64.iso
Extract kernel image: zededa/kernel:7b989ae20b664c80e4f7c52a6aa7c8228f3609aa-arm64
Add init containers:
Process init image: zededa/grub:10f9c3a840901f1888615c1c1ac5f8ce65e55b7e-arm64
Process init image: zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d-arm64
Process init image: zededa/xen:f51bf3d17fad15b71242befbddec96e177132a99-arm64
Process init image: linuxkit/init:v0.5
Process init image: linuxkit/runc:v0.5
Process init image: linuxkit/getty:v0.5
Add onboot containers:
  Create OCI config for zededa/mkimage-raw-efi:932773aae8f4bb3de7651b9a8a60d9cf3104fce5-arm64
Add files:
  /bits/config.img
  /bits/rootfs.img
time="2018-12-23T08:10:25+01:00" level=fatal msg="failed to add filesystem parts: open rootfs.img: no such file or directory"
xorriso 1.4.6 : RockRidge filesystem manipulator, libburnia project.

Drive current: -outdev 'stdio:linuxkit-efi.iso'
Media current: stdio file, overwriteable
Media status : is blank
Media summary: 0 sessions, 0 data blocks, 0 data,  876g free
Added to ISO image: directory '/'='/tmp/efi'
xorriso : UPDATE : 7488 files added in 1 seconds
xorriso : UPDATE : 7488 files added in 1 seconds
libisofs: NOTE : Cannot arrange content of data files in surely reproducible way
xorriso : UPDATE :  9.94% done
ISO image produced: 110703 sectors
Written to medium : 110703 sectors at LBA 0
Writing to 'stdio:linuxkit-efi.iso' completed successfully.

./makerootfs.sh images/installer.yml squash rootfs_aarch64.img_installer.img
Extract kernel image: zededa/kernel:7b989ae20b664c80e4f7c52a6aa7c8228f3609aa-arm64
Add init containers:
Process init image: zededa/grub:10f9c3a840901f1888615c1c1ac5f8ce65e55b7e-arm64
Process init image: zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d-arm64
Process init image: zededa/xen:f51bf3d17fad15b71242befbddec96e177132a99-arm64
Process init image: linuxkit/init:v0.5
Process init image: linuxkit/runc:v0.5
Process init image: linuxkit/getty:v0.5
Add onboot containers:
  Create OCI config for zededa/mkimage-raw-efi:932773aae8f4bb3de7651b9a8a60d9cf3104fce5-arm64
Add files:
  /bits/config.img
  /bits/rootfs.img
time="2018-12-23T08:11:17+01:00" level=fatal msg="failed to add filesystem parts: open rootfs.img: no such file or directory"
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[=========================-                                    ] 2400/5653  42%[=============================================================|] 5653/5653 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 75828.05 Kbytes (74.05 Mbytes)
	35.37% of uncompressed filesystem size (214376.15 Kbytes)
Inode table size 59193 bytes (57.81 Kbytes)
	25.67% of uncompressed inode table size (230550 bytes)
Directory table size 63130 bytes (61.65 Kbytes)
	44.91% of uncompressed directory table size (140585 bytes)
Number of duplicate files found 1438
Number of inodes 5446
Number of files 4195
Number of fragments 150
Number of symbolic links  911
Number of device nodes 2
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 338
Number of ids (unique uids + gids) 3
Number of uids 1
	root (0)
Number of gids 3
	root (0)
	shadow (42)
	tty (5)
tar c rootfs_aarch64.img_installer.img config.img | ./makeflash.sh -C 350 installer_aarch64.raw "efi imga conf_win"
1+0 records in
1+0 records out
1 byte copied, 0.022312 s, 0.0 kB/s
Warning: The kernel is still using the old partition table.
The new table will be used at the next reboot or after you
run partprobe(8) or kpartx(8)
The operation has completed successfully.
Setting name!
partNum is 0
Warning: The kernel is still using the old partition table.
The new table will be used at the next reboot or after you
run partprobe(8) or kpartx(8)
The operation has completed successfully.
Setting name!
partNum is 1
Warning: The kernel is still using the old partition table.
The new table will be used at the next reboot or after you
run partprobe(8) or kpartx(8)
The operation has completed successfully.
Setting name!
partNum is 3
Warning: The kernel is still using the old partition table.
The new table will be used at the next reboot or after you
run partprobe(8) or kpartx(8)
The operation has completed successfully.
rm rootfs_aarch64.img_installer.img
tar c rootfs_aarch64.img config.img | ./makeflash.sh -C 8192 fallback_aarch64.raw
1+0 records in
1+0 records out
1 byte copied, 0.000149105 s, 6.7 kB/s
Creating new GPT entries.
Warning: The kernel is still using the old partition table.
The new table will be used at the next reboot or after you
run partprobe(8) or kpartx(8)
The operation has completed successfully.
Setting name!
partNum is 0
Warning: The kernel is still using the old partition table.
The new table will be used at the next reboot or after you
run partprobe(8) or kpartx(8)
The operation has completed successfully.
Setting name!
partNum is 1
Warning: The kernel is still using the old partition table.
The new table will be used at the next reboot or after you
run partprobe(8) or kpartx(8)
The operation has completed successfully.
Setting name!
partNum is 2
Warning: The kernel is still using the old partition table.
The new table will be used at the next reboot or after you
run partprobe(8) or kpartx(8)
The operation has completed successfully.
Setting name!
partNum is 3
Warning: The kernel is still using the old partition table.
The new table will be used at the next reboot or after you
run partprobe(8) or kpartx(8)
The operation has completed successfully.
Setting name!
partNum is 8
Warning: The kernel is still using the old partition table.
The new table will be used at the next reboot or after you
run partprobe(8) or kpartx(8)
The operation has completed successfully.
qemu-img convert -c -f raw -O qcow2 fallback_aarch64.raw fallback_aarch64.qcow2
rm fallback_aarch64.raw
ln -s fallback_aarch64.qcow2 fallback_aarch64.img
cp Makefile bios/OVMF.fd config.img installer_aarch64.iso installer_aarch64.raw rootfs_aarch64.img fallback_aarch64.img build-pkgs/zenix
make -C build-pkgs BUILD-PKGS=zenix LINUXKIT_OPTS="--disable-content-trust --disable-cache --force" forcepush
make[1]: Entering directory '/home/zededa-ci/src/zenbuild/build-pkgs'
Building and pushing "zededa/zenix:70de03f484d874df89cad34f7711ee2cc7fc200d"
Sending build context to Docker daemon  992.3MB
Step 1/9 : FROM alpine:edge
 ---> 698b28d4f8d1
Step 2/9 : RUN apk add --no-cache qemu-system-x86_64 qemu-system-aarch64 bash make git
 ---> Running in a98393e95a52
fetch http://dl-cdn.alpinelinux.org/alpine/v3.7/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.7/community/aarch64/APKINDEX.tar.gz
(1/59) Installing pkgconf (1.3.10-r0)
(2/59) Installing ncurses-terminfo-base (6.0_p20171125-r1)
(3/59) Installing ncurses-terminfo (6.0_p20171125-r1)
(4/59) Installing ncurses-libs (6.0_p20171125-r1)
(5/59) Installing readline (7.0.003-r0)
(6/59) Installing bash (4.4.19-r1)
Executing bash-4.4.19-r1.post-install
(7/59) Installing ca-certificates (20171114-r0)
(8/59) Installing libssh2 (1.8.0-r2)
(9/59) Installing libcurl (7.61.1-r1)
(10/59) Installing expat (2.2.5-r0)
(11/59) Installing pcre2 (10.30-r0)
(12/59) Installing git (2.15.3-r0)
(13/59) Installing make (4.2.1-r0)
(14/59) Installing libcap-ng (0.7.8-r1)
(15/59) Installing libcap (2.25-r1)
(16/59) Installing libffi (3.2.1-r4)
(17/59) Installing libintl (0.19.8.1-r1)
(18/59) Installing libuuid (2.31.1-r0)
(19/59) Installing libblkid (2.31.1-r0)
(20/59) Installing libmount (2.31.1-r0)
(21/59) Installing pcre (8.41-r1)
(22/59) Installing glib (2.54.2-r0)
(23/59) Installing qemu (2.10.1-r3)
Executing qemu-2.10.1-r3.pre-install
Executing qemu-2.10.1-r3.post-install
[91m*
* If you want to run VM as unprivileged user and let Qemu create tunX devices,
* then you must add that user to the group "qemu".
* If you use KVM for hardware-assisted virtualization, then you may also need
* to add that user to the group "kvm".
*
[0m(24/59) Installing libaio (0.3.110-r1)
(25/59) Installing alsa-lib (1.1.4.1-r2)
(26/59) Installing libbz2 (1.0.6-r6)
(27/59) Installing libepoxy (1.4.3-r1)
(28/59) Installing libdrm (2.4.88-r0)
(29/59) Installing wayland-libs-server (1.14.0-r2)
(30/59) Installing wayland-libs-cursor (1.14.0-r2)
(31/59) Installing wayland-libs-client (1.14.0-r2)
(32/59) Installing mesa-gbm (17.2.4-r1)
(33/59) Installing libgcc (6.4.0-r5)
(34/59) Installing gmp (6.1.2-r1)
(35/59) Installing nettle (3.3-r0)
(36/59) Installing libtasn1 (4.12-r3)
(37/59) Installing p11-kit (0.23.2-r2)
(38/59) Installing libunistring (0.9.7-r0)
(39/59) Installing gnutls (3.6.1-r0)
(40/59) Installing libjpeg-turbo (1.5.3-r2)
(41/59) Installing lzo (2.10-r2)
(42/59) Installing libnfs (2.0.0-r0)
(43/59) Installing pixman (0.34.0-r3)
(44/59) Installing libpng (1.6.34-r1)
(45/59) Installing libstdc++ (6.4.0-r5)
(46/59) Installing snappy (1.1.4-r2)
(47/59) Installing libogg (1.3.3-r1)
(48/59) Installing celt051 (0.5.1.3-r0)
(49/59) Installing opus (1.2.1-r1)
(50/59) Installing db (5.3.28-r0)
(51/59) Installing libsasl (2.1.26-r11)
(52/59) Installing spice-server (0.14.1-r1)
(53/59) Installing libusb (1.0.21-r0)
(54/59) Installing usbredir (0.7.1-r0)
(55/59) Installing libressl2.6-libtls (2.6.5-r0)
(56/59) Installing libressl (2.6.5-r0)
(57/59) Installing vde2-libs (2.3.2-r8)
(58/59) Installing qemu-system-aarch64 (2.10.1-r3)
(59/59) Installing qemu-system-x86_64 (2.10.1-r3)
Executing busybox-1.27.2-r6.trigger
Executing ca-certificates-20171114-r0.trigger
Executing glib-2.54.2-r0.trigger
OK: 75 MiB in 70 packages
 ---> b0e4aba22af8
Removing intermediate container a98393e95a52
Step 3/9 : COPY . /bits/
 ---> 641e5efbb50b
Step 4/9 : COPY OVMF.fd /bits/bios/OVMF.fd
 ---> 5cb0cd47d22c
Step 5/9 : COPY runme.sh /
 ---> a72e09274309
Step 6/9 : RUN touch /bits/bios/OVMF.fd
 ---> Running in 73745a354eef
 ---> 83991f215abc
Removing intermediate container 73745a354eef
Step 7/9 : WORKDIR /bits
 ---> bf69eb10156f
Removing intermediate container 0ad3fdcac60f
Step 8/9 : ENTRYPOINT /runme.sh
 ---> Running in 365582faec75
 ---> 5247cae182e7
Removing intermediate container 365582faec75
Step 9/9 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '987c2a3afd89dab565c6ccee61c958fd5b2c767f' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 7b9612bbfb2e
 ---> b199bd934a7e
Removing intermediate container 7b9612bbfb2e
Successfully built b199bd934a7e
Successfully tagged zededa/zenix:70de03f484d874df89cad34f7711ee2cc7fc200d-arm64
Pushing zededa/zenix:70de03f484d874df89cad34f7711ee2cc7fc200d-arm64
The push refers to a repository [docker.io/zededa/zenix]
ae06647cd243: Preparing
c96588d795bb: Preparing
ccae08b64713: Preparing
5274a17f298f: Preparing
d8b1107b4e3c: Preparing
7f4507898901: Preparing
2a2e682c36db: Preparing
7f4507898901: Waiting
2a2e682c36db: Waiting
c96588d795bb: Layer already exists
7f4507898901: Layer already exists
2a2e682c36db: Layer already exists
ae06647cd243: Pushed
ccae08b64713: Pushed
d8b1107b4e3c: Pushed
5274a17f298f: Pushed
70de03f484d874df89cad34f7711ee2cc7fc200d-arm64: digest: sha256:db328016df72229d10e883a828f1a96bddedc87cd90248c1f2d381e8baa2202d size: 1787
Pushing zededa/zenix:70de03f484d874df89cad34f7711ee2cc7fc200d-arm64 to manifest zededa/zenix:70de03f484d874df89cad34f7711ee2cc7fc200d
time="2018-12-23T08:17:40+01:00" level=warning msg="Couldn't find or access image reference \"zededa/zenix:70de03f484d874df89cad34f7711ee2cc7fc200d-s390x\". Skipping image."
Digest: sha256:66dea61db5c9fab827a530254b4ede946b472e6e0b67f0d7e63cecfaa0dda22c 743
Not signing zededa/zenix:70de03f484d874df89cad34f7711ee2cc7fc200d
Build and push complete, not releasing, all done.
make[1]: Leaving directory '/home/zededa-ci/src/zenbuild/build-pkgs'
make: Entering directory '/home/zededa-ci/src/zenbuild/build-pkgs'
Building and pushing "zededa/zenix:latest"
Sending build context to Docker daemon  992.3MB
Step 1/9 : FROM alpine:edge
 ---> 698b28d4f8d1
Step 2/9 : RUN apk add --no-cache qemu-system-x86_64 qemu-system-aarch64 bash make git
 ---> Using cache
 ---> b0e4aba22af8
Step 3/9 : COPY . /bits/
 ---> Using cache
 ---> 641e5efbb50b
Step 4/9 : COPY OVMF.fd /bits/bios/OVMF.fd
 ---> Using cache
 ---> 5cb0cd47d22c
Step 5/9 : COPY runme.sh /
 ---> Using cache
 ---> a72e09274309
Step 6/9 : RUN touch /bits/bios/OVMF.fd
 ---> Using cache
 ---> 83991f215abc
Step 7/9 : WORKDIR /bits
 ---> Using cache
 ---> bf69eb10156f
Step 8/9 : ENTRYPOINT /runme.sh
 ---> Using cache
 ---> 5247cae182e7
Step 9/9 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '987c2a3afd89dab565c6ccee61c958fd5b2c767f' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Using cache
 ---> b199bd934a7e
Successfully built b199bd934a7e
Successfully tagged zededa/zenix:latest-arm64
Pushing zededa/zenix:latest-arm64
The push refers to a repository [docker.io/zededa/zenix]
ae06647cd243: Preparing
c96588d795bb: Preparing
ccae08b64713: Preparing
5274a17f298f: Preparing
d8b1107b4e3c: Preparing
7f4507898901: Preparing
2a2e682c36db: Preparing
7f4507898901: Waiting
2a2e682c36db: Waiting
ccae08b64713: Layer already exists
ae06647cd243: Layer already exists
5274a17f298f: Layer already exists
d8b1107b4e3c: Layer already exists
c96588d795bb: Layer already exists
2a2e682c36db: Layer already exists
7f4507898901: Layer already exists
latest-arm64: digest: sha256:db328016df72229d10e883a828f1a96bddedc87cd90248c1f2d381e8baa2202d size: 1787
Pushing zededa/zenix:latest-arm64 to manifest zededa/zenix:latest
time="2018-12-23T08:18:12+01:00" level=warning msg="Couldn't find or access image reference \"zededa/zenix:latest-s390x\". Skipping image."
Digest: sha256:66dea61db5c9fab827a530254b4ede946b472e6e0b67f0d7e63cecfaa0dda22c 743
Not signing zededa/zenix:latest
Build and push complete, not releasing, all done.
make: Leaving directory '/home/zededa-ci/src/zenbuild/build-pkgs'
FINISHED
