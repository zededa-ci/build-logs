Already up-to-date.
make -C build-tools all
make[1]: Entering directory '/home/zededa-ci/src/zenbuild/build-tools'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/home/zededa-ci/src/zenbuild/build-tools'
From github.com:zededa/go-provision
   9f2c092..07e0163  master         -> origin/master
   2b2a62a..9ed407d  bridge         -> origin/bridge
   d7fbf22..07e0163  fixes          -> origin/fixes
   11a11c3..f3a79ea  simplify       -> origin/simplify
   b13dc01..aa9355b  strongswan_fix -> origin/strongswan_fix
Updating 9f2c092..07e0163
Fast-forward
 cmd/zedagent/handlebaseos.go   |   2 +
 cmd/zedagent/parseconfig.go    |  66 ++++++++-
 cmd/zedrouter/ipsec.go         |   2 +-
 cmd/zedrouter/lisp.go          | 111 +++++++++++----
 cmd/zedrouter/networkobject.go | 148 +++++++++++++++----
 cmd/zedrouter/service.go       | 109 ++++++++++++--
 cmd/zedrouter/zedrouter.go     | 313 +++++++++++++++++++++++++----------------
 lisp.config.base               |   9 +-
 pubsub/pubsub.go               |  90 ++++++++++--
 types/zedroutertypes.go        |  32 ++++-
 10 files changed, 674 insertions(+), 208 deletions(-)
From github.com:zededa/lisp
   1ae1269..3b15992  master     -> origin/master
Updating 1ae1269..3b15992
Fast-forward
 scripts/RL                 | 23 +++++++++++++++++++++++
 scripts/RUN-LISP           |  1 +
 scripts/RUN-LISP.no-crypto |  1 +
 scripts/RUN-LISP.rtr1      |  1 +
 4 files changed, 26 insertions(+)
Building and pushing "zededa/lisp:b0249281d9f91bed2453fa1433f2117170039804"
b0249281d9f91bed2453fa1433f2117170039804: Pulling from zededa/lisp
no matching manifest for linux/arm64 in the manifest list entries
No image pulled, continuing with build
Sending build context to Docker daemon    8.7MB
Step 1/20 : FROM golang:1.9.1-alpine AS go-build
 ---> cc52d0ad4cce
Step 2/20 : RUN apk update
 ---> Using cache
 ---> b0202011f9d2
Step 3/20 : RUN apk add --no-cache git gcc linux-headers libc-dev libpcap-dev
 ---> Using cache
 ---> e1e8ea822b21
Step 4/20 : ADD . /go/src/github.com/zededa/lisp
 ---> ceef9f2022ab
Step 5/20 : RUN go install github.com/zededa/lisp/cmd/...
 ---> Running in b41c2098317f
 ---> f63e577c00a3
Removing intermediate container b41c2098317f
Step 6/20 : FROM alpine:3.6
 ---> a9277cb286bb
Step 7/20 : RUN apk add --no-cache curl gcc linux-headers libc-dev python python-dev libffi-dev openssl-dev libpcap-dev iproute2 tcpdump ethtool ip6tables
 ---> Using cache
 ---> 22c4198640c2
Step 8/20 : RUN mkdir /lisp
 ---> Using cache
 ---> a735a97af9aa
Step 9/20 : ARG LISP_URL=https://www.dropbox.com/s/ogfu5gaw550rlkq/zededa.tgz
 ---> Using cache
 ---> e7b21c08194f
Step 10/20 : RUN cd /lisp ; curl --insecure -L $LISP_URL | gzip -dc | tar -xf -
 ---> Using cache
 ---> cd58f592636e
Step 11/20 : ADD scripts/sudo /usr/bin/sudo
 ---> Using cache
 ---> a1f724579c22
Step 12/20 : ADD conf scripts/RESTART-LISP scripts/RUN-LISP.rtr1 scripts/RUN-LISP scripts/STOP-LISP scripts/CONFIG-SVC scripts/RL scripts/pslisp scripts/log-packets scripts/ping-mesh.py /lisp/
 ---> 6980d930a181
Step 13/20 : RUN python /lisp/get-pip.py
 ---> Running in bb025b534dca
Downloading/unpacking pip
Downloading/unpacking setuptools
Installing collected packages: pip, setuptools
Successfully installed pip setuptools
Cleaning up...
 ---> 79c858a2ab6c
Removing intermediate container bb025b534dca
Step 14/20 : RUN pip install -r /lisp/pip-requirements.txt
 ---> Running in 13e50cee2e3a
Collecting CherryPy==8.2.0 (from -r /lisp/pip-requirements.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/67/fc/fe110d5febf4e0988e041e5200a11f60855bcdaf2abd8ee1472b90956de0/CherryPy-8.2.0.tar.gz (710kB)
Collecting bottle==0.11.6 (from -r /lisp/pip-requirements.txt (line 3))
  Downloading https://files.pythonhosted.org/packages/42/a3/94991c7a132b2717ee2d147049e1bb0ba0596834069583aeee3c7fd7ea12/bottle-0.11.6-py2.py3-none-any.whl (77kB)
Collecting netifaces==0.10.0 (from -r /lisp/pip-requirements.txt (line 4))
  Downloading https://files.pythonhosted.org/packages/42/87/9092e7db7ed41fb4685fc8a108b318c09ebc646256de0ded02438b783a86/netifaces-0.10.0.tar.gz
Collecting pcappy==0.3 (from -r /lisp/pip-requirements.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/17/47/a433257c1dd49afb69d5572a90848280eab63911e8bf22277c07ab342fad/pcappy-0.3.tar.gz
Collecting pyOpenSSL==16.2.0 (from -r /lisp/pip-requirements.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/ac/93/b4cd538d31adacd07f83013860db6b88d78755af1f3fefe68ec22d397e7b/pyOpenSSL-16.2.0-py2.py3-none-any.whl (43kB)
Collecting pycrypto==2.6.1 (from -r /lisp/pip-requirements.txt (line 7))
  Downloading https://files.pythonhosted.org/packages/60/db/645aa9af249f059cc3a368b118de33889219e0362141e75d4eaf6f80f163/pycrypto-2.6.1.tar.gz (446kB)
Collecting requests==2.0.1 (from -r /lisp/pip-requirements.txt (line 9))
  Downloading https://files.pythonhosted.org/packages/8f/ea/140f18072bbcd81885a9490abb171792fd2961fd7f366be58396f4c6d634/requests-2.0.1-py2.py3-none-any.whl (439kB)
Collecting curve25519-donna==1.3 (from -r /lisp/pip-requirements.txt (line 10))
  Downloading https://files.pythonhosted.org/packages/01/05/1ab1cc54c2b1e933721b8e65fedc01098e6b8ffdccedbc4a682d4e0db8c1/curve25519-donna-1.3.tar.gz
Collecting geopy==1.11.0 (from -r /lisp/pip-requirements.txt (line 11))
  Downloading https://files.pythonhosted.org/packages/e0/fd/d1b3225959939907a1a87c3623a021742b3b9ef5db35c15cb916e18de42c/geopy-1.11.0-py2.py3-none-any.whl (66kB)
Collecting python-pytun==0.2 (from -r /lisp/pip-requirements.txt (line 12))
  Downloading https://files.pythonhosted.org/packages/3a/c6/6792ce3b89260d3b30eef6cd8b36122064a301c971264bf04c2f9991cdd1/python-pytun-0.2.tar.gz
Collecting ecdsa==0.13 (from -r /lisp/pip-requirements.txt (line 13))
  Downloading https://files.pythonhosted.org/packages/63/f4/73669d51825516ce8c43b816c0a6b64cd6eb71d08b99820c00792cb42222/ecdsa-0.13-py2.py3-none-any.whl (86kB)
Collecting pycryptodome==3.5.1 (from -r /lisp/pip-requirements.txt (line 14))
  Downloading https://files.pythonhosted.org/packages/86/d1/f1c6b1e4b2dd5e3f2f56f6f3c74ac9893252dbef9ac0e55c8b4538e56db0/pycryptodome-3.5.1.tar.gz (6.7MB)
Collecting six (from CherryPy==8.2.0->-r /lisp/pip-requirements.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/67/4b/141a581104b1f6397bfa78ac9d43d8ad29a7ca43ea90a2d863fe3056e86a/six-1.11.0-py2.py3-none-any.whl
Collecting cryptography>=1.3.4 (from pyOpenSSL==16.2.0->-r /lisp/pip-requirements.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/79/a2/61c8625f96c8582d3053f89368c483ba62e56233d055e58e372f94a393f0/cryptography-2.3.tar.gz (449kB)
Collecting idna>=2.1 (from cryptography>=1.3.4->pyOpenSSL==16.2.0->-r /lisp/pip-requirements.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/4b/2a/0276479a4b3caeb8a8c1af2f8e4355746a97fab05a372e4a2c6a6b876165/idna-2.7-py2.py3-none-any.whl (58kB)
Collecting asn1crypto>=0.21.0 (from cryptography>=1.3.4->pyOpenSSL==16.2.0->-r /lisp/pip-requirements.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/ea/cd/35485615f45f30a510576f1a56d1e0a7ad7bd8ab5ed7cdc600ef7cd06222/asn1crypto-0.24.0-py2.py3-none-any.whl (101kB)
Collecting cffi!=1.11.3,>=1.7 (from cryptography>=1.3.4->pyOpenSSL==16.2.0->-r /lisp/pip-requirements.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/e7/a7/4cd50e57cc6f436f1cc3a7e8fa700ff9b8b4d471620629074913e3735fb2/cffi-1.11.5.tar.gz (438kB)
Collecting enum34 (from cryptography>=1.3.4->pyOpenSSL==16.2.0->-r /lisp/pip-requirements.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/c5/db/e56e6b4bbac7c4a06de1c50de6fe1ef3810018ae11732a50f15f62c7d050/enum34-1.1.6-py2-none-any.whl
Collecting ipaddress (from cryptography>=1.3.4->pyOpenSSL==16.2.0->-r /lisp/pip-requirements.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/fc/d0/7fc3a811e011d4b388be48a0e381db8d990042df54aa4ef4599a31d39853/ipaddress-1.0.22-py2.py3-none-any.whl
Collecting pycparser (from cffi!=1.11.3,>=1.7->cryptography>=1.3.4->pyOpenSSL==16.2.0->-r /lisp/pip-requirements.txt (line 6))
  Downloading https://files.pythonhosted.org/packages/8c/2d/aad7f16146f4197a11f8e91fb81df177adcc2073d36a17b1491fd09df6ed/pycparser-2.18.tar.gz (245kB)
Installing collected packages: six, CherryPy, bottle, netifaces, pcappy, idna, asn1crypto, pycparser, cffi, enum34, ipaddress, cryptography, pyOpenSSL, pycrypto, requests, curve25519-donna, geopy, python-pytun, ecdsa, pycryptodome
  Running setup.py install for CherryPy: started
    Running setup.py install for CherryPy: finished with status 'done'
  Running setup.py install for netifaces: started
    Running setup.py install for netifaces: finished with status 'done'
  Running setup.py install for pcappy: started
    Running setup.py install for pcappy: finished with status 'done'
  Running setup.py install for pycparser: started
    Running setup.py install for pycparser: finished with status 'done'
  Running setup.py install for cffi: started
    Running setup.py install for cffi: finished with status 'done'
  Running setup.py install for cryptography: started
    Running setup.py install for cryptography: finished with status 'done'
  Running setup.py install for pycrypto: started
    Running setup.py install for pycrypto: finished with status 'done'
  Running setup.py install for curve25519-donna: started
    Running setup.py install for curve25519-donna: finished with status 'done'
  Running setup.py install for python-pytun: started
    Running setup.py install for python-pytun: finished with status 'done'
  Running setup.py install for pycryptodome: started
    Running setup.py install for pycryptodome: finished with status 'done'
Successfully installed CherryPy-8.2.0 asn1crypto-0.24.0 bottle-0.11.6 cffi-1.11.5 cryptography-2.3 curve25519-donna-1.3 ecdsa-0.13 enum34-1.1.6 geopy-1.11.0 idna-2.7 ipaddress-1.0.22 netifaces-0.10.0 pcappy-0.3 pyOpenSSL-16.2.0 pycparser-2.18 pycrypto-2.6.1 pycryptodome-3.5.1 python-pytun-0.2 requests-2.0.1 six-1.11.0
 ---> f6e07a89b552
Removing intermediate container 13e50cee2e3a
Step 15/20 : RUN echo 'PS1="`hostname | cut -d . -f 0` > "' >> /root/.profile
 ---> Running in 8816f8d32bb1
 ---> faf2e848c055
Removing intermediate container 8816f8d32bb1
Step 16/20 : COPY --from=go-build /go/bin/dataplane /lisp/lisp-ztr
 ---> 9393933f3c5c
Step 17/20 : EXPOSE 8080
 ---> Running in 51f0119d6139
 ---> 826a0259d97d
Removing intermediate container 51f0119d6139
Step 18/20 : WORKDIR /lisp
 ---> 5339b8cefe9a
Removing intermediate container 597a2604ad04
Step 19/20 : CMD ./CONFIG-SVC ; ./RL ; sleep 5 ; tail -f ./logs/*
 ---> Running in 490ebeabfb8f
 ---> a6837e8e976d
Removing intermediate container 490ebeabfb8f
Step 20/20 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '3b15992295221d224f6fccc0b1a6ac5e067e1651' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 9780cc89c783
 ---> eff1e706b59e
Removing intermediate container 9780cc89c783
Successfully built eff1e706b59e
Successfully tagged zededa/lisp:b0249281d9f91bed2453fa1433f2117170039804-arm64
Pushing zededa/lisp:b0249281d9f91bed2453fa1433f2117170039804-arm64
The push refers to a repository [docker.io/zededa/lisp]
21678e1f6297: Preparing
bad01b709fbd: Preparing
e7ebfa270a08: Preparing
63448c5fb5b3: Preparing
3e7ff2b4290f: Preparing
d07a0209af0b: Preparing
f40ac4a0be73: Preparing
b2de77c3ccdf: Preparing
7559e6e3855b: Preparing
7678a2257549: Preparing
199db0687ace: Preparing
d07a0209af0b: Waiting
f40ac4a0be73: Waiting
b2de77c3ccdf: Waiting
7678a2257549: Waiting
7559e6e3855b: Waiting
199db0687ace: Waiting
3e7ff2b4290f: Pushed
d07a0209af0b: Layer already exists
21678e1f6297: Pushed
f40ac4a0be73: Layer already exists
bad01b709fbd: Pushed
63448c5fb5b3: Pushed
b2de77c3ccdf: Layer already exists
7559e6e3855b: Layer already exists
7678a2257549: Layer already exists
199db0687ace: Layer already exists
e7ebfa270a08: Pushed
b0249281d9f91bed2453fa1433f2117170039804-arm64: digest: sha256:b089105dfe4247fedd96cad5127a93e41136cdfe267565866e08f3971a5059b5 size: 2621
Pushing zededa/lisp:b0249281d9f91bed2453fa1433f2117170039804-arm64 to manifest zededa/lisp:b0249281d9f91bed2453fa1433f2117170039804
time="2018-08-12T08:03:35+02:00" level=warning msg="Couldn't find or access image reference \"zededa/lisp:b0249281d9f91bed2453fa1433f2117170039804-s390x\". Skipping image."
Digest: sha256:b88393c925ddbd158bf18bdc1ab72d85718e1c3f7572d08bf89fb47b45e53929 743
Not signing zededa/lisp:b0249281d9f91bed2453fa1433f2117170039804
Build and push complete, not releasing, all done.
Building and pushing "zededa/lisp:latest"
Sending build context to Docker daemon    8.7MB
Step 1/20 : FROM golang:1.9.1-alpine AS go-build
 ---> cc52d0ad4cce
Step 2/20 : RUN apk update
 ---> Using cache
 ---> b0202011f9d2
Step 3/20 : RUN apk add --no-cache git gcc linux-headers libc-dev libpcap-dev
 ---> Using cache
 ---> e1e8ea822b21
Step 4/20 : ADD . /go/src/github.com/zededa/lisp
 ---> Using cache
 ---> ceef9f2022ab
Step 5/20 : RUN go install github.com/zededa/lisp/cmd/...
 ---> Using cache
 ---> f63e577c00a3
Step 6/20 : FROM alpine:3.6
 ---> a9277cb286bb
Step 7/20 : RUN apk add --no-cache curl gcc linux-headers libc-dev python python-dev libffi-dev openssl-dev libpcap-dev iproute2 tcpdump ethtool ip6tables
 ---> Using cache
 ---> 22c4198640c2
Step 8/20 : RUN mkdir /lisp
 ---> Using cache
 ---> a735a97af9aa
Step 9/20 : ARG LISP_URL=https://www.dropbox.com/s/ogfu5gaw550rlkq/zededa.tgz
 ---> Using cache
 ---> e7b21c08194f
Step 10/20 : RUN cd /lisp ; curl --insecure -L $LISP_URL | gzip -dc | tar -xf -
 ---> Using cache
 ---> cd58f592636e
Step 11/20 : ADD scripts/sudo /usr/bin/sudo
 ---> Using cache
 ---> a1f724579c22
Step 12/20 : ADD conf scripts/RESTART-LISP scripts/RUN-LISP.rtr1 scripts/RUN-LISP scripts/STOP-LISP scripts/CONFIG-SVC scripts/RL scripts/pslisp scripts/log-packets scripts/ping-mesh.py /lisp/
 ---> Using cache
 ---> 6980d930a181
Step 13/20 : RUN python /lisp/get-pip.py
 ---> Using cache
 ---> 79c858a2ab6c
Step 14/20 : RUN pip install -r /lisp/pip-requirements.txt
 ---> Using cache
 ---> f6e07a89b552
Step 15/20 : RUN echo 'PS1="`hostname | cut -d . -f 0` > "' >> /root/.profile
 ---> Using cache
 ---> faf2e848c055
Step 16/20 : COPY --from=go-build /go/bin/dataplane /lisp/lisp-ztr
 ---> Using cache
 ---> 9393933f3c5c
Step 17/20 : EXPOSE 8080
 ---> Using cache
 ---> 826a0259d97d
Step 18/20 : WORKDIR /lisp
 ---> Using cache
 ---> 5339b8cefe9a
Step 19/20 : CMD ./CONFIG-SVC ; ./RL ; sleep 5 ; tail -f ./logs/*
 ---> Using cache
 ---> a6837e8e976d
Step 20/20 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '3b15992295221d224f6fccc0b1a6ac5e067e1651' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Using cache
 ---> eff1e706b59e
Successfully built eff1e706b59e
Successfully tagged zededa/lisp:latest-arm64
Pushing zededa/lisp:latest-arm64
The push refers to a repository [docker.io/zededa/lisp]
21678e1f6297: Preparing
bad01b709fbd: Preparing
e7ebfa270a08: Preparing
63448c5fb5b3: Preparing
3e7ff2b4290f: Preparing
d07a0209af0b: Preparing
f40ac4a0be73: Preparing
b2de77c3ccdf: Preparing
7559e6e3855b: Preparing
7678a2257549: Preparing
199db0687ace: Preparing
d07a0209af0b: Waiting
7559e6e3855b: Waiting
f40ac4a0be73: Waiting
b2de77c3ccdf: Waiting
7678a2257549: Waiting
199db0687ace: Waiting
bad01b709fbd: Layer already exists
63448c5fb5b3: Layer already exists
21678e1f6297: Layer already exists
e7ebfa270a08: Layer already exists
3e7ff2b4290f: Layer already exists
d07a0209af0b: Layer already exists
f40ac4a0be73: Layer already exists
b2de77c3ccdf: Layer already exists
7678a2257549: Layer already exists
7559e6e3855b: Layer already exists
199db0687ace: Layer already exists
latest-arm64: digest: sha256:b089105dfe4247fedd96cad5127a93e41136cdfe267565866e08f3971a5059b5 size: 2621
Pushing zededa/lisp:latest-arm64 to manifest zededa/lisp:latest
time="2018-08-12T08:03:49+02:00" level=warning msg="Couldn't find or access image reference \"zededa/lisp:latest-s390x\". Skipping image."
Digest: sha256:c86c826380301762804a9190430362e912c5b9294141e0fea099093e1b7069cb 743
Not signing zededa/lisp:latest
Build and push complete, not releasing, all done.
Building and pushing "zededa/ztools:ce86bb3284b235c93ea9644a3f944429c116872a"
ce86bb3284b235c93ea9644a3f944429c116872a: Pulling from zededa/ztools
no matching manifest for linux/arm64 in the manifest list entries
No image pulled, continuing with build
Sending build context to Docker daemon  26.38MB
Step 1/33 : FROM golang:1.9.1-alpine AS build
 ---> cc52d0ad4cce
Step 2/33 : RUN apk update
 ---> Using cache
 ---> b0202011f9d2
Step 3/33 : RUN apk add --no-cache git gcc linux-headers libc-dev util-linux
 ---> Using cache
 ---> 648257fc5dd9
Step 4/33 : ADD ./ /go/src/github.com/zededa/go-provision/
 ---> 1d40bfe17c11
Step 5/33 : ADD etc /config
 ---> d60a7989fa3e
Step 6/33 : ADD scripts/device-steps.sh scripts/find-uplink.sh scripts/generate-device.sh scripts/generate-self-signed.sh scripts/handlezedserverconfig.sh /opt/zededa/bin/
 ---> 731e2300bb64
Step 7/33 : ADD examples /opt/zededa/examples
 ---> e08b60897952
Step 8/33 : ADD AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> 5012433d9369
Step 9/33 : ADD DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> ac46c89c0341
Step 10/33 : ADD lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> f5fbe769e7ae
Step 11/33 : RUN (cd ./src/github.com/zededa/go-provision/; scripts/getversion.sh >/opt/zededa/bin/versioninfo)
 ---> Running in c915c15043cb
 ---> 7f07f42a1023
Removing intermediate container c915c15043cb
Step 12/33 : RUN cp /opt/zededa/bin/versioninfo /opt/zededa/bin/versioninfo.1
 ---> Running in 590370ffc9cf
 ---> 44605e6382a1
Removing intermediate container 590370ffc9cf
Step 13/33 : RUN echo Building: `cat /opt/zededa/bin/versioninfo`
 ---> Running in ef73c1e523d9
Building: 20180314-test-07e0163e-2018-08-12.06.04
 ---> 68a3b836e51c
Removing intermediate container ef73c1e523d9
Step 14/33 : RUN go install github.com/zededa/go-provision/zedbox/...
 ---> Running in c7fffcf86c00
 ---> c10abeb5ef2e
Removing intermediate container c7fffcf86c00
Step 15/33 : RUN cd /opt/zededa/bin ; ln -s /go/bin/* .
 ---> Running in 33b5262bdc2a
 ---> 5f9513b46334
Removing intermediate container 33b5262bdc2a
Step 16/33 : RUN cd /opt/zededa/bin ; ln -s zedbox client; ln -s zedbox domainmgr; ln -s zedbox downloader; ln -s zedbox hardwaremodel; ln -s zedbox identitymgr; ln -s zedbox ledmanager; ln -s zedbox logmanager; ln -s zedbox verifier; ln -s zedbox zedagent; ln -s zedbox zedmanager; ln -s zedbox zedrouter
 ---> Running in 92f11e3ea2e9
 ---> 267597cf2c53
Removing intermediate container 92f11e3ea2e9
Step 17/33 : FROM zededa/lisp:latest AS lisp
 ---> 8c611457d2fd
Step 18/33 : FROM scratch
 ---> 
Step 19/33 : COPY --from=build /opt/zededa/bin /opt/zededa/bin
 ---> c99e90e94db9
Step 20/33 : COPY --from=build /opt/zededa/examples /opt/zededa/examples
 ---> a4b796e0dbec
Step 21/33 : COPY --from=build /var/tmp/zededa/AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> c96054cfe2ad
Step 22/33 : COPY --from=build /var/tmp/zededa/DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> 093ee782f22e
Step 23/33 : COPY --from=build /var/tmp/zededa/lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> 964d5f33fdf0
Step 24/33 : COPY --from=build /config /opt/zededa/examples/config
 ---> da4f9bc44746
Step 25/33 : COPY --from=build /go/bin/* /opt/zededa/bin/
 ---> 76be3ad6cbcb
Step 26/33 : COPY --from=lisp /lisp/lisp-ztr /opt/zededa/bin/
COPY failed: stat /var/lib/docker/btrfs/subvolumes/6c7c884d4bd16a09b521bb8446106d025d45b2ed62d4e175182bc4dde8b5466b/lisp/lisp-ztr: no such file or directory
exit status 1
Building and pushing "zededa/ztools:latest"
Sending build context to Docker daemon  26.38MB
Step 1/33 : FROM golang:1.9.1-alpine AS build
 ---> cc52d0ad4cce
Step 2/33 : RUN apk update
 ---> Using cache
 ---> b0202011f9d2
Step 3/33 : RUN apk add --no-cache git gcc linux-headers libc-dev util-linux
 ---> Using cache
 ---> 648257fc5dd9
Step 4/33 : ADD ./ /go/src/github.com/zededa/go-provision/
 ---> Using cache
 ---> 1d40bfe17c11
Step 5/33 : ADD etc /config
 ---> Using cache
 ---> d60a7989fa3e
Step 6/33 : ADD scripts/device-steps.sh scripts/find-uplink.sh scripts/generate-device.sh scripts/generate-self-signed.sh scripts/handlezedserverconfig.sh /opt/zededa/bin/
 ---> Using cache
 ---> 731e2300bb64
Step 7/33 : ADD examples /opt/zededa/examples
 ---> Using cache
 ---> e08b60897952
Step 8/33 : ADD AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> Using cache
 ---> 5012433d9369
Step 9/33 : ADD DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> Using cache
 ---> ac46c89c0341
Step 10/33 : ADD lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> Using cache
 ---> f5fbe769e7ae
Step 11/33 : RUN (cd ./src/github.com/zededa/go-provision/; scripts/getversion.sh >/opt/zededa/bin/versioninfo)
 ---> Using cache
 ---> 7f07f42a1023
Step 12/33 : RUN cp /opt/zededa/bin/versioninfo /opt/zededa/bin/versioninfo.1
 ---> Using cache
 ---> 44605e6382a1
Step 13/33 : RUN echo Building: `cat /opt/zededa/bin/versioninfo`
 ---> Using cache
 ---> 68a3b836e51c
Step 14/33 : RUN go install github.com/zededa/go-provision/zedbox/...
 ---> Using cache
 ---> c10abeb5ef2e
Step 15/33 : RUN cd /opt/zededa/bin ; ln -s /go/bin/* .
 ---> Using cache
 ---> 5f9513b46334
Step 16/33 : RUN cd /opt/zededa/bin ; ln -s zedbox client; ln -s zedbox domainmgr; ln -s zedbox downloader; ln -s zedbox hardwaremodel; ln -s zedbox identitymgr; ln -s zedbox ledmanager; ln -s zedbox logmanager; ln -s zedbox verifier; ln -s zedbox zedagent; ln -s zedbox zedmanager; ln -s zedbox zedrouter
 ---> Using cache
 ---> 267597cf2c53
Step 17/33 : FROM zededa/lisp:latest AS lisp
 ---> 8c611457d2fd
Step 18/33 : FROM scratch
 ---> 
Step 19/33 : COPY --from=build /opt/zededa/bin /opt/zededa/bin
 ---> Using cache
 ---> c99e90e94db9
Step 20/33 : COPY --from=build /opt/zededa/examples /opt/zededa/examples
 ---> Using cache
 ---> a4b796e0dbec
Step 21/33 : COPY --from=build /var/tmp/zededa/AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> Using cache
 ---> c96054cfe2ad
Step 22/33 : COPY --from=build /var/tmp/zededa/DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> Using cache
 ---> 093ee782f22e
Step 23/33 : COPY --from=build /var/tmp/zededa/lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> Using cache
 ---> 964d5f33fdf0
Step 24/33 : COPY --from=build /config /opt/zededa/examples/config
 ---> Using cache
 ---> da4f9bc44746
Step 25/33 : COPY --from=build /go/bin/* /opt/zededa/bin/
 ---> Using cache
 ---> 76be3ad6cbcb
Step 26/33 : COPY --from=lisp /lisp/lisp-ztr /opt/zededa/bin/
COPY failed: stat /var/lib/docker/btrfs/subvolumes/e165fcdb582d6c4be5f03cb2be44cfe67a4163360ed086d09abd635b023232c2/lisp/lisp-ztr: no such file or directory
exit status 1
make: Entering directory '/home/zededa-ci/src/zenbuild/pkg'
(cd ..; ./parse-pkgs.sh pkg/qrexec-lib/Dockerfile.in > pkg/qrexec-lib/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/qrexec-dom0/Dockerfile.in > pkg/qrexec-dom0/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/zedctr/Dockerfile.in > pkg/zedctr/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/mkconf/Dockerfile.in > pkg/mkconf/Dockerfile)
Building and pushing "zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590"
35eb3c470422d1bced11f3457ea8ff432d9f0590: Pulling from zededa/grub
Digest: sha256:97fadcc519ec1a54527408995eb1c1bff95e8fedecd71bb105caa7ed96c6f08e
Status: Image is up to date for zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590
Building and pushing "zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed"
be954dc9ba840dcff92c7edc1823e7e19d12a8ed: Pulling from zededa/xen
Digest: sha256:b49124b91610d3609a73a81583f2d069ec93912a88cc4c6b1b3693951ca69912
Status: Image is up to date for zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed
Building and pushing "zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c"
e2919188af3f6da07e8bc651ecc45b5b3f0f523c: Pulling from zededa/kernel
Digest: sha256:19efd4781224e46428fe4ba094e8a918b0dc76e7283694de1a0534c5a8827f94
Status: Image is up to date for zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c
Building and pushing "zededa/xen-tools:7c0b7ae46fefde91d929d8851f7483a9d534e9a1"
7c0b7ae46fefde91d929d8851f7483a9d534e9a1: Pulling from zededa/xen-tools
Digest: sha256:50d42ac50778a21a2de2a29cf4b907309f6b3d1ff3e08d324d82b6328195cb4b
Status: Image is up to date for zededa/xen-tools:7c0b7ae46fefde91d929d8851f7483a9d534e9a1
Building and pushing "zededa/dnsmasq:e2de7e6a478850d931724f951f877cd507d77358"
e2de7e6a478850d931724f951f877cd507d77358: Pulling from zededa/dnsmasq
Digest: sha256:e89983e9f44353dc69a4b1590bcc5427d71fa6b93c2b18bf535c8b7e8d5523ef
Status: Image is up to date for zededa/dnsmasq:e2de7e6a478850d931724f951f877cd507d77358
Building and pushing "zededa/strongswan:3957eaaa64beb65e946494bab989e861f34811cb"
3957eaaa64beb65e946494bab989e861f34811cb: Pulling from zededa/strongswan
Digest: sha256:45d6a348d7ed7a9f23c00220f623b79c049b39a075b2cd616e28969d1da1589b
Status: Image is up to date for zededa/strongswan:3957eaaa64beb65e946494bab989e861f34811cb
Building and pushing "zededa/gpt-tools:f0be39997551891e81c6edc38acc20f61077287b"
f0be39997551891e81c6edc38acc20f61077287b: Pulling from zededa/gpt-tools
Digest: sha256:f8c8311b296dc84c5ba3c0052cfce48bf4307c2e8c925e9d42f172aa03e46905
Status: Image is up to date for zededa/gpt-tools:f0be39997551891e81c6edc38acc20f61077287b
Building and pushing "zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760"
c6d8f2123c748379add5d3dbbac23e3630131760: Pulling from zededa/dom0-ztools
Digest: sha256:9979f185e764b1dda559ef2e6c3f97549aaa757be9f6294253df7eb487ccd733
Status: Image is up to date for zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760
Building and pushing "zededa/qrexec-lib:2e0df0df95f86df6953d7d2e7729213b77fd7206"
2e0df0df95f86df6953d7d2e7729213b77fd7206: Pulling from zededa/qrexec-lib
Digest: sha256:f3a7232c233966c0153332152b3637d83a59bba997492b6507a5a5dbb6b85123
Status: Image is up to date for zededa/qrexec-lib:2e0df0df95f86df6953d7d2e7729213b77fd7206
Building and pushing "zededa/qrexec-dom0:2c3cf9b135409690eaa86092c41f7c800d398468"
2c3cf9b135409690eaa86092c41f7c800d398468: Pulling from zededa/qrexec-dom0
Digest: sha256:4db3185f974083853f253fe9772ff2d9a95e0c21d0c0b517e9b2b0802d0f2e02
Status: Image is up to date for zededa/qrexec-dom0:2c3cf9b135409690eaa86092c41f7c800d398468
Building and pushing "zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d"
5f68442251df0f2625fde14e947f11de2374b72d: Pulling from zededa/wwan
Digest: sha256:9fdadaf2a0096e08b87dcd6c2c47196eb0801500ac5b22af947d48ce834757e5
Status: Image is up to date for zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d
Building and pushing "zededa/wlan:cfd366430df0620df11b2af7f3d9d63d617a5903"
cfd366430df0620df11b2af7f3d9d63d617a5903: Pulling from zededa/wlan
Digest: sha256:634c1d203bd5564227f82b4c2c4185a40d65fe3ae007963a7772642bf067d9fe
Status: Image is up to date for zededa/wlan:cfd366430df0620df11b2af7f3d9d63d617a5903
Building and pushing "zededa/watchdog:3e77cbcffbf4f71309bab82500039967bca0d189"
3e77cbcffbf4f71309bab82500039967bca0d189: Pulling from zededa/watchdog
Digest: sha256:6a0f4c90c63e9df6322624c4ad3f0a5f70cdcebf3ea685673ba636326b76ebf2
Status: Image is up to date for zededa/watchdog:3e77cbcffbf4f71309bab82500039967bca0d189
Building and pushing "zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d"
1bca882c64827de08bba9aa7713441b2b4d7ca8d: Pulling from zededa/device-trees
Digest: sha256:f5d753daa12ea22d66ae2c838bd1de94691b0221255dc39613c70dd7585086fb
Status: Image is up to date for zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d
Building and pushing "zededa/zedctr:a190fe1816a81a9f328417bcef9146dff0a4ede0"
a190fe1816a81a9f328417bcef9146dff0a4ede0: Pulling from zededa/zedctr
Digest: sha256:d0f86fe3f15becc40588ff008d6cf0f4c9da36ff17072e562569d83fecb1ad74
Status: Downloaded newer image for zededa/zedctr:a190fe1816a81a9f328417bcef9146dff0a4ede0
Building and pushing "zededa/conf:4992a3a63c95b0e446c681a0deaca7a071aba709"
4992a3a63c95b0e446c681a0deaca7a071aba709: Pulling from zededa/conf
Digest: sha256:bf69b0669e5142bb9dbb25b60250fcb646ee74767130b4f1b4e99345525dcf8d
Status: Image is up to date for zededa/conf:4992a3a63c95b0e446c681a0deaca7a071aba709
Building and pushing "zededa/mkrootfs-ext4:5f77cd6a2b87a3a9927593763da1941dbed1ce80"
5f77cd6a2b87a3a9927593763da1941dbed1ce80: Pulling from zededa/mkrootfs-ext4
Digest: sha256:e8b62299e6c32eaae94168a5ae56eac82f3d3b2852071ef4fc06c1d97b1e3d34
Status: Image is up to date for zededa/mkrootfs-ext4:5f77cd6a2b87a3a9927593763da1941dbed1ce80
Building and pushing "zededa/mkrootfs-squash:b47d705603f5f0d3765b03cf583e1a7fd287f212"
b47d705603f5f0d3765b03cf583e1a7fd287f212: Pulling from zededa/mkrootfs-squash
Digest: sha256:9f61dd982c5248333499b5e9a8ddfbb8bc55e925f0c13821ed9c69eb35e8f07b
Status: Image is up to date for zededa/mkrootfs-squash:b47d705603f5f0d3765b03cf583e1a7fd287f212
Building and pushing "zededa/mkflash:d4131c74a9e283a1e4ee5f3aa80b47b538378411"
d4131c74a9e283a1e4ee5f3aa80b47b538378411: Pulling from zededa/mkflash
Digest: sha256:cea92d7cb180a4fab368113e73b8658d9eef9deadc4788fce80df202e91214ec
Status: Image is up to date for zededa/mkflash:d4131c74a9e283a1e4ee5f3aa80b47b538378411
Building and pushing "zededa/mkimage-iso-efi:49a6ff8320ce088460c8acb6f36bc15b15d800e9"
49a6ff8320ce088460c8acb6f36bc15b15d800e9: Pulling from zededa/mkimage-iso-efi
Digest: sha256:3297db81e8ecb1fd0610690c1f99db675f301e6314278b82a5f5b5cbb44dcad9
Status: Image is up to date for zededa/mkimage-iso-efi:49a6ff8320ce088460c8acb6f36bc15b15d800e9
make: Leaving directory '/home/zededa-ci/src/zenbuild/pkg'
make: Entering directory '/home/zededa-ci/src/zenbuild/pkg'
(cd ..; ./parse-pkgs.sh pkg/zedctr//Dockerfile.in > pkg/zedctr//Dockerfile)
Building and pushing "zededa/zedctr:a190fe1816a81a9f328417bcef9146dff0a4ede0"
Sending build context to Docker daemon  17.92kB
Step 1/20 : FROM zededa/ztools:latest as ztools
 ---> 6341cd92336a
Step 2/20 : FROM zededa/xen-tools:7c0b7ae46fefde91d929d8851f7483a9d534e9a1-arm64 as xen-tools
 ---> 2b836ba5bcb3
Step 3/20 : FROM zededa/dnsmasq:e2de7e6a478850d931724f951f877cd507d77358-arm64 as dnsmasq
 ---> 1a0a9313ef5f
Step 4/20 : FROM zededa/strongswan:3957eaaa64beb65e946494bab989e861f34811cb-arm64 as strongswan
 ---> c9bc0d3f0642
Step 5/20 : FROM zededa/gpt-tools:f0be39997551891e81c6edc38acc20f61077287b-arm64 as gpttools
 ---> bb17a51a6442
Step 6/20 : FROM zededa/watchdog:3e77cbcffbf4f71309bab82500039967bca0d189-arm64 as watchdog
 ---> 57e0cb5696a7
Step 7/20 : FROM alpine:3.6
 ---> a9277cb286bb
Step 8/20 : RUN apk add --no-cache     yajl xz bash openssl iptables ip6tables iproute2     apk-cron coreutils dmidecode sudo libbz2 libuuid ipset     libpcap libaio logrotate pixman glib curl radvd perl ethtool     openssh-server util-linux e2fsprogs libcrypto1.0
 ---> Running in 80a586e6133b
fetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/aarch64/APKINDEX.tar.gz
(1/53) Installing apk-cron (1.0-r0)
(2/53) Installing ncurses-terminfo-base (6.0_p20171125-r0)
(3/53) Installing ncurses-terminfo (6.0_p20171125-r0)
(4/53) Installing ncurses-libs (6.0_p20171125-r0)
(5/53) Installing readline (6.3.008-r5)
(6/53) Installing bash (4.3.48-r1)
Executing bash-4.3.48-r1.post-install
(7/53) Installing libattr (2.4.47-r6)
(8/53) Installing libacl (2.2.52-r3)
(9/53) Installing coreutils (8.27-r0)
(10/53) Installing ca-certificates (20161130-r2)
(11/53) Installing libssh2 (1.8.0-r1)
(12/53) Installing libcurl (7.61.0-r0)
(13/53) Installing curl (7.61.0-r0)
(14/53) Installing dmidecode (3.0-r0)
(15/53) Installing libuuid (2.28.2-r2)
(16/53) Installing libblkid (2.28.2-r2)
(17/53) Installing libcom_err (1.43.4-r0)
(18/53) Installing e2fsprogs-libs (1.43.4-r0)
(19/53) Installing e2fsprogs (1.43.4-r0)
(20/53) Installing ethtool (4.10-r0)
(21/53) Installing libffi (3.2.1-r3)
(22/53) Installing libintl (0.19.8.1-r1)
(23/53) Installing libmount (2.28.2-r2)
(24/53) Installing pcre (8.41-r0)
(25/53) Installing glib (2.52.1-r0)
(26/53) Installing libmnl (1.0.4-r0)
(27/53) Installing libnftnl-libs (1.0.7-r0)
(28/53) Installing iptables (1.6.1-r0)
(29/53) Installing ip6tables (1.6.1-r0)
(30/53) Installing libelf (0.8.13-r2)
(31/53) Installing iproute2 (4.10.0-r1)
Executing iproute2-4.10.0-r1.post-install
(32/53) Installing ipset (6.32-r3)
(33/53) Installing libaio (0.3.110-r0)
(34/53) Installing libbz2 (1.0.6-r5)
(35/53) Installing libcrypto1.0 (1.0.2o-r1)
(36/53) Installing libpcap (1.8.1-r0)
(37/53) Installing popt (1.16-r6)
(38/53) Installing logrotate (3.12.2-r0)
(39/53) Installing openssh-keygen (7.5_p1-r2)
(40/53) Installing openssh-server (7.5_p1-r2)
(41/53) Installing libssl1.0 (1.0.2o-r1)
(42/53) Installing openssl (1.0.2o-r1)
(43/53) Installing perl (5.24.4-r1)
(44/53) Installing pixman (0.34.0-r0)
(45/53) Installing radvd (2.15-r0)
Executing radvd-2.15-r0.pre-install
(46/53) Installing sudo (1.8.19_p2-r0)
(47/53) Installing libsmartcols (2.28.2-r2)
(48/53) Installing findmnt (2.28.2-r2)
(49/53) Installing libfdisk (2.28.2-r2)
(50/53) Installing util-linux (2.28.2-r2)
(51/53) Installing xz-libs (5.2.3-r0)
(52/53) Installing xz (5.2.3-r0)
(53/53) Installing yajl (2.1.0-r0)
Executing busybox-1.26.2-r5.trigger
Executing ca-certificates-20161130-r2.trigger
Executing glib-2.52.1-r0.trigger
OK: 73 MiB in 64 packages
 ---> 81e5e93c1c63
Removing intermediate container 80a586e6133b
Step 9/20 : RUN [ `uname -m` = "aarch64" ] && apk add --no-cache libfdt || :
 ---> Running in aa6a82b23e0f
fetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/aarch64/APKINDEX.tar.gz
(1/1) Installing libfdt (1.4.4-r0)
OK: 73 MiB in 65 packages
 ---> d0cea20473f2
Removing intermediate container aa6a82b23e0f
Step 10/20 : RUN ln -s libpcap.so.1 /usr/lib/libpcap.so
 ---> Running in 182a9e69d3a0
 ---> 006783b43f0a
Removing intermediate container 182a9e69d3a0
Step 11/20 : RUN ssh-keygen -A ; echo PermitRootLogin yes >> /etc/ssh/sshd_config ; sed -ie '/^root/s#^.*$#root:$6$Ndt1G5AYZFQ8rz7m$7vGZMKKotSYxwxk/.jMfuOCzxw0I3DNedygaQaLF7kYSYsLqiBHhmc8RJSXp8/VxSYPpgYSz/8fkv0hO6I4js.:17477:0:::::#' /etc/shadow
 ---> Running in 8497ea5e04d7
ssh-keygen: generating new host keys: RSA DSA ECDSA ED25519 
 ---> d2ad7ced4027
Removing intermediate container 8497ea5e04d7
Step 12/20 : COPY --from=xen-tools / /
 ---> 119f8224c5a9
Step 13/20 : COPY --from=ztools / /
 ---> c69ccbcd6f57
Step 14/20 : COPY --from=gpttools / /
 ---> d74af4d84dea
Step 15/20 : COPY --from=dnsmasq /usr/sbin/dnsmasq /opt/zededa/bin/dnsmasq
 ---> 71631f037bb9
Step 16/20 : COPY --from=strongswan / /
 ---> ba2122ddc1fd
Step 17/20 : COPY --from=watchdog /usr/sbin /usr/sbin
 ---> f7f6c9b066ba
Step 18/20 : COPY rootfs/ /
 ---> c79dc6f33f09
Step 19/20 : CMD /init.sh
 ---> Running in 3a14454e1ea8
 ---> c4b8a11b332c
Removing intermediate container 3a14454e1ea8
Step 20/20 : LABEL org.mobyproject.config '{"capabilities":["all"],"binds":["/dev:/dev","/etc/resolv.conf:/etc/resolv.conf","/run:/run","/var/log:/var/log/dom0","/:/hostfs"],"net":"host","pid":"host"}' org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '53f094d13dd408fdf5b5985f1c674a6ef72187f2' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in ce141e7187df
 ---> 64c230b2927a
Removing intermediate container ce141e7187df
Successfully built 64c230b2927a
Successfully tagged zededa/zedctr:a190fe1816a81a9f328417bcef9146dff0a4ede0-arm64
Pushing zededa/zedctr:a190fe1816a81a9f328417bcef9146dff0a4ede0-arm64
The push refers to a repository [docker.io/zededa/zedctr]
8d1af99302c6: Preparing
bc573c9d4f24: Preparing
2395b6a8a790: Preparing
59bb574fe5ab: Preparing
3edd81ed8cbc: Preparing
981b7b269978: Preparing
0a6d5c0670cf: Preparing
331456466fbb: Preparing
add3c432b60d: Preparing
f86bc9646955: Preparing
ff4c966031cb: Preparing
7678a2257549: Preparing
199db0687ace: Preparing
981b7b269978: Waiting
0a6d5c0670cf: Waiting
331456466fbb: Waiting
add3c432b60d: Waiting
f86bc9646955: Waiting
ff4c966031cb: Waiting
7678a2257549: Waiting
199db0687ace: Waiting
3edd81ed8cbc: Layer already exists
2395b6a8a790: Layer already exists
8d1af99302c6: Layer already exists
981b7b269978: Layer already exists
0a6d5c0670cf: Layer already exists
59bb574fe5ab: Pushed
bc573c9d4f24: Pushed
331456466fbb: Pushed
7678a2257549: Layer already exists
199db0687ace: Layer already exists
add3c432b60d: Pushed
f86bc9646955: Pushed
ff4c966031cb: Pushed
a190fe1816a81a9f328417bcef9146dff0a4ede0-arm64: digest: sha256:68ee5c97d909da356c671dd945ecb475af33038fb5963b073bfa3828f0587b9d size: 3047
Pushing zededa/zedctr:a190fe1816a81a9f328417bcef9146dff0a4ede0-arm64 to manifest zededa/zedctr:a190fe1816a81a9f328417bcef9146dff0a4ede0
time="2018-08-12T08:09:03+02:00" level=warning msg="Couldn't find or access image reference \"zededa/zedctr:a190fe1816a81a9f328417bcef9146dff0a4ede0-s390x\". Skipping image."
Digest: sha256:669ae92006c9f8f129d656ef5883db26f1b54e92af18c304d6828891d611ef00 743
Not signing zededa/zedctr:a190fe1816a81a9f328417bcef9146dff0a4ede0
Build and push complete, not releasing, all done.
make: Leaving directory '/home/zededa-ci/src/zenbuild/pkg'
make: Entering directory '/home/zededa-ci/src/zenbuild/build-pkgs'
Building and pushing "zededa/build-pkgs_abuild:7ae4d9f9fa290963de466d5ed96d6c9318354824"
7ae4d9f9fa290963de466d5ed96d6c9318354824: Pulling from zededa/build-pkgs_abuild
Digest: sha256:22b78884fbfaa63229780efef568946d6be4d36ee8774b73ec5860fc57681fb1
Status: Image is up to date for zededa/build-pkgs_abuild:7ae4d9f9fa290963de466d5ed96d6c9318354824
Building and pushing "zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693"
a3362428c518fb4db1a136a961bd17e8a66fb693: Pulling from zededa/build-pkgs_uefi
Digest: sha256:87e0176c6604fee9ca73bf90bfc44c4fd114edd2594a65097131397d6e4370e0
Status: Image is up to date for zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693
make: Leaving directory '/home/zededa-ci/src/zenbuild/build-pkgs'
cd bios ; _() { C=`docker create $1 fake` ; docker export $C | tar -xf - $2 ; docker rm $C ; } ; _ zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693-arm64 OVMF.fd
b96a2b8c78a3f3db82f520ef1214f0e3864d374368c6d5e782b09fc7d2fc6027
make -C build-tools all
make[1]: Entering directory '/home/zededa-ci/src/zenbuild/build-tools'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/home/zededa-ci/src/zenbuild/build-tools'
tee: /dev/tty: No such device or address
a190fe1816a81a9f328417bcef9146dff0a4ede0-arm64: Pulling from zededa/zedctr
Digest: sha256:68ee5c97d909da356c671dd945ecb475af33038fb5963b073bfa3828f0587b9d
Status: Image is up to date for zededa/zedctr:a190fe1816a81a9f328417bcef9146dff0a4ede0-arm64
DOCKER_ARCH_TAG="arm64" ./parse-pkgs.sh images/installer.yml.in > images/installer.yml
# the following is a horrible hack that needs to go away ASAP
if [ "aarch64" != `uname -m` ] ; then \
           sed -e '/source:/s#rootfs.img#rootfs_aarch64.img#' \
               -e '/command:/s#/dev/sda#/dev/vda#' -i.orig images/installer.yml ;\
   echo "WARNING: We are assembling a aarch64 image on `uname -m`. Things may break." ;\
        fi
DOCKER_ARCH_TAG="arm64" ./parse-pkgs.sh images/rootfs.yml.in > images/rootfs.yml
# the following is a horrible hack that needs to go away ASAP
if [ "aarch64" != `uname -m` ] ; then \
           sed -e '/source:/s#rootfs.img#rootfs_aarch64.img#' \
               -e '/command:/s#/dev/sda#/dev/vda#' -i.orig images/rootfs.yml ;\
   echo "WARNING: We are assembling a aarch64 image on `uname -m`. Things may break." ;\
        fi
./makerootfs.sh images/rootfs.yml squash rootfs_aarch64.img
Extract kernel image: zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c-arm64
Add init containers:
Process init image: zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590-arm64
Process init image: zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d-arm64
Process init image: zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed-arm64
Process init image: zededa/gpt-tools:f0be39997551891e81c6edc38acc20f61077287b-arm64
Process init image: zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760-arm64
Process init image: linuxkit/init:v0.5
Process init image: linuxkit/runc:v0.5
Process init image: linuxkit/containerd:v0.5
Process init image: linuxkit/getty:v0.5
Add onboot containers:
  Create OCI config for linuxkit/sysctl:v0.5
  Create OCI config for linuxkit/modprobe:v0.5
Add service containers:
  Create OCI config for linuxkit/dhcpcd:v0.5
  Create OCI config for linuxkit/openntpd:v0.5
  Create OCI config for zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d-arm64
  Create OCI config for zededa/wlan:cfd366430df0620df11b2af7f3d9d63d617a5903-arm64
  Create OCI config for zededa/zedctr:a190fe1816a81a9f328417bcef9146dff0a4ede0-arm64
Add files:
  /containers/services/zededa-tools/lower/opt/zededa/bin/versioninfo
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[============================================/               ] 11000/14738  74%[================================================\           ] 12000/14738  81%[===========================================================-] 14738/14738 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 165958.20 Kbytes (162.07 Mbytes)
	31.47% of uncompressed filesystem size (527330.04 Kbytes)
Inode table size 154693 bytes (151.07 Kbytes)
	26.04% of uncompressed inode table size (593966 bytes)
Directory table size 158459 bytes (154.75 Kbytes)
	45.14% of uncompressed directory table size (351048 bytes)
Number of duplicate files found 2491
Number of inodes 15799
Number of files 11557
Number of fragments 793
Number of symbolic links  2942
Number of device nodes 8
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 1292
Number of ids (unique uids + gids) 3
Number of uids 1
	root (0)
Number of gids 3
	root (0)
	shadow (42)
	tty (5)
./makeiso.sh images/installer.yml installer_aarch64.iso
Extract kernel image: zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c-arm64
Add init containers:
Process init image: zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590-arm64
Process init image: zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d-arm64
Process init image: zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed-arm64
Process init image: linuxkit/init:v0.5
Process init image: linuxkit/runc:v0.5
Process init image: linuxkit/getty:v0.5
Add onboot containers:
  Create OCI config for zededa/mkflash:d4131c74a9e283a1e4ee5f3aa80b47b538378411-arm64
Add files:
  /parts/config.img
  /parts/rootfs.img
time="2018-08-12T08:12:13+02:00" level=fatal msg="failed to add filesystem parts: open rootfs.img: no such file or directory"
xorriso 1.4.6 : RockRidge filesystem manipulator, libburnia project.

Drive current: -outdev 'stdio:linuxkit-efi.iso'
Media current: stdio file, overwriteable
Media status : is blank
Media summary: 0 sessions, 0 data blocks, 0 data,  765g free
Added to ISO image: directory '/'='/tmp/efi'
xorriso : UPDATE : 4596 files added in 1 seconds
xorriso : UPDATE : 4596 files added in 1 seconds
libisofs: NOTE : Cannot arrange content of data files in surely reproducible way
xorriso : UPDATE :  15.54% done
ISO image produced: 99927 sectors
Written to medium : 99927 sectors at LBA 0
Writing to 'stdio:linuxkit-efi.iso' completed successfully.

tar c rootfs_aarch64.img config.img | ./makeflash.sh -C 8192 fallback_aarch64.raw
1+0 records in
1+0 records out
1 byte copied, 0.000143097 s, 7.0 kB/s
+ IMGFILE=/output.img
+ NUMPARTS=9
+ mkdir -p /parts
+ [ -t 0 ]
+ cd /parts
+ bsdtar xzf -
+ ESP_FILE=/tmp/efifs.img
+ cut -f1 -d 
+ echo /parts/rootfs_aarch64.img
+ IMGA_FILE=/parts/rootfs_aarch64.img
+ CONF_FILE=/parts/config.img
+ mount -o loop /parts/rootfs_aarch64.img /mnt
mount: mounting /dev/loop0 on /mnt failed: Invalid argument
Makefile:152: recipe for target 'fallback_aarch64.raw' failed
make: *** [fallback_aarch64.raw] Error 111
make: Entering directory '/home/zededa-ci/src/zenbuild/build-pkgs'
Building and pushing "zededa/zenix:latest"
Sending build context to Docker daemon  517.3MB
Step 1/9 : FROM alpine:edge
 ---> 698b28d4f8d1
Step 2/9 : RUN apk add --no-cache qemu-system-x86_64 qemu-system-aarch64 bash make git
 ---> Using cache
 ---> 5b21459beb8b
Step 3/9 : COPY . /bits/
 ---> Using cache
 ---> c5f345eda82a
Step 4/9 : COPY OVMF.fd /bits/bios/OVMF.fd
 ---> Using cache
 ---> e342e4ec1c5c
Step 5/9 : COPY runme.sh /
 ---> Using cache
 ---> c300c2ff8dc7
Step 6/9 : RUN touch /bits/bios/OVMF.fd
 ---> Using cache
 ---> 85b9a3f966f3
Step 7/9 : WORKDIR /bits
 ---> Using cache
 ---> b59a8adaf13d
Step 8/9 : ENTRYPOINT /runme.sh
 ---> Using cache
 ---> a2c4b6771d85
Step 9/9 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '53f094d13dd408fdf5b5985f1c674a6ef72187f2' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Using cache
 ---> dbf391aefdb9
Successfully built dbf391aefdb9
Successfully tagged zededa/zenix:latest-arm64
Pushing zededa/zenix:latest-arm64
The push refers to a repository [docker.io/zededa/zenix]
96feea203423: Preparing
c96588d795bb: Preparing
5ef670ff3c99: Preparing
841a93c06d96: Preparing
18d6c5bbfc56: Preparing
7f4507898901: Preparing
2a2e682c36db: Preparing
7f4507898901: Waiting
2a2e682c36db: Waiting
5ef670ff3c99: Layer already exists
18d6c5bbfc56: Layer already exists
96feea203423: Layer already exists
c96588d795bb: Layer already exists
7f4507898901: Layer already exists
2a2e682c36db: Layer already exists
841a93c06d96: Layer already exists
latest-arm64: digest: sha256:be4b5a736705a22397d05b228ba358be0c79b2781e89285cef3843f1b23f18f1 size: 1787
Pushing zededa/zenix:latest-arm64 to manifest zededa/zenix:latest
time="2018-08-12T08:13:12+02:00" level=warning msg="Couldn't find or access image reference \"zededa/zenix:latest-s390x\". Skipping image."
Digest: sha256:b40df3cf887dd56b9cdb0f0022647dee4ad5787fea84627e14d29ad85024ba48 743
Not signing zededa/zenix:latest
Build and push complete, not releasing, all done.
make: Leaving directory '/home/zededa-ci/src/zenbuild/build-pkgs'
FINISHED
