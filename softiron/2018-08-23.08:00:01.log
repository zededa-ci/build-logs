From https://github.com/zededa/zenbuild
   83da2b8..9260d9d  0.9        -> origin/0.9
Already up-to-date.
make -C build-tools all
make[1]: Entering directory '/home/zededa-ci/src/zenbuild/build-tools'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/home/zededa-ci/src/zenbuild/build-tools'
From github.com:zededa/go-provision
   c65bb6f..2ef4a48  master        -> origin/master
   751ea4f..8b172d1  service_stats -> origin/service_stats
Updating c65bb6f..2ef4a48
Fast-forward
 Gopkg.lock                                         |   89 +-
 .../github.com/zededa/api/zconfig/netcmn.pb.go     |   70 +-
 .../github.com/zededa/api/zconfig/netconfig.pb.go  |   64 +-
 src/vendor/github.com/zededa/api/zmet/zlog.pb.go   |   16 +
 src/vendor/github.com/zededa/api/zmet/zmet.pb.go   | 1441 +++++++++++++++++---
 5 files changed, 1408 insertions(+), 272 deletions(-)
From github.com:zededa/lisp
   3f58ac4..5bac872  master     -> origin/master
Updating 3f58ac4..5bac872
Fast-forward
 Gopkg.lock                                         |   62 +-
 Gopkg.toml                                         |    2 +-
 Makefile                                           |    9 +
 cmd/dataplane/main.go                              |   45 +-
 dataplane/fib/mapfib.go                            |   12 +-
 dataplane/itr/itr.go                               |    4 +-
 vendor/github.com/eriknordmark/ipinfo/ipinfo.go    |   28 +-
 vendor/github.com/google/go-cmp/LICENSE            |   27 +
 vendor/github.com/google/go-cmp/cmp/compare.go     |  553 ++++++++++
 .../go-cmp/cmp/internal/diff/debug_disable.go      |   17 +
 .../go-cmp/cmp/internal/diff/debug_enable.go       |  122 +++
 .../google/go-cmp/cmp/internal/diff/diff.go        |  363 +++++++
 .../google/go-cmp/cmp/internal/function/func.go    |   49 +
 .../google/go-cmp/cmp/internal/value/format.go     |  277 +++++
 .../google/go-cmp/cmp/internal/value/sort.go       |  111 ++
 vendor/github.com/google/go-cmp/cmp/options.go     |  453 ++++++++
 vendor/github.com/google/go-cmp/cmp/path.go        |  309 ++++++
 vendor/github.com/google/go-cmp/cmp/reporter.go    |   53 +
 .../github.com/google/go-cmp/cmp/unsafe_panic.go   |   15 +
 .../github.com/google/go-cmp/cmp/unsafe_reflect.go |   23 +
 vendor/github.com/satori/go.uuid/README.md         |   17 +-
 vendor/github.com/satori/go.uuid/generator.go      |  186 ++--
 .../zededa/go-provision/agentlog/agentlog.go       |   24 +-
 vendor/github.com/zededa/go-provision/cast/cast.go |  314 ++++++
 .../zededa/go-provision/flextimer/flextimer.go     |  156 +++
 .../zededa/go-provision/pubsub/pubsub.go           |  817 +++++++++++++++
 .../src/github.com/zededa/go-provision/cast        |    1 +
 .../src/github.com/zededa/go-provision/cmd         |    1 +
 .../src/github.com/zededa/go-provision/dataplane   |    1 -
 .../src/github.com/zededa/go-provision/diskmetrics |    1 +
 .../src/github.com/zededa/go-provision/pubsub      |    1 +
 .../src/github.com/zededa/go-provision/zedbox      |    1 +
 .../zededa/go-provision/types/dataplanetypes.go    |  200 ----
 .../zededa/go-provision/types/domainmgrtypes.go    |   66 +-
 .../zededa/go-provision/types/downloadertypes.go   |   25 +-
 .../zededa/go-provision/types/eidtypes.go          |   24 +-
 .../zededa/go-provision/types/ifnametopci.go       |    9 +-
 .../zededa/go-provision/types/onboardingtypes.go   |   15 -
 .../zededa/go-provision/types/verifiertypes.go     |   26 +-
 .../zededa/go-provision/types/zedagenttypes.go     |   51 +-
 .../zededa/go-provision/types/zedmanagertypes.go   |   23 +-
 .../zededa/go-provision/types/zedroutertypes.go    |  357 ++++++-
 .../go-provision/watch/handleconfigstatus.go       |   14 +-
 .../zededa/go-provision/watch/watchconfigstatus.go |  175 +++-
 .../github.com/zededa/go-provision/zboot/zboot.go  |   43 +-
 vendor/golang.org/x/sys/unix/aliases.go            |   14 +
 vendor/golang.org/x/sys/unix/asm_dragonfly_amd64.s |   10 +-
 vendor/golang.org/x/sys/unix/cap_freebsd.go        |   30 +-
 .../golang.org/x/sys/unix/{flock.go => fcntl.go}   |   10 +
 .../{flock_linux_32bit.go => fcntl_linux_32bit.go} |    0
 vendor/golang.org/x/sys/unix/gccgo_c.c             |    9 -
 vendor/golang.org/x/sys/unix/ioctl.go              |   30 +
 vendor/golang.org/x/sys/unix/mkerrors.sh           |   69 +-
 vendor/golang.org/x/sys/unix/mkpost.go             |   13 +-
 vendor/golang.org/x/sys/unix/mksysctl_openbsd.pl   |    2 +-
 vendor/golang.org/x/sys/unix/mksysnum_freebsd.pl   |    2 +-
 vendor/golang.org/x/sys/unix/openbsd_pledge.go     |   77 +-
 vendor/golang.org/x/sys/unix/syscall_bsd.go        |   49 +-
 vendor/golang.org/x/sys/unix/syscall_darwin.go     |  126 ++-
 vendor/golang.org/x/sys/unix/syscall_dragonfly.go  |    6 +-
 vendor/golang.org/x/sys/unix/syscall_freebsd.go    |  234 +----
 vendor/golang.org/x/sys/unix/syscall_linux.go      |  249 +++--
 vendor/golang.org/x/sys/unix/syscall_linux_386.go  |   16 +-
 .../golang.org/x/sys/unix/syscall_linux_amd64.go   |   22 +-
 vendor/golang.org/x/sys/unix/syscall_linux_arm.go  |   10 +-
 .../golang.org/x/sys/unix/syscall_linux_arm64.go   |   54 +-
 .../golang.org/x/sys/unix/syscall_linux_gc_386.go  |   16 +
 .../x/sys/unix/syscall_linux_gccgo_386.go          |   30 +
 ...l_linux_gccgo.go => syscall_linux_gccgo_arm.go} |    9 +-
 .../golang.org/x/sys/unix/syscall_linux_mips64x.go |    4 +
 .../golang.org/x/sys/unix/syscall_linux_mipsx.go   |   19 +-
 .../golang.org/x/sys/unix/syscall_linux_ppc64x.go  |    7 +-
 .../golang.org/x/sys/unix/syscall_linux_s390x.go   |    4 +
 .../golang.org/x/sys/unix/syscall_linux_sparc64.go |    2 +
 vendor/golang.org/x/sys/unix/syscall_netbsd.go     |   17 +-
 vendor/golang.org/x/sys/unix/syscall_openbsd.go    |    9 +-
 .../golang.org/x/sys/unix/syscall_openbsd_amd64.go |    4 +
 vendor/golang.org/x/sys/unix/syscall_solaris.go    |   24 +-
 .../golang.org/x/sys/unix/syscall_solaris_amd64.go |    5 -
 vendor/golang.org/x/sys/unix/syscall_unix.go       |   82 +-
 vendor/golang.org/x/sys/unix/types_dragonfly.go    |   17 -
 vendor/golang.org/x/sys/unix/types_freebsd.go      |   17 -
 vendor/golang.org/x/sys/unix/types_openbsd.go      |   17 -
 vendor/golang.org/x/sys/unix/xattr_bsd.go          |  231 +++++
 vendor/golang.org/x/sys/unix/zerrors_darwin_386.go |  292 +++---
 .../golang.org/x/sys/unix/zerrors_darwin_amd64.go  |  292 +++---
 vendor/golang.org/x/sys/unix/zerrors_darwin_arm.go |  292 +++---
 .../golang.org/x/sys/unix/zerrors_darwin_arm64.go  |  292 +++---
 .../x/sys/unix/zerrors_dragonfly_amd64.go          |  310 +++---
 .../golang.org/x/sys/unix/zerrors_freebsd_386.go   |  299 +++---
 .../golang.org/x/sys/unix/zerrors_freebsd_amd64.go |  299 +++---
 .../golang.org/x/sys/unix/zerrors_freebsd_arm.go   |  299 +++---
 vendor/golang.org/x/sys/unix/zerrors_linux_386.go  |  656 +++++++++---
 .../golang.org/x/sys/unix/zerrors_linux_amd64.go   |  655 +++++++++---
 vendor/golang.org/x/sys/unix/zerrors_linux_arm.go  |  654 +++++++++---
 .../golang.org/x/sys/unix/zerrors_linux_arm64.go   |  656 +++++++++---
 vendor/golang.org/x/sys/unix/zerrors_linux_mips.go |  659 +++++++++---
 .../golang.org/x/sys/unix/zerrors_linux_mips64.go  |  659 +++++++++---
 .../x/sys/unix/zerrors_linux_mips64le.go           |  659 +++++++++---
 .../golang.org/x/sys/unix/zerrors_linux_mipsle.go  |  659 +++++++++---
 .../golang.org/x/sys/unix/zerrors_linux_ppc64.go   |  655 +++++++++---
 .../golang.org/x/sys/unix/zerrors_linux_ppc64le.go |  655 +++++++++---
 .../golang.org/x/sys/unix/zerrors_linux_s390x.go   |  654 +++++++++---
 .../golang.org/x/sys/unix/zerrors_linux_sparc64.go |    2 +-
 vendor/golang.org/x/sys/unix/zerrors_netbsd_386.go |  273 ++---
 .../golang.org/x/sys/unix/zerrors_netbsd_amd64.go  |  273 ++---
 vendor/golang.org/x/sys/unix/zerrors_netbsd_arm.go |  273 ++---
 .../golang.org/x/sys/unix/zerrors_openbsd_386.go   |  287 +++---
 .../golang.org/x/sys/unix/zerrors_openbsd_amd64.go |  533 ++++++----
 .../golang.org/x/sys/unix/zerrors_openbsd_arm.go   |  287 +++---
 .../golang.org/x/sys/unix/zerrors_solaris_amd64.go |  336 +++---
 .../golang.org/x/sys/unix/zsyscall_darwin_386.go   |  134 +++
 .../golang.org/x/sys/unix/zsyscall_darwin_amd64.go |  134 +++
 .../golang.org/x/sys/unix/zsyscall_darwin_arm.go   |  136 ++-
 .../golang.org/x/sys/unix/zsyscall_darwin_arm64.go |  134 +++
 vendor/golang.org/x/sys/unix/zsyscall_linux_386.go |  263 +++--
 .../golang.org/x/sys/unix/zsyscall_linux_amd64.go  |  259 +++--
 vendor/golang.org/x/sys/unix/zsyscall_linux_arm.go |  257 +++--
 .../golang.org/x/sys/unix/zsyscall_linux_arm64.go  |  182 ++--
 .../golang.org/x/sys/unix/zsyscall_linux_mips.go   |  297 ++++--
 .../golang.org/x/sys/unix/zsyscall_linux_mips64.go |  233 +++--
 .../x/sys/unix/zsyscall_linux_mips64le.go          |  233 +++--
 .../golang.org/x/sys/unix/zsyscall_linux_mipsle.go |  297 ++++--
 .../golang.org/x/sys/unix/zsyscall_linux_ppc64.go  |  249 +++--
 .../x/sys/unix/zsyscall_linux_ppc64le.go           |  249 +++--
 .../golang.org/x/sys/unix/zsyscall_linux_s390x.go  |  233 +++--
 .../x/sys/unix/zsyscall_linux_sparc64.go           |  451 ++++++--
 .../golang.org/x/sys/unix/zsyscall_netbsd_386.go   |  229 +++++
 .../golang.org/x/sys/unix/zsyscall_netbsd_amd64.go |  229 +++++
 .../golang.org/x/sys/unix/zsyscall_netbsd_arm.go   |  229 +++++
 .../golang.org/x/sys/unix/zsyscall_openbsd_386.go  |   36 +
 .../x/sys/unix/zsyscall_openbsd_amd64.go           |   36 +
 .../golang.org/x/sys/unix/zsyscall_openbsd_arm.go  |   36 +
 .../x/sys/unix/zsyscall_solaris_amd64.go           |   28 +
 .../golang.org/x/sys/unix/zsysctl_openbsd_386.go   |    2 +-
 .../golang.org/x/sys/unix/zsysctl_openbsd_amd64.go |   53 +-
 .../golang.org/x/sys/unix/zsysctl_openbsd_arm.go   |    2 +-
 .../golang.org/x/sys/unix/zsysnum_freebsd_386.go   |  736 ++++++-------
 .../golang.org/x/sys/unix/zsysnum_freebsd_amd64.go |  736 ++++++-------
 .../golang.org/x/sys/unix/zsysnum_freebsd_arm.go   |  736 ++++++-------
 vendor/golang.org/x/sys/unix/zsysnum_linux_386.go  |    2 +
 .../golang.org/x/sys/unix/zsysnum_linux_amd64.go   |    2 +
 vendor/golang.org/x/sys/unix/zsysnum_linux_arm.go  |    1 +
 .../golang.org/x/sys/unix/zsysnum_linux_arm64.go   |    1 +
 vendor/golang.org/x/sys/unix/zsysnum_linux_mips.go |    2 +
 .../golang.org/x/sys/unix/zsysnum_linux_mips64.go  |    2 +
 .../x/sys/unix/zsysnum_linux_mips64le.go           |    2 +
 .../golang.org/x/sys/unix/zsysnum_linux_mipsle.go  |    2 +
 .../golang.org/x/sys/unix/zsysnum_linux_ppc64.go   |    5 +
 .../golang.org/x/sys/unix/zsysnum_linux_ppc64le.go |    5 +
 .../golang.org/x/sys/unix/zsysnum_linux_s390x.go   |   47 +-
 .../golang.org/x/sys/unix/zsysnum_linux_sparc64.go |    2 +-
 vendor/golang.org/x/sys/unix/zsysnum_netbsd_386.go |    2 +-
 .../golang.org/x/sys/unix/zsysnum_netbsd_amd64.go  |    2 +-
 vendor/golang.org/x/sys/unix/zsysnum_netbsd_arm.go |    2 +-
 .../golang.org/x/sys/unix/zsysnum_openbsd_386.go   |    2 +-
 .../golang.org/x/sys/unix/zsysnum_openbsd_amd64.go |   25 +-
 .../golang.org/x/sys/unix/zsysnum_openbsd_arm.go   |    2 +-
 .../x/sys/unix/ztypes_dragonfly_amd64.go           |   17 -
 vendor/golang.org/x/sys/unix/ztypes_freebsd_386.go |   17 -
 .../golang.org/x/sys/unix/ztypes_freebsd_amd64.go  |   17 -
 vendor/golang.org/x/sys/unix/ztypes_freebsd_arm.go |   17 -
 vendor/golang.org/x/sys/unix/ztypes_linux_386.go   | 1079 ++++++++++++++++++-
 vendor/golang.org/x/sys/unix/ztypes_linux_amd64.go | 1049 ++++++++++++++++++-
 vendor/golang.org/x/sys/unix/ztypes_linux_arm.go   | 1082 +++++++++++++++++++-
 vendor/golang.org/x/sys/unix/ztypes_linux_arm64.go | 1051 ++++++++++++++++++-
 vendor/golang.org/x/sys/unix/ztypes_linux_mips.go  | 1048 ++++++++++++++++++-
 .../golang.org/x/sys/unix/ztypes_linux_mips64.go   | 1047 ++++++++++++++++++-
 .../golang.org/x/sys/unix/ztypes_linux_mips64le.go | 1047 ++++++++++++++++++-
 .../golang.org/x/sys/unix/ztypes_linux_mipsle.go   | 1048 ++++++++++++++++++-
 vendor/golang.org/x/sys/unix/ztypes_linux_ppc64.go | 1057 ++++++++++++++++++-
 .../golang.org/x/sys/unix/ztypes_linux_ppc64le.go  | 1057 ++++++++++++++++++-
 vendor/golang.org/x/sys/unix/ztypes_linux_s390x.go | 1029 ++++++++++++++++++-
 vendor/golang.org/x/sys/unix/ztypes_openbsd_386.go |   17 -
 .../golang.org/x/sys/unix/ztypes_openbsd_amd64.go  |  108 +-
 vendor/golang.org/x/sys/unix/ztypes_openbsd_arm.go |   17 -
 176 files changed, 29777 insertions(+), 7452 deletions(-)
 create mode 100644 vendor/github.com/google/go-cmp/LICENSE
 create mode 100644 vendor/github.com/google/go-cmp/cmp/compare.go
 create mode 100644 vendor/github.com/google/go-cmp/cmp/internal/diff/debug_disable.go
 create mode 100644 vendor/github.com/google/go-cmp/cmp/internal/diff/debug_enable.go
 create mode 100644 vendor/github.com/google/go-cmp/cmp/internal/diff/diff.go
 create mode 100644 vendor/github.com/google/go-cmp/cmp/internal/function/func.go
 create mode 100644 vendor/github.com/google/go-cmp/cmp/internal/value/format.go
 create mode 100644 vendor/github.com/google/go-cmp/cmp/internal/value/sort.go
 create mode 100644 vendor/github.com/google/go-cmp/cmp/options.go
 create mode 100644 vendor/github.com/google/go-cmp/cmp/path.go
 create mode 100644 vendor/github.com/google/go-cmp/cmp/reporter.go
 create mode 100644 vendor/github.com/google/go-cmp/cmp/unsafe_panic.go
 create mode 100644 vendor/github.com/google/go-cmp/cmp/unsafe_reflect.go
 create mode 100644 vendor/github.com/zededa/go-provision/cast/cast.go
 create mode 100644 vendor/github.com/zededa/go-provision/flextimer/flextimer.go
 create mode 100644 vendor/github.com/zededa/go-provision/pubsub/pubsub.go
 create mode 120000 vendor/github.com/zededa/go-provision/src/github.com/zededa/go-provision/cast
 create mode 120000 vendor/github.com/zededa/go-provision/src/github.com/zededa/go-provision/cmd
 delete mode 120000 vendor/github.com/zededa/go-provision/src/github.com/zededa/go-provision/dataplane
 create mode 120000 vendor/github.com/zededa/go-provision/src/github.com/zededa/go-provision/diskmetrics
 create mode 120000 vendor/github.com/zededa/go-provision/src/github.com/zededa/go-provision/pubsub
 create mode 120000 vendor/github.com/zededa/go-provision/src/github.com/zededa/go-provision/zedbox
 delete mode 100644 vendor/github.com/zededa/go-provision/types/dataplanetypes.go
 create mode 100644 vendor/golang.org/x/sys/unix/aliases.go
 rename vendor/golang.org/x/sys/unix/{flock.go => fcntl.go} (70%)
 rename vendor/golang.org/x/sys/unix/{flock_linux_32bit.go => fcntl_linux_32bit.go} (100%)
 create mode 100644 vendor/golang.org/x/sys/unix/ioctl.go
 create mode 100644 vendor/golang.org/x/sys/unix/syscall_linux_gc_386.go
 create mode 100644 vendor/golang.org/x/sys/unix/syscall_linux_gccgo_386.go
 rename vendor/golang.org/x/sys/unix/{syscall_linux_gccgo.go => syscall_linux_gccgo_arm.go} (53%)
 create mode 100644 vendor/golang.org/x/sys/unix/xattr_bsd.go
Building and pushing "zededa/lisp:1943d8878627049ed2ee3ba1d38d48d7e82f86ac"
1943d8878627049ed2ee3ba1d38d48d7e82f86ac: Pulling from zededa/lisp
no matching manifest for linux/arm64 in the manifest list entries
No image pulled, continuing with build
Sending build context to Docker daemon  10.66MB
Step 1/20 : FROM golang:1.9.1-alpine AS go-build
 ---> cc52d0ad4cce
Step 2/20 : RUN apk update
 ---> Using cache
 ---> 06dc54679d07
Step 3/20 : RUN apk add --no-cache git gcc linux-headers libc-dev libpcap-dev
 ---> Using cache
 ---> e0b117c95ac3
Step 4/20 : ADD . /go/src/github.com/zededa/lisp
 ---> 25efb619ab90
Step 5/20 : RUN go install github.com/zededa/lisp/cmd/...
 ---> Running in 79dde8fb217b
 ---> d2e3e8105b7e
Removing intermediate container 79dde8fb217b
Step 6/20 : FROM alpine:3.6
 ---> a9277cb286bb
Step 7/20 : RUN apk add --no-cache curl gcc linux-headers libc-dev python python-dev libffi-dev openssl-dev libpcap-dev iproute2 tcpdump ethtool ip6tables
 ---> Using cache
 ---> 22c4198640c2
Step 8/20 : RUN mkdir /lisp
 ---> Using cache
 ---> a735a97af9aa
Step 9/20 : ARG LISP_URL=https://www.dropbox.com/s/ogfu5gaw550rlkq/zededa.tgz
 ---> Using cache
 ---> e7b21c08194f
Step 10/20 : RUN cd /lisp ; curl --insecure -L $LISP_URL | gzip -dc | tar -xf -
 ---> Using cache
 ---> cd58f592636e
Step 11/20 : ADD scripts/sudo /usr/bin/sudo
 ---> Using cache
 ---> a1f724579c22
Step 12/20 : ADD conf scripts/RESTART-LISP scripts/RUN-LISP.rtr1 scripts/RUN-LISP scripts/STOP-LISP scripts/CONFIG-SVC scripts/RL scripts/pslisp scripts/log-packets scripts/ping-mesh.py /lisp/
 ---> Using cache
 ---> 6980d930a181
Step 13/20 : RUN python /lisp/get-pip.py
 ---> Using cache
 ---> 79c858a2ab6c
Step 14/20 : RUN pip install -r /lisp/pip-requirements.txt
 ---> Using cache
 ---> f6e07a89b552
Step 15/20 : RUN echo 'PS1="`hostname | cut -d . -f 0` > "' >> /root/.profile
 ---> Using cache
 ---> faf2e848c055
Step 16/20 : COPY --from=go-build /go/bin/dataplane /lisp/lisp-ztr
 ---> bcd15df0c3ff
Step 17/20 : EXPOSE 8080
 ---> Running in 4c8830cd5ba9
 ---> 709b14c7f683
Removing intermediate container 4c8830cd5ba9
Step 18/20 : WORKDIR /lisp
 ---> 7790f334127c
Removing intermediate container 4d565c7268a8
Step 19/20 : CMD ./CONFIG-SVC ; ./RL ; sleep 5 ; tail -f ./logs/*
 ---> Running in ba834478383a
 ---> f4b74579b1dd
Removing intermediate container ba834478383a
Step 20/20 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '5bac872760a36fc87deab09f7e6eed598d64a9fe' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 8c1a3c24666e
 ---> be77e273df29
Removing intermediate container 8c1a3c24666e
Successfully built be77e273df29
Successfully tagged zededa/lisp:1943d8878627049ed2ee3ba1d38d48d7e82f86ac-arm64
Pushing zededa/lisp:1943d8878627049ed2ee3ba1d38d48d7e82f86ac-arm64
The push refers to a repository [docker.io/zededa/lisp]
33fe7bf2f933: Preparing
bad01b709fbd: Preparing
e7ebfa270a08: Preparing
63448c5fb5b3: Preparing
3e7ff2b4290f: Preparing
d07a0209af0b: Preparing
f40ac4a0be73: Preparing
b2de77c3ccdf: Preparing
7559e6e3855b: Preparing
7678a2257549: Preparing
199db0687ace: Preparing
b2de77c3ccdf: Waiting
7559e6e3855b: Waiting
d07a0209af0b: Waiting
7678a2257549: Waiting
199db0687ace: Waiting
63448c5fb5b3: Layer already exists
bad01b709fbd: Layer already exists
3e7ff2b4290f: Layer already exists
e7ebfa270a08: Layer already exists
b2de77c3ccdf: Layer already exists
7559e6e3855b: Layer already exists
f40ac4a0be73: Layer already exists
7678a2257549: Layer already exists
199db0687ace: Layer already exists
d07a0209af0b: Layer already exists
33fe7bf2f933: Pushed
1943d8878627049ed2ee3ba1d38d48d7e82f86ac-arm64: digest: sha256:a1e3a8718d71332c319cc2dfd1b86ecd3c576274df6f37c4c512d8317f878562 size: 2621
Pushing zededa/lisp:1943d8878627049ed2ee3ba1d38d48d7e82f86ac-arm64 to manifest zededa/lisp:1943d8878627049ed2ee3ba1d38d48d7e82f86ac
time="2018-08-23T08:01:03+02:00" level=warning msg="Couldn't find or access image reference \"zededa/lisp:1943d8878627049ed2ee3ba1d38d48d7e82f86ac-s390x\". Skipping image."
Digest: sha256:3cbffb2cbed8eb28b0f21fd1d9f936f49202b40eb8a082a9e0879a0f3055a8cd 743
Not signing zededa/lisp:1943d8878627049ed2ee3ba1d38d48d7e82f86ac
Build and push complete, not releasing, all done.
Building and pushing "zededa/lisp:latest"
Sending build context to Docker daemon  10.66MB
Step 1/20 : FROM golang:1.9.1-alpine AS go-build
 ---> cc52d0ad4cce
Step 2/20 : RUN apk update
 ---> Using cache
 ---> 06dc54679d07
Step 3/20 : RUN apk add --no-cache git gcc linux-headers libc-dev libpcap-dev
 ---> Using cache
 ---> e0b117c95ac3
Step 4/20 : ADD . /go/src/github.com/zededa/lisp
 ---> Using cache
 ---> 25efb619ab90
Step 5/20 : RUN go install github.com/zededa/lisp/cmd/...
 ---> Using cache
 ---> d2e3e8105b7e
Step 6/20 : FROM alpine:3.6
 ---> a9277cb286bb
Step 7/20 : RUN apk add --no-cache curl gcc linux-headers libc-dev python python-dev libffi-dev openssl-dev libpcap-dev iproute2 tcpdump ethtool ip6tables
 ---> Using cache
 ---> 22c4198640c2
Step 8/20 : RUN mkdir /lisp
 ---> Using cache
 ---> a735a97af9aa
Step 9/20 : ARG LISP_URL=https://www.dropbox.com/s/ogfu5gaw550rlkq/zededa.tgz
 ---> Using cache
 ---> e7b21c08194f
Step 10/20 : RUN cd /lisp ; curl --insecure -L $LISP_URL | gzip -dc | tar -xf -
 ---> Using cache
 ---> cd58f592636e
Step 11/20 : ADD scripts/sudo /usr/bin/sudo
 ---> Using cache
 ---> a1f724579c22
Step 12/20 : ADD conf scripts/RESTART-LISP scripts/RUN-LISP.rtr1 scripts/RUN-LISP scripts/STOP-LISP scripts/CONFIG-SVC scripts/RL scripts/pslisp scripts/log-packets scripts/ping-mesh.py /lisp/
 ---> Using cache
 ---> 6980d930a181
Step 13/20 : RUN python /lisp/get-pip.py
 ---> Using cache
 ---> 79c858a2ab6c
Step 14/20 : RUN pip install -r /lisp/pip-requirements.txt
 ---> Using cache
 ---> f6e07a89b552
Step 15/20 : RUN echo 'PS1="`hostname | cut -d . -f 0` > "' >> /root/.profile
 ---> Using cache
 ---> faf2e848c055
Step 16/20 : COPY --from=go-build /go/bin/dataplane /lisp/lisp-ztr
 ---> Using cache
 ---> bcd15df0c3ff
Step 17/20 : EXPOSE 8080
 ---> Using cache
 ---> 709b14c7f683
Step 18/20 : WORKDIR /lisp
 ---> Using cache
 ---> 7790f334127c
Step 19/20 : CMD ./CONFIG-SVC ; ./RL ; sleep 5 ; tail -f ./logs/*
 ---> Using cache
 ---> f4b74579b1dd
Step 20/20 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '5bac872760a36fc87deab09f7e6eed598d64a9fe' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Using cache
 ---> be77e273df29
Successfully built be77e273df29
Successfully tagged zededa/lisp:latest-arm64
Pushing zededa/lisp:latest-arm64
The push refers to a repository [docker.io/zededa/lisp]
33fe7bf2f933: Preparing
bad01b709fbd: Preparing
e7ebfa270a08: Preparing
63448c5fb5b3: Preparing
3e7ff2b4290f: Preparing
d07a0209af0b: Preparing
f40ac4a0be73: Preparing
b2de77c3ccdf: Preparing
7559e6e3855b: Preparing
7678a2257549: Preparing
199db0687ace: Preparing
b2de77c3ccdf: Waiting
7559e6e3855b: Waiting
7678a2257549: Waiting
d07a0209af0b: Waiting
199db0687ace: Waiting
f40ac4a0be73: Waiting
63448c5fb5b3: Layer already exists
bad01b709fbd: Layer already exists
3e7ff2b4290f: Layer already exists
e7ebfa270a08: Layer already exists
33fe7bf2f933: Layer already exists
d07a0209af0b: Layer already exists
7678a2257549: Layer already exists
f40ac4a0be73: Layer already exists
7559e6e3855b: Layer already exists
b2de77c3ccdf: Layer already exists
199db0687ace: Layer already exists
latest-arm64: digest: sha256:a1e3a8718d71332c319cc2dfd1b86ecd3c576274df6f37c4c512d8317f878562 size: 2621
Pushing zededa/lisp:latest-arm64 to manifest zededa/lisp:latest
time="2018-08-23T08:01:15+02:00" level=warning msg="Couldn't find or access image reference \"zededa/lisp:latest-s390x\". Skipping image."
Digest: sha256:67442d112cbfb46f693c94afd7f1c02597e36de35ebad750862925d7146aaba6 743
Not signing zededa/lisp:latest
Build and push complete, not releasing, all done.
Building and pushing "zededa/ztools:534dedee83a3538347e77951c26cb50ce3dc0bca"
534dedee83a3538347e77951c26cb50ce3dc0bca: Pulling from zededa/ztools
no matching manifest for linux/arm64 in the manifest list entries
No image pulled, continuing with build
Sending build context to Docker daemon  27.88MB
Step 1/33 : FROM golang:1.9.1-alpine AS build
 ---> cc52d0ad4cce
Step 2/33 : RUN apk update
 ---> Using cache
 ---> 06dc54679d07
Step 3/33 : RUN apk add --no-cache git gcc linux-headers libc-dev util-linux
 ---> Using cache
 ---> bcd126094d65
Step 4/33 : ADD ./ /go/src/github.com/zededa/go-provision/
 ---> 15bd77ff0a0d
Step 5/33 : ADD etc /config
 ---> 40ff52c0fadd
Step 6/33 : ADD scripts/device-steps.sh scripts/find-uplink.sh scripts/generate-device.sh scripts/generate-self-signed.sh scripts/handlezedserverconfig.sh /opt/zededa/bin/
 ---> c5bf800447a1
Step 7/33 : ADD examples /opt/zededa/examples
 ---> 341b7a4c2cc2
Step 8/33 : ADD AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> 91061d44d9c2
Step 9/33 : ADD DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> b12bd0b2553a
Step 10/33 : ADD lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> 16889724f7a4
Step 11/33 : RUN (cd ./src/github.com/zededa/go-provision/; scripts/getversion.sh >/opt/zededa/bin/versioninfo)
 ---> Running in 8d0ca88a73f7
 ---> 09efa08f44b3
Removing intermediate container 8d0ca88a73f7
Step 12/33 : RUN cp /opt/zededa/bin/versioninfo /opt/zededa/bin/versioninfo.1
 ---> Running in d1a35d3f3517
 ---> 63d26e94f3b7
Removing intermediate container d1a35d3f3517
Step 13/33 : RUN echo Building: `cat /opt/zededa/bin/versioninfo`
 ---> Running in b03e7b15da0f
Building: 20180314-test-2ef4a482-2018-08-23.06.01
 ---> 386f9f3c7d6b
Removing intermediate container b03e7b15da0f
Step 14/33 : RUN go install github.com/zededa/go-provision/zedbox/...
 ---> Running in 9d5b70a86ea0
 ---> 78ac1ee90822
Removing intermediate container 9d5b70a86ea0
Step 15/33 : RUN cd /opt/zededa/bin ; ln -s /go/bin/* .
 ---> Running in b9955489bf39
 ---> ca92e391670a
Removing intermediate container b9955489bf39
Step 16/33 : RUN cd /opt/zededa/bin ; ln -s zedbox client; ln -s zedbox domainmgr; ln -s zedbox downloader; ln -s zedbox hardwaremodel; ln -s zedbox identitymgr; ln -s zedbox ledmanager; ln -s zedbox logmanager; ln -s zedbox verifier; ln -s zedbox zedagent; ln -s zedbox zedmanager; ln -s zedbox zedrouter
 ---> Running in edfd19b75e3b
 ---> 416cb3aa2216
Removing intermediate container edfd19b75e3b
Step 17/33 : FROM zededa/lisp:latest AS lisp
 ---> 8c611457d2fd
Step 18/33 : FROM scratch
 ---> 
Step 19/33 : COPY --from=build /opt/zededa/bin /opt/zededa/bin
 ---> a50ede152664
Step 20/33 : COPY --from=build /opt/zededa/examples /opt/zededa/examples
 ---> 30d9224aaf94
Step 21/33 : COPY --from=build /var/tmp/zededa/AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> acacfb216042
Step 22/33 : COPY --from=build /var/tmp/zededa/DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> 4562b1d3c219
Step 23/33 : COPY --from=build /var/tmp/zededa/lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> c393f36afbdd
Step 24/33 : COPY --from=build /config /opt/zededa/examples/config
 ---> 08b610a2ebdf
Step 25/33 : COPY --from=build /go/bin/* /opt/zededa/bin/
 ---> 016fc4be613c
Step 26/33 : COPY --from=lisp /lisp/lisp-ztr /opt/zededa/bin/
COPY failed: stat /var/lib/docker/btrfs/subvolumes/2caf12744b15af029af5ac63d5c088fcb659b172e4611853438140f8c4c20d1c/lisp/lisp-ztr: no such file or directory
exit status 1
Building and pushing "zededa/ztools:latest"
Sending build context to Docker daemon  27.88MB
Step 1/33 : FROM golang:1.9.1-alpine AS build
 ---> cc52d0ad4cce
Step 2/33 : RUN apk update
 ---> Using cache
 ---> 06dc54679d07
Step 3/33 : RUN apk add --no-cache git gcc linux-headers libc-dev util-linux
 ---> Using cache
 ---> bcd126094d65
Step 4/33 : ADD ./ /go/src/github.com/zededa/go-provision/
 ---> Using cache
 ---> 15bd77ff0a0d
Step 5/33 : ADD etc /config
 ---> Using cache
 ---> 40ff52c0fadd
Step 6/33 : ADD scripts/device-steps.sh scripts/find-uplink.sh scripts/generate-device.sh scripts/generate-self-signed.sh scripts/handlezedserverconfig.sh /opt/zededa/bin/
 ---> Using cache
 ---> c5bf800447a1
Step 7/33 : ADD examples /opt/zededa/examples
 ---> Using cache
 ---> 341b7a4c2cc2
Step 8/33 : ADD AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> Using cache
 ---> 91061d44d9c2
Step 9/33 : ADD DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> Using cache
 ---> b12bd0b2553a
Step 10/33 : ADD lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> Using cache
 ---> 16889724f7a4
Step 11/33 : RUN (cd ./src/github.com/zededa/go-provision/; scripts/getversion.sh >/opt/zededa/bin/versioninfo)
 ---> Using cache
 ---> 09efa08f44b3
Step 12/33 : RUN cp /opt/zededa/bin/versioninfo /opt/zededa/bin/versioninfo.1
 ---> Using cache
 ---> 63d26e94f3b7
Step 13/33 : RUN echo Building: `cat /opt/zededa/bin/versioninfo`
 ---> Using cache
 ---> 386f9f3c7d6b
Step 14/33 : RUN go install github.com/zededa/go-provision/zedbox/...
 ---> Using cache
 ---> 78ac1ee90822
Step 15/33 : RUN cd /opt/zededa/bin ; ln -s /go/bin/* .
 ---> Using cache
 ---> ca92e391670a
Step 16/33 : RUN cd /opt/zededa/bin ; ln -s zedbox client; ln -s zedbox domainmgr; ln -s zedbox downloader; ln -s zedbox hardwaremodel; ln -s zedbox identitymgr; ln -s zedbox ledmanager; ln -s zedbox logmanager; ln -s zedbox verifier; ln -s zedbox zedagent; ln -s zedbox zedmanager; ln -s zedbox zedrouter
 ---> Using cache
 ---> 416cb3aa2216
Step 17/33 : FROM zededa/lisp:latest AS lisp
 ---> 8c611457d2fd
Step 18/33 : FROM scratch
 ---> 
Step 19/33 : COPY --from=build /opt/zededa/bin /opt/zededa/bin
 ---> Using cache
 ---> a50ede152664
Step 20/33 : COPY --from=build /opt/zededa/examples /opt/zededa/examples
 ---> Using cache
 ---> 30d9224aaf94
Step 21/33 : COPY --from=build /var/tmp/zededa/AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> Using cache
 ---> acacfb216042
Step 22/33 : COPY --from=build /var/tmp/zededa/DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> Using cache
 ---> 4562b1d3c219
Step 23/33 : COPY --from=build /var/tmp/zededa/lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> Using cache
 ---> c393f36afbdd
Step 24/33 : COPY --from=build /config /opt/zededa/examples/config
 ---> Using cache
 ---> 08b610a2ebdf
Step 25/33 : COPY --from=build /go/bin/* /opt/zededa/bin/
 ---> Using cache
 ---> 016fc4be613c
Step 26/33 : COPY --from=lisp /lisp/lisp-ztr /opt/zededa/bin/
COPY failed: stat /var/lib/docker/btrfs/subvolumes/e830f3dbc955e1e6d8e82c4f6ef061bab9844122c4433faf31ccfdb1179ea9dc/lisp/lisp-ztr: no such file or directory
exit status 1
make: Entering directory '/home/zededa-ci/src/zenbuild/pkg'
(cd ..; ./parse-pkgs.sh pkg/qrexec-lib/Dockerfile.in > pkg/qrexec-lib/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/qrexec-dom0/Dockerfile.in > pkg/qrexec-dom0/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/zedctr/Dockerfile.in > pkg/zedctr/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/mkconf/Dockerfile.in > pkg/mkconf/Dockerfile)
Building and pushing "zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590"
35eb3c470422d1bced11f3457ea8ff432d9f0590: Pulling from zededa/grub
Digest: sha256:26b8451b1f2b0e725e5e7a8e4c1a2a96cb660c0bd64840412578e17372c78e89
Status: Image is up to date for zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590
Building and pushing "zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed"
be954dc9ba840dcff92c7edc1823e7e19d12a8ed: Pulling from zededa/xen
Digest: sha256:abab0a06e1246001a1bd270bbe7f5759a1e5217b498e5bc0ea624b0c1d472a92
Status: Image is up to date for zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed
Building and pushing "zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c"
e2919188af3f6da07e8bc651ecc45b5b3f0f523c: Pulling from zededa/kernel
Digest: sha256:c3a0075145c917bdc8f3240e402249eb392b2ca25909223f300c8a36bca5aae0
Status: Image is up to date for zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c
Building and pushing "zededa/xen-tools:7c0b7ae46fefde91d929d8851f7483a9d534e9a1"
7c0b7ae46fefde91d929d8851f7483a9d534e9a1: Pulling from zededa/xen-tools
Digest: sha256:573d3249a9e623f13adf5ebbf6bb2b36e811567f425befc2a94adef377f413a9
Status: Image is up to date for zededa/xen-tools:7c0b7ae46fefde91d929d8851f7483a9d534e9a1
Building and pushing "zededa/dnsmasq:e2de7e6a478850d931724f951f877cd507d77358"
e2de7e6a478850d931724f951f877cd507d77358: Pulling from zededa/dnsmasq
Digest: sha256:b9412d043a70e08613f5e91b1c1d022c6c0a36c8e5de566adca99f92a3f67519
Status: Image is up to date for zededa/dnsmasq:e2de7e6a478850d931724f951f877cd507d77358
Building and pushing "zededa/strongswan:3957eaaa64beb65e946494bab989e861f34811cb"
3957eaaa64beb65e946494bab989e861f34811cb: Pulling from zededa/strongswan
Digest: sha256:6e26fddbc4dc06952eeb1a415807dbefc10a10cbeb330ce7a6d6045b8d766c64
Status: Image is up to date for zededa/strongswan:3957eaaa64beb65e946494bab989e861f34811cb
Building and pushing "zededa/gpt-tools:f0be39997551891e81c6edc38acc20f61077287b"
f0be39997551891e81c6edc38acc20f61077287b: Pulling from zededa/gpt-tools
Digest: sha256:2b013a1be0b991c7db941bc6791529d837804831f2a97e810beb79bce82e8500
Status: Image is up to date for zededa/gpt-tools:f0be39997551891e81c6edc38acc20f61077287b
Building and pushing "zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760"
c6d8f2123c748379add5d3dbbac23e3630131760: Pulling from zededa/dom0-ztools
Digest: sha256:cbc1f0e3ccd758861fb281f16ca596360792f59f9e662e6e298d4753aa27d8fe
Status: Image is up to date for zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760
Building and pushing "zededa/qrexec-lib:2e0df0df95f86df6953d7d2e7729213b77fd7206"
2e0df0df95f86df6953d7d2e7729213b77fd7206: Pulling from zededa/qrexec-lib
Digest: sha256:3a7997fe7570fcce7a99745b710ef52d9781142a769419c1abd7c5c00b4cc468
Status: Image is up to date for zededa/qrexec-lib:2e0df0df95f86df6953d7d2e7729213b77fd7206
Building and pushing "zededa/qrexec-dom0:2c3cf9b135409690eaa86092c41f7c800d398468"
2c3cf9b135409690eaa86092c41f7c800d398468: Pulling from zededa/qrexec-dom0
Digest: sha256:59db6f40732127dfa6bc4ad3027b4727ef147d75f8ced21c84ff7d1dbab0f8fa
Status: Image is up to date for zededa/qrexec-dom0:2c3cf9b135409690eaa86092c41f7c800d398468
Building and pushing "zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d"
5f68442251df0f2625fde14e947f11de2374b72d: Pulling from zededa/wwan
Digest: sha256:ae58bbb7a899ae69d35090c574bd373144ae208f1f3598d124d57627ff36b4ee
Status: Image is up to date for zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d
Building and pushing "zededa/wlan:cfd366430df0620df11b2af7f3d9d63d617a5903"
cfd366430df0620df11b2af7f3d9d63d617a5903: Pulling from zededa/wlan
Digest: sha256:62ffd13b3c87ab5553175d99a708fb27f9e6e698684d8faf09eb9e29e520c98c
Status: Image is up to date for zededa/wlan:cfd366430df0620df11b2af7f3d9d63d617a5903
Building and pushing "zededa/watchdog:3e77cbcffbf4f71309bab82500039967bca0d189"
3e77cbcffbf4f71309bab82500039967bca0d189: Pulling from zededa/watchdog
Digest: sha256:f3d7a4bb4753c79b92fe00275e4ca6d1355c75ad4752fc6e6cbe4c020739028b
Status: Image is up to date for zededa/watchdog:3e77cbcffbf4f71309bab82500039967bca0d189
Building and pushing "zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d"
1bca882c64827de08bba9aa7713441b2b4d7ca8d: Pulling from zededa/device-trees
Digest: sha256:b856906252decf6f182308f53abfb2f551488dfe537159fce3d8bbe98cd966a7
Status: Image is up to date for zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d
Building and pushing "zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7"
37df4dd4f4aaa43394f42dcee7cef6b45b6042c7: Pulling from zededa/zedctr
Digest: sha256:0293909f807e84b8af77a2ba77a2b7b61b6b77c3f2ba856f5bcb95df98cf8570
Status: Downloaded newer image for zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7
Building and pushing "zededa/conf:4992a3a63c95b0e446c681a0deaca7a071aba709"
4992a3a63c95b0e446c681a0deaca7a071aba709: Pulling from zededa/conf
Digest: sha256:77c82167011b11de62935f946691afeeb29f0f04ec88e5ba2e617ab19ff3ee7b
Status: Image is up to date for zededa/conf:4992a3a63c95b0e446c681a0deaca7a071aba709
Building and pushing "zededa/mkrootfs-ext4:5f77cd6a2b87a3a9927593763da1941dbed1ce80"
5f77cd6a2b87a3a9927593763da1941dbed1ce80: Pulling from zededa/mkrootfs-ext4
Digest: sha256:30c0734d9781989855647b8ef42415eb98499697e883be897eaceeb18b2ef12c
Status: Image is up to date for zededa/mkrootfs-ext4:5f77cd6a2b87a3a9927593763da1941dbed1ce80
Building and pushing "zededa/mkrootfs-squash:b47d705603f5f0d3765b03cf583e1a7fd287f212"
b47d705603f5f0d3765b03cf583e1a7fd287f212: Pulling from zededa/mkrootfs-squash
Digest: sha256:6eebec3694861958cd06ff99457869722a7aa9da92fb695cb77be03de411e9ba
Status: Image is up to date for zededa/mkrootfs-squash:b47d705603f5f0d3765b03cf583e1a7fd287f212
Building and pushing "zededa/mkflash:d4131c74a9e283a1e4ee5f3aa80b47b538378411"
d4131c74a9e283a1e4ee5f3aa80b47b538378411: Pulling from zededa/mkflash
Digest: sha256:484a3397695ee4e8911fc689cdb805f40ebbf82aa6734bace383995f197bdd5a
Status: Image is up to date for zededa/mkflash:d4131c74a9e283a1e4ee5f3aa80b47b538378411
Building and pushing "zededa/mkimage-iso-efi:49a6ff8320ce088460c8acb6f36bc15b15d800e9"
49a6ff8320ce088460c8acb6f36bc15b15d800e9: Pulling from zededa/mkimage-iso-efi
Digest: sha256:7cbb512eaab5710f906793773e4c27bb5f959e33dd890b7d46107b75737c1f8a
Status: Image is up to date for zededa/mkimage-iso-efi:49a6ff8320ce088460c8acb6f36bc15b15d800e9
make: Leaving directory '/home/zededa-ci/src/zenbuild/pkg'
make: Entering directory '/home/zededa-ci/src/zenbuild/pkg'
(cd ..; ./parse-pkgs.sh pkg/zedctr//Dockerfile.in > pkg/zedctr//Dockerfile)
Building and pushing "zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7"
Sending build context to Docker daemon  19.97kB
Step 1/20 : FROM zededa/ztools:latest as ztools
 ---> 6341cd92336a
Step 2/20 : FROM zededa/xen-tools:7c0b7ae46fefde91d929d8851f7483a9d534e9a1-arm64 as xen-tools
 ---> 2b836ba5bcb3
Step 3/20 : FROM zededa/dnsmasq:e2de7e6a478850d931724f951f877cd507d77358-arm64 as dnsmasq
 ---> 1a0a9313ef5f
Step 4/20 : FROM zededa/strongswan:3957eaaa64beb65e946494bab989e861f34811cb-arm64 as strongswan
 ---> c9bc0d3f0642
Step 5/20 : FROM zededa/gpt-tools:f0be39997551891e81c6edc38acc20f61077287b-arm64 as gpttools
 ---> bb17a51a6442
Step 6/20 : FROM zededa/watchdog:3e77cbcffbf4f71309bab82500039967bca0d189-arm64 as watchdog
 ---> 57e0cb5696a7
Step 7/20 : FROM alpine:3.6
 ---> a9277cb286bb
Step 8/20 : RUN apk add --no-cache     yajl xz bash openssl iptables ip6tables iproute2 dhcpcd     apk-cron coreutils dmidecode sudo libbz2 libuuid ipset     libpcap libaio logrotate pixman glib curl radvd perl ethtool     openssh-server util-linux e2fsprogs libcrypto1.0
 ---> Running in 0f7249203b26
fetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/aarch64/APKINDEX.tar.gz
(1/54) Installing apk-cron (1.0-r0)
(2/54) Installing ncurses-terminfo-base (6.0_p20171125-r1)
(3/54) Installing ncurses-terminfo (6.0_p20171125-r1)
(4/54) Installing ncurses-libs (6.0_p20171125-r1)
(5/54) Installing readline (6.3.008-r5)
(6/54) Installing bash (4.3.48-r1)
Executing bash-4.3.48-r1.post-install
(7/54) Installing libattr (2.4.47-r6)
(8/54) Installing libacl (2.2.52-r3)
(9/54) Installing coreutils (8.27-r0)
(10/54) Installing ca-certificates (20161130-r2)
(11/54) Installing libssh2 (1.8.0-r1)
(12/54) Installing libcurl (7.61.0-r0)
(13/54) Installing curl (7.61.0-r0)
(14/54) Installing dhcpcd (6.11.5-r1)
(15/54) Installing dmidecode (3.0-r0)
(16/54) Installing libuuid (2.28.2-r2)
(17/54) Installing libblkid (2.28.2-r2)
(18/54) Installing libcom_err (1.43.4-r0)
(19/54) Installing e2fsprogs-libs (1.43.4-r0)
(20/54) Installing e2fsprogs (1.43.4-r0)
(21/54) Installing ethtool (4.10-r0)
(22/54) Installing libffi (3.2.1-r3)
(23/54) Installing libintl (0.19.8.1-r1)
(24/54) Installing libmount (2.28.2-r2)
(25/54) Installing pcre (8.41-r0)
(26/54) Installing glib (2.52.1-r0)
(27/54) Installing libmnl (1.0.4-r0)
(28/54) Installing libnftnl-libs (1.0.7-r0)
(29/54) Installing iptables (1.6.1-r0)
(30/54) Installing ip6tables (1.6.1-r0)
(31/54) Installing libelf (0.8.13-r2)
(32/54) Installing iproute2 (4.10.0-r1)
Executing iproute2-4.10.0-r1.post-install
(33/54) Installing ipset (6.32-r3)
(34/54) Installing libaio (0.3.110-r0)
(35/54) Installing libbz2 (1.0.6-r5)
(36/54) Installing libcrypto1.0 (1.0.2o-r1)
(37/54) Installing libpcap (1.8.1-r0)
(38/54) Installing popt (1.16-r6)
(39/54) Installing logrotate (3.12.2-r0)
(40/54) Installing openssh-keygen (7.5_p1-r2)
(41/54) Installing openssh-server (7.5_p1-r2)
(42/54) Installing libssl1.0 (1.0.2o-r1)
(43/54) Installing openssl (1.0.2o-r1)
(44/54) Installing perl (5.24.4-r1)
(45/54) Installing pixman (0.34.0-r0)
(46/54) Installing radvd (2.15-r0)
Executing radvd-2.15-r0.pre-install
(47/54) Installing sudo (1.8.19_p2-r0)
(48/54) Installing libsmartcols (2.28.2-r2)
(49/54) Installing findmnt (2.28.2-r2)
(50/54) Installing libfdisk (2.28.2-r2)
(51/54) Installing util-linux (2.28.2-r2)
(52/54) Installing xz-libs (5.2.3-r0)
(53/54) Installing xz (5.2.3-r0)
(54/54) Installing yajl (2.1.0-r0)
Executing busybox-1.26.2-r5.trigger
Executing ca-certificates-20161130-r2.trigger
Executing glib-2.52.1-r0.trigger
OK: 74 MiB in 65 packages
 ---> 8858d1ba6089
Removing intermediate container 0f7249203b26
Step 9/20 : RUN [ `uname -m` = "aarch64" ] && apk add --no-cache libfdt || :
 ---> Running in fa03fafdf216
fetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/aarch64/APKINDEX.tar.gz
(1/1) Installing libfdt (1.4.4-r0)
OK: 74 MiB in 66 packages
 ---> 29dc5d7f752d
Removing intermediate container fa03fafdf216
Step 10/20 : RUN ln -s libpcap.so.1 /usr/lib/libpcap.so
 ---> Running in 02ac38c962ca
 ---> 3d912316ae33
Removing intermediate container 02ac38c962ca
Step 11/20 : RUN ssh-keygen -A ; echo PermitRootLogin yes >> /etc/ssh/sshd_config ; sed -ie '/^root/s#^.*$#root:$6$Ndt1G5AYZFQ8rz7m$7vGZMKKotSYxwxk/.jMfuOCzxw0I3DNedygaQaLF7kYSYsLqiBHhmc8RJSXp8/VxSYPpgYSz/8fkv0hO6I4js.:17477:0:::::#' /etc/shadow
 ---> Running in 3e006fdd1ea4
ssh-keygen: generating new host keys: RSA DSA ECDSA ED25519 
 ---> 85a0d83eeb4b
Removing intermediate container 3e006fdd1ea4
Step 12/20 : COPY --from=xen-tools / /
 ---> 412a75ff6569
Step 13/20 : COPY --from=ztools / /
 ---> 07b8e1beebbe
Step 14/20 : COPY --from=gpttools / /
 ---> acf91ed22ea2
Step 15/20 : COPY --from=dnsmasq /usr/sbin/dnsmasq /opt/zededa/bin/dnsmasq
 ---> fbe74802d244
Step 16/20 : COPY --from=strongswan / /
 ---> 8bea022be2db
Step 17/20 : COPY --from=watchdog /usr/sbin /usr/sbin
 ---> 09a6fb102ef5
Step 18/20 : COPY rootfs/ /
 ---> ca9bd2cb29c1
Step 19/20 : CMD /init.sh
 ---> Running in c5c92f67aa0a
 ---> 5a6a59b2ead1
Removing intermediate container c5c92f67aa0a
Step 20/20 : LABEL org.mobyproject.config '{"capabilities":["all"],"binds":["/dev:/dev","/etc/resolv.conf:/etc/resolv.conf","/run:/run","/var/log:/var/log/dom0","/:/hostfs"],"net":"host","pid":"host"}' org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'bfad39764356be91b1f28b04f227abf4609fd733' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 09a1fa98be5f
 ---> e789583e780e
Removing intermediate container 09a1fa98be5f
Successfully built e789583e780e
Successfully tagged zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64
Pushing zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64
The push refers to a repository [docker.io/zededa/zedctr]
428d50786cc3: Preparing
76f8ba5fc24e: Preparing
2395b6a8a790: Preparing
c815972158f8: Preparing
3edd81ed8cbc: Preparing
981b7b269978: Preparing
0a6d5c0670cf: Preparing
6116036ce32f: Preparing
8e019646d6a9: Preparing
b7c4866cbb8c: Preparing
b4ab6ef58e26: Preparing
7678a2257549: Preparing
199db0687ace: Preparing
6116036ce32f: Waiting
8e019646d6a9: Waiting
0a6d5c0670cf: Waiting
981b7b269978: Waiting
7678a2257549: Waiting
199db0687ace: Waiting
b4ab6ef58e26: Waiting
3edd81ed8cbc: Layer already exists
428d50786cc3: Layer already exists
2395b6a8a790: Layer already exists
981b7b269978: Layer already exists
0a6d5c0670cf: Layer already exists
c815972158f8: Pushed
76f8ba5fc24e: Pushed
6116036ce32f: Pushed
7678a2257549: Layer already exists
199db0687ace: Layer already exists
8e019646d6a9: Pushed
b7c4866cbb8c: Pushed
b4ab6ef58e26: Pushed
37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64: digest: sha256:bf5508cd0e962c1fc475e8eecc87d8ee8eecb9739a55d5c35efe68131c4adc95 size: 3047
Pushing zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64 to manifest zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7
time="2018-08-23T08:05:17+02:00" level=warning msg="Couldn't find or access image reference \"zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-s390x\". Skipping image."
Digest: sha256:bc09f54205e50acb42a0168b36c1c05a19840dc0da77d4b1f358f108b0ce6790 743
Not signing zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7
Build and push complete, not releasing, all done.
make: Leaving directory '/home/zededa-ci/src/zenbuild/pkg'
make: Entering directory '/home/zededa-ci/src/zenbuild/build-pkgs'
Building and pushing "zededa/build-pkgs_abuild:7ae4d9f9fa290963de466d5ed96d6c9318354824"
7ae4d9f9fa290963de466d5ed96d6c9318354824: Pulling from zededa/build-pkgs_abuild
Digest: sha256:a47cf84fea3c52231cb61be2e2c1bafe1d3b8da1c59c594b33598abfaf94bd84
Status: Image is up to date for zededa/build-pkgs_abuild:7ae4d9f9fa290963de466d5ed96d6c9318354824
Building and pushing "zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693"
a3362428c518fb4db1a136a961bd17e8a66fb693: Pulling from zededa/build-pkgs_uefi
Digest: sha256:9060fada488edd505884bf2014ced27b71cd48d336ab85c9dc75d73558b414a0
Status: Image is up to date for zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693
make: Leaving directory '/home/zededa-ci/src/zenbuild/build-pkgs'
cd bios ; _() { C=`docker create $1 fake` ; docker export $C | tar -xf - $2 ; docker rm $C ; } ; _ zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693-arm64 OVMF.fd
c28e1757279d96e1b7bb044539c0473162298ae6f74654678bfb5badfb121a94
make -C build-tools all
make[1]: Entering directory '/home/zededa-ci/src/zenbuild/build-tools'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/home/zededa-ci/src/zenbuild/build-tools'
tee: /dev/tty: No such device or address
37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64: Pulling from zededa/zedctr
Digest: sha256:bf5508cd0e962c1fc475e8eecc87d8ee8eecb9739a55d5c35efe68131c4adc95
Status: Image is up to date for zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64
DOCKER_ARCH_TAG="arm64" ./parse-pkgs.sh images/installer.yml.in > images/installer.yml
# the following is a horrible hack that needs to go away ASAP
if [ "aarch64" != `uname -m` ] ; then \
           sed -e '/source:/s#rootfs.img#rootfs_aarch64.img#' \
               -e '/command:/s#/dev/sda#/dev/vda#' -i.orig images/installer.yml ;\
   echo "WARNING: We are assembling a aarch64 image on `uname -m`. Things may break." ;\
        fi
DOCKER_ARCH_TAG="arm64" ./parse-pkgs.sh images/rootfs.yml.in > images/rootfs.yml
# the following is a horrible hack that needs to go away ASAP
if [ "aarch64" != `uname -m` ] ; then \
           sed -e '/source:/s#rootfs.img#rootfs_aarch64.img#' \
               -e '/command:/s#/dev/sda#/dev/vda#' -i.orig images/rootfs.yml ;\
   echo "WARNING: We are assembling a aarch64 image on `uname -m`. Things may break." ;\
        fi
./makerootfs.sh images/rootfs.yml squash rootfs_aarch64.img
Extract kernel image: zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c-arm64
Add init containers:
Process init image: zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590-arm64
Process init image: zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d-arm64
Process init image: zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed-arm64
Process init image: zededa/gpt-tools:f0be39997551891e81c6edc38acc20f61077287b-arm64
Process init image: zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760-arm64
Process init image: linuxkit/init:v0.5
Process init image: linuxkit/runc:v0.5
Process init image: linuxkit/containerd:v0.5
Process init image: linuxkit/getty:v0.5
Add onboot containers:
  Create OCI config for linuxkit/sysctl:v0.5
  Create OCI config for linuxkit/modprobe:v0.5
Add service containers:
  Create OCI config for linuxkit/openntpd:v0.5
  Create OCI config for zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d-arm64
  Create OCI config for zededa/wlan:cfd366430df0620df11b2af7f3d9d63d617a5903-arm64
  Create OCI config for zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64
Add files:
  /containers/services/zededa-tools/lower/opt/zededa/bin/versioninfo
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[=============================\                              ]  7400/14697  50%[===========================================================-] 14697/14697 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 165947.37 Kbytes (162.06 Mbytes)
	31.56% of uncompressed filesystem size (525814.97 Kbytes)
Inode table size 152706 bytes (149.13 Kbytes)
	26.35% of uncompressed inode table size (579465 bytes)
Directory table size 154807 bytes (151.18 Kbytes)
	44.81% of uncompressed directory table size (345476 bytes)
Number of duplicate files found 2462
Number of inodes 15386
Number of files 11526
Number of fragments 792
Number of symbolic links  2632
Number of device nodes 7
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 1221
Number of ids (unique uids + gids) 3
Number of uids 1
	root (0)
Number of gids 3
	root (0)
	shadow (42)
	tty (5)
./makeiso.sh images/installer.yml installer_aarch64.iso
Extract kernel image: zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c-arm64
Add init containers:
Process init image: zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590-arm64
Process init image: zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d-arm64
Process init image: zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed-arm64
Process init image: linuxkit/init:v0.5
Process init image: linuxkit/runc:v0.5
Process init image: linuxkit/getty:v0.5
Add onboot containers:
  Create OCI config for zededa/mkflash:d4131c74a9e283a1e4ee5f3aa80b47b538378411-arm64
Add files:
  /parts/config.img
  /parts/rootfs.img
time="2018-08-23T08:08:00+02:00" level=fatal msg="failed to add filesystem parts: open rootfs.img: no such file or directory"
xorriso 1.4.6 : RockRidge filesystem manipulator, libburnia project.

Drive current: -outdev 'stdio:linuxkit-efi.iso'
Media current: stdio file, overwriteable
Media status : is blank
Media summary: 0 sessions, 0 data blocks, 0 data,  892g free
Added to ISO image: directory '/'='/tmp/efi'
xorriso : UPDATE : 4596 files added in 1 seconds
xorriso : UPDATE : 4596 files added in 1 seconds
libisofs: NOTE : Cannot arrange content of data files in surely reproducible way
xorriso : UPDATE :  16.12% done
ISO image produced: 99927 sectors
Written to medium : 99927 sectors at LBA 0
Writing to 'stdio:linuxkit-efi.iso' completed successfully.

tar c rootfs_aarch64.img config.img | ./makeflash.sh -C 8192 fallback_aarch64.raw
1+0 records in
1+0 records out
1 byte copied, 0.0123059 s, 0.1 kB/s
+ IMGFILE=/output.img
+ NUMPARTS=9
+ mkdir -p /parts
+ [ -t 0 ]
+ cd /parts
+ bsdtar xzf -
+ ESP_FILE=/tmp/efifs.img
+ cut -f1 -d 
+ echo /parts/rootfs_aarch64.img
+ IMGA_FILE=/parts/rootfs_aarch64.img
+ CONF_FILE=/parts/config.img
+ mount -o loop /parts/rootfs_aarch64.img /mnt
mount: mounting /dev/loop0 on /mnt failed: Invalid argument
Makefile:152: recipe for target 'fallback_aarch64.raw' failed
make: *** [fallback_aarch64.raw] Error 111
make: Entering directory '/home/zededa-ci/src/zenbuild/build-pkgs'
Building and pushing "zededa/zenix:latest"
Sending build context to Docker daemon  517.3MB
Step 1/9 : FROM alpine:edge
 ---> 698b28d4f8d1
Step 2/9 : RUN apk add --no-cache qemu-system-x86_64 qemu-system-aarch64 bash make git
 ---> Using cache
 ---> 5b21459beb8b
Step 3/9 : COPY . /bits/
 ---> Using cache
 ---> c5f345eda82a
Step 4/9 : COPY OVMF.fd /bits/bios/OVMF.fd
 ---> Using cache
 ---> e342e4ec1c5c
Step 5/9 : COPY runme.sh /
 ---> Using cache
 ---> c300c2ff8dc7
Step 6/9 : RUN touch /bits/bios/OVMF.fd
 ---> Using cache
 ---> 85b9a3f966f3
Step 7/9 : WORKDIR /bits
 ---> Using cache
 ---> b59a8adaf13d
Step 8/9 : ENTRYPOINT /runme.sh
 ---> Using cache
 ---> a2c4b6771d85
Step 9/9 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'bfad39764356be91b1f28b04f227abf4609fd733' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Using cache
 ---> 3aa464221ab1
Successfully built 3aa464221ab1
Successfully tagged zededa/zenix:latest-arm64
Pushing zededa/zenix:latest-arm64
The push refers to a repository [docker.io/zededa/zenix]
96feea203423: Preparing
c96588d795bb: Preparing
5ef670ff3c99: Preparing
841a93c06d96: Preparing
18d6c5bbfc56: Preparing
7f4507898901: Preparing
2a2e682c36db: Preparing
7f4507898901: Waiting
2a2e682c36db: Waiting
18d6c5bbfc56: Layer already exists
5ef670ff3c99: Layer already exists
96feea203423: Layer already exists
c96588d795bb: Layer already exists
841a93c06d96: Layer already exists
7f4507898901: Layer already exists
2a2e682c36db: Layer already exists
latest-arm64: digest: sha256:79b5d89cef5ce4771d04df82d287ab3c4bdc2d4a05f4bdca55c64015816079b4 size: 1787
Pushing zededa/zenix:latest-arm64 to manifest zededa/zenix:latest
time="2018-08-23T08:08:56+02:00" level=warning msg="Couldn't find or access image reference \"zededa/zenix:latest-s390x\". Skipping image."
Digest: sha256:9a9d5ea2a6e3ac00d423d3ffea32c2f75765c359dea0179ca240081a55008a46 743
Not signing zededa/zenix:latest
Build and push complete, not releasing, all done.
make: Leaving directory '/home/zededa-ci/src/zenbuild/build-pkgs'
FINISHED
