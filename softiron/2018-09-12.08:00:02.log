From https://github.com/zededa/zenbuild
   03d8120..5dbea2f  0.11       -> origin/0.11
 * [new tag]         0.11.1     -> 0.11.1
Already up-to-date.
make -C build-tools all
make[1]: Entering directory '/home/zededa-ci/src/zenbuild/build-tools'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/home/zededa-ci/src/zenbuild/build-tools'
From github.com:zededa/go-provision
   e4e4301..6d1b4cf  master       -> origin/master
   3660027..15db422  0.11         -> origin/0.11
   3eee40c..216452f  fixes        -> origin/fixes
   2822602..2ed3442  lisp-metrics -> origin/lisp-metrics
 * [new tag]         0.11.1       -> 0.11.1
Updating e4e4301..6d1b4cf
Fast-forward
 scripts/device-steps.sh | 79 ++++++++++++++++++++++++++++---------------------
 1 file changed, 46 insertions(+), 33 deletions(-)
From github.com:zededa/lisp
   785ebab..9c5c947  master     -> origin/master
   69e21d7..22dda7f  0.11       -> origin/0.11
 * [new tag]         0.11.1     -> 0.11.1
Updating 785ebab..9c5c947
Fast-forward
 Gopkg.lock                                         |   5 +-
 cmd/dataplane/main.go                              |  84 ++-
 cmd/dataplane/manageitretr.go                      |   2 +-
 dataplane/dptypes/dataplanetypes.go                |  14 +-
 dataplane/fib/mapfib.go                            | 224 +++++++-
 dataplane/itr/itr.go                               |   8 +-
 vendor/github.com/zededa/go-provision/cast/cast.go |  36 ++
 .../zededa/go-provision/pubsub/pubsub.go           | 613 +++++++++++++++++----
 .../zededa/go-provision/pubsub/stringmap.go        |  53 ++
 .../zededa/go-provision/types/domainmgrtypes.go    |   1 +
 .../zededa/go-provision/types/onboardingtypes.go   |  61 +-
 .../zededa/go-provision/types/zedagenttypes.go     |   3 +-
 .../zededa/go-provision/types/zedmanagertypes.go   |  22 +-
 .../zededa/go-provision/types/zedroutertypes.go    | 214 +++++--
 14 files changed, 1116 insertions(+), 224 deletions(-)
 create mode 100644 vendor/github.com/zededa/go-provision/pubsub/stringmap.go
Building and pushing "zededa/lisp:698514d390c3c68d6d180b920c972152a2306dab"
698514d390c3c68d6d180b920c972152a2306dab: Pulling from zededa/lisp
no matching manifest for linux/arm64 in the manifest list entries
No image pulled, continuing with build
Sending build context to Docker daemon  10.82MB
Step 1/20 : FROM golang:1.9.1-alpine AS go-build
 ---> cc52d0ad4cce
Step 2/20 : RUN apk update
 ---> Using cache
 ---> 06dc54679d07
Step 3/20 : RUN apk add --no-cache git gcc linux-headers libc-dev libpcap-dev
 ---> Using cache
 ---> e0b117c95ac3
Step 4/20 : ADD . /go/src/github.com/zededa/lisp
 ---> 05091f6261f2
Step 5/20 : RUN go install github.com/zededa/lisp/cmd/...
 ---> Running in fe13b7f67e56
 ---> 960d37cb8962
Removing intermediate container fe13b7f67e56
Step 6/20 : FROM alpine:3.8
 ---> def91cb894ef
Step 7/20 : RUN apk add --no-cache curl gcc linux-headers libc-dev python python-dev libffi-dev openssl-dev libpcap-dev iproute2 tcpdump ethtool ip6tables
 ---> Using cache
 ---> 82953511567d
Step 8/20 : RUN mkdir /lisp
 ---> Using cache
 ---> 837e0c33946a
Step 9/20 : ARG LISP_URL=https://www.dropbox.com/s/ogfu5gaw550rlkq/zededa.tgz
 ---> Using cache
 ---> 069a7ed78b4c
Step 10/20 : RUN cd /lisp ; curl --insecure -L $LISP_URL | gzip -dc | tar -xf -
 ---> Using cache
 ---> 25962e7ed21d
Step 11/20 : ADD scripts/sudo /usr/bin/sudo
 ---> Using cache
 ---> be5a30abc303
Step 12/20 : ADD conf scripts/RESTART-LISP scripts/RUN-LISP.rtr1 scripts/RUN-LISP scripts/STOP-LISP scripts/CONFIG-SVC scripts/RL scripts/pslisp scripts/log-packets scripts/ping-mesh.py /lisp/
 ---> Using cache
 ---> 12c71f67e2c8
Step 13/20 : RUN python /lisp/get-pip.py
 ---> Using cache
 ---> ca52c0c114b1
Step 14/20 : RUN pip install -r /lisp/pip-requirements.txt
 ---> Using cache
 ---> 4a81fd6481ad
Step 15/20 : RUN echo 'PS1="`hostname | cut -d . -f 0` > "' >> /root/.profile
 ---> Using cache
 ---> 10a59d016033
Step 16/20 : COPY --from=go-build /go/bin/dataplane /lisp/lisp-ztr
 ---> 285f85df45bf
Step 17/20 : EXPOSE 8080
 ---> Running in a4fd1685b0b5
 ---> dad9885424b1
Removing intermediate container a4fd1685b0b5
Step 18/20 : WORKDIR /lisp
 ---> 30644ce730a7
Removing intermediate container cd85db9d16a1
Step 19/20 : CMD ./CONFIG-SVC ; ./RL ; sleep 5 ; tail -f ./logs/*
 ---> Running in 6375186ae0d2
 ---> 36f589b52818
Removing intermediate container 6375186ae0d2
Step 20/20 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '9c5c9471b1ccfd656405bd2a98db8bf779edcd5e' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 7979d77d9f55
 ---> c062a17fd35f
Removing intermediate container 7979d77d9f55
Successfully built c062a17fd35f
Successfully tagged zededa/lisp:698514d390c3c68d6d180b920c972152a2306dab-arm64
Pushing zededa/lisp:698514d390c3c68d6d180b920c972152a2306dab-arm64
The push refers to a repository [docker.io/zededa/lisp]
b982f8607a7e: Preparing
2460ce561105: Preparing
56d8e29e1251: Preparing
1c3b5db37693: Preparing
cea9b2e7dbd4: Preparing
19029139889c: Preparing
2944e231c712: Preparing
10ed7430ba4b: Preparing
c47b13687581: Preparing
b43ad2345ba5: Preparing
cd0a9a09f5aa: Preparing
10ed7430ba4b: Waiting
c47b13687581: Waiting
b43ad2345ba5: Waiting
19029139889c: Waiting
2944e231c712: Waiting
cd0a9a09f5aa: Waiting
1c3b5db37693: Layer already exists
56d8e29e1251: Layer already exists
2460ce561105: Layer already exists
cea9b2e7dbd4: Layer already exists
19029139889c: Layer already exists
c47b13687581: Layer already exists
10ed7430ba4b: Layer already exists
2944e231c712: Layer already exists
b43ad2345ba5: Layer already exists
cd0a9a09f5aa: Layer already exists
b982f8607a7e: Pushed
698514d390c3c68d6d180b920c972152a2306dab-arm64: digest: sha256:8ea41cbfe9e1d1496b08248da6d665ba445ed23f020d7830104b9debfa7b5339 size: 2621
Pushing zededa/lisp:698514d390c3c68d6d180b920c972152a2306dab-arm64 to manifest zededa/lisp:698514d390c3c68d6d180b920c972152a2306dab
time="2018-09-12T08:01:03+02:00" level=warning msg="Couldn't find or access image reference \"zededa/lisp:698514d390c3c68d6d180b920c972152a2306dab-s390x\". Skipping image."
Digest: sha256:504e34524c655bcee2c5b009ebb290e3f1b6c4ba5f6fbaa1aa8c7aa8e9d59f3d 743
Not signing zededa/lisp:698514d390c3c68d6d180b920c972152a2306dab
Build and push complete, not releasing, all done.
Building and pushing "zededa/lisp:latest"
Sending build context to Docker daemon  10.82MB
Step 1/20 : FROM golang:1.9.1-alpine AS go-build
 ---> cc52d0ad4cce
Step 2/20 : RUN apk update
 ---> Using cache
 ---> 06dc54679d07
Step 3/20 : RUN apk add --no-cache git gcc linux-headers libc-dev libpcap-dev
 ---> Using cache
 ---> e0b117c95ac3
Step 4/20 : ADD . /go/src/github.com/zededa/lisp
 ---> Using cache
 ---> 05091f6261f2
Step 5/20 : RUN go install github.com/zededa/lisp/cmd/...
 ---> Using cache
 ---> 960d37cb8962
Step 6/20 : FROM alpine:3.8
 ---> def91cb894ef
Step 7/20 : RUN apk add --no-cache curl gcc linux-headers libc-dev python python-dev libffi-dev openssl-dev libpcap-dev iproute2 tcpdump ethtool ip6tables
 ---> Using cache
 ---> 82953511567d
Step 8/20 : RUN mkdir /lisp
 ---> Using cache
 ---> 837e0c33946a
Step 9/20 : ARG LISP_URL=https://www.dropbox.com/s/ogfu5gaw550rlkq/zededa.tgz
 ---> Using cache
 ---> 069a7ed78b4c
Step 10/20 : RUN cd /lisp ; curl --insecure -L $LISP_URL | gzip -dc | tar -xf -
 ---> Using cache
 ---> 25962e7ed21d
Step 11/20 : ADD scripts/sudo /usr/bin/sudo
 ---> Using cache
 ---> be5a30abc303
Step 12/20 : ADD conf scripts/RESTART-LISP scripts/RUN-LISP.rtr1 scripts/RUN-LISP scripts/STOP-LISP scripts/CONFIG-SVC scripts/RL scripts/pslisp scripts/log-packets scripts/ping-mesh.py /lisp/
 ---> Using cache
 ---> 12c71f67e2c8
Step 13/20 : RUN python /lisp/get-pip.py
 ---> Using cache
 ---> ca52c0c114b1
Step 14/20 : RUN pip install -r /lisp/pip-requirements.txt
 ---> Using cache
 ---> 4a81fd6481ad
Step 15/20 : RUN echo 'PS1="`hostname | cut -d . -f 0` > "' >> /root/.profile
 ---> Using cache
 ---> 10a59d016033
Step 16/20 : COPY --from=go-build /go/bin/dataplane /lisp/lisp-ztr
 ---> Using cache
 ---> 285f85df45bf
Step 17/20 : EXPOSE 8080
 ---> Using cache
 ---> dad9885424b1
Step 18/20 : WORKDIR /lisp
 ---> Using cache
 ---> 30644ce730a7
Step 19/20 : CMD ./CONFIG-SVC ; ./RL ; sleep 5 ; tail -f ./logs/*
 ---> Using cache
 ---> 36f589b52818
Step 20/20 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '9c5c9471b1ccfd656405bd2a98db8bf779edcd5e' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Using cache
 ---> c062a17fd35f
Successfully built c062a17fd35f
Successfully tagged zededa/lisp:latest-arm64
Pushing zededa/lisp:latest-arm64
The push refers to a repository [docker.io/zededa/lisp]
b982f8607a7e: Preparing
2460ce561105: Preparing
56d8e29e1251: Preparing
1c3b5db37693: Preparing
cea9b2e7dbd4: Preparing
19029139889c: Preparing
2944e231c712: Preparing
10ed7430ba4b: Preparing
c47b13687581: Preparing
b43ad2345ba5: Preparing
cd0a9a09f5aa: Preparing
10ed7430ba4b: Waiting
c47b13687581: Waiting
b43ad2345ba5: Waiting
cd0a9a09f5aa: Waiting
2944e231c712: Waiting
19029139889c: Waiting
56d8e29e1251: Layer already exists
b982f8607a7e: Layer already exists
1c3b5db37693: Layer already exists
2460ce561105: Layer already exists
cea9b2e7dbd4: Layer already exists
10ed7430ba4b: Layer already exists
19029139889c: Layer already exists
2944e231c712: Layer already exists
c47b13687581: Layer already exists
b43ad2345ba5: Layer already exists
cd0a9a09f5aa: Layer already exists
latest-arm64: digest: sha256:8ea41cbfe9e1d1496b08248da6d665ba445ed23f020d7830104b9debfa7b5339 size: 2621
Pushing zededa/lisp:latest-arm64 to manifest zededa/lisp:latest
time="2018-09-12T08:01:16+02:00" level=warning msg="Couldn't find or access image reference \"zededa/lisp:latest-s390x\". Skipping image."
Digest: sha256:a4bcd92e497d79c2a0dab323179f88d560ccf40bc112543fb3bc0969cf6b1098 743
Not signing zededa/lisp:latest
Build and push complete, not releasing, all done.
Building and pushing "zededa/ztools:95687b98fee92afcbaddffa0243fb4b80d63a153"
Error response from daemon: manifest for zededa/ztools:95687b98fee92afcbaddffa0243fb4b80d63a153 not found
No image pulled, continuing with build
Sending build context to Docker daemon  31.26MB
Step 1/33 : FROM golang:1.9.1-alpine AS build
 ---> cc52d0ad4cce
Step 2/33 : RUN apk update
 ---> Using cache
 ---> 06dc54679d07
Step 3/33 : RUN apk add --no-cache git gcc linux-headers libc-dev util-linux
 ---> Using cache
 ---> bcd126094d65
Step 4/33 : ADD ./ /go/src/github.com/zededa/go-provision/
 ---> 5edfd6b15b35
Step 5/33 : ADD etc /config
 ---> f881c4e22458
Step 6/33 : ADD scripts/device-steps.sh scripts/find-uplink.sh scripts/generate-device.sh scripts/generate-self-signed.sh scripts/handlezedserverconfig.sh /opt/zededa/bin/
 ---> bff7e5f8d55c
Step 7/33 : ADD examples /opt/zededa/examples
 ---> 81e2b91f1aa4
Step 8/33 : ADD AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> 4bbb2c1721ce
Step 9/33 : ADD DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> 61ed03d44bba
Step 10/33 : ADD lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> 8d68c299c363
Step 11/33 : RUN (cd ./src/github.com/zededa/go-provision/; scripts/getversion.sh >/opt/zededa/bin/versioninfo)
 ---> Running in f22e3ca735d8
 ---> 292a7ccd22ec
Removing intermediate container f22e3ca735d8
Step 12/33 : RUN cp /opt/zededa/bin/versioninfo /opt/zededa/bin/versioninfo.1
 ---> Running in fca456404ede
 ---> 776a5d644eb5
Removing intermediate container fca456404ede
Step 13/33 : RUN echo Building: `cat /opt/zededa/bin/versioninfo`
 ---> Running in 4e1c09e4cc14
Building: 20180314-test-6d1b4cf1-2018-09-12.06.01
 ---> 40bc94d214cd
Removing intermediate container 4e1c09e4cc14
Step 14/33 : RUN go install github.com/zededa/go-provision/zedbox/...
 ---> Running in 2ae23a71a7d0
 ---> ca20907674d4
Removing intermediate container 2ae23a71a7d0
Step 15/33 : RUN cd /opt/zededa/bin ; ln -s /go/bin/* .
 ---> Running in 5f7c9a458096
 ---> 10d8ea3b787b
Removing intermediate container 5f7c9a458096
Step 16/33 : RUN cd /opt/zededa/bin ; ln -s zedbox client; ln -s zedbox domainmgr; ln -s zedbox downloader; ln -s zedbox hardwaremodel; ln -s zedbox identitymgr; ln -s zedbox ledmanager; ln -s zedbox logmanager; ln -s zedbox verifier; ln -s zedbox zedagent; ln -s zedbox zedmanager; ln -s zedbox zedrouter; ln -s zedbox ipcmonitor
 ---> Running in 60abd393ffd8
 ---> 5a18db57f849
Removing intermediate container 60abd393ffd8
Step 17/33 : FROM zededa/lisp:latest AS lisp
 ---> 8c611457d2fd
Step 18/33 : FROM scratch
 ---> 
Step 19/33 : COPY --from=build /opt/zededa/bin /opt/zededa/bin
 ---> 84c2384ec8ae
Step 20/33 : COPY --from=build /opt/zededa/examples /opt/zededa/examples
 ---> f5d9d5f6f021
Step 21/33 : COPY --from=build /var/tmp/zededa/AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> 7cb2cd2e7e63
Step 22/33 : COPY --from=build /var/tmp/zededa/DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> 668c4b1dba71
Step 23/33 : COPY --from=build /var/tmp/zededa/lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> ce26f211839b
Step 24/33 : COPY --from=build /config /opt/zededa/examples/config
 ---> 82147a89b828
Step 25/33 : COPY --from=build /go/bin/* /opt/zededa/bin/
 ---> aafd745e60b5
Step 26/33 : COPY --from=lisp /lisp/lisp-ztr /opt/zededa/bin/
COPY failed: stat /var/lib/docker/btrfs/subvolumes/6cb3a3b706c8b84bba80f9d91088d2e1f41c6ca93adc9d6acf1ecbd603c9959c/lisp/lisp-ztr: no such file or directory
exit status 1
Building and pushing "zededa/ztools:latest"
Sending build context to Docker daemon  31.26MB
Step 1/33 : FROM golang:1.9.1-alpine AS build
 ---> cc52d0ad4cce
Step 2/33 : RUN apk update
 ---> Using cache
 ---> 06dc54679d07
Step 3/33 : RUN apk add --no-cache git gcc linux-headers libc-dev util-linux
 ---> Using cache
 ---> bcd126094d65
Step 4/33 : ADD ./ /go/src/github.com/zededa/go-provision/
 ---> Using cache
 ---> 5edfd6b15b35
Step 5/33 : ADD etc /config
 ---> Using cache
 ---> f881c4e22458
Step 6/33 : ADD scripts/device-steps.sh scripts/find-uplink.sh scripts/generate-device.sh scripts/generate-self-signed.sh scripts/handlezedserverconfig.sh /opt/zededa/bin/
 ---> Using cache
 ---> bff7e5f8d55c
Step 7/33 : ADD examples /opt/zededa/examples
 ---> Using cache
 ---> 81e2b91f1aa4
Step 8/33 : ADD AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> Using cache
 ---> 4bbb2c1721ce
Step 9/33 : ADD DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> Using cache
 ---> 61ed03d44bba
Step 10/33 : ADD lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> Using cache
 ---> 8d68c299c363
Step 11/33 : RUN (cd ./src/github.com/zededa/go-provision/; scripts/getversion.sh >/opt/zededa/bin/versioninfo)
 ---> Using cache
 ---> 292a7ccd22ec
Step 12/33 : RUN cp /opt/zededa/bin/versioninfo /opt/zededa/bin/versioninfo.1
 ---> Using cache
 ---> 776a5d644eb5
Step 13/33 : RUN echo Building: `cat /opt/zededa/bin/versioninfo`
 ---> Using cache
 ---> 40bc94d214cd
Step 14/33 : RUN go install github.com/zededa/go-provision/zedbox/...
 ---> Using cache
 ---> ca20907674d4
Step 15/33 : RUN cd /opt/zededa/bin ; ln -s /go/bin/* .
 ---> Using cache
 ---> 10d8ea3b787b
Step 16/33 : RUN cd /opt/zededa/bin ; ln -s zedbox client; ln -s zedbox domainmgr; ln -s zedbox downloader; ln -s zedbox hardwaremodel; ln -s zedbox identitymgr; ln -s zedbox ledmanager; ln -s zedbox logmanager; ln -s zedbox verifier; ln -s zedbox zedagent; ln -s zedbox zedmanager; ln -s zedbox zedrouter; ln -s zedbox ipcmonitor
 ---> Using cache
 ---> 5a18db57f849
Step 17/33 : FROM zededa/lisp:latest AS lisp
 ---> 8c611457d2fd
Step 18/33 : FROM scratch
 ---> 
Step 19/33 : COPY --from=build /opt/zededa/bin /opt/zededa/bin
 ---> Using cache
 ---> 84c2384ec8ae
Step 20/33 : COPY --from=build /opt/zededa/examples /opt/zededa/examples
 ---> Using cache
 ---> f5d9d5f6f021
Step 21/33 : COPY --from=build /var/tmp/zededa/AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> Using cache
 ---> 7cb2cd2e7e63
Step 22/33 : COPY --from=build /var/tmp/zededa/DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> Using cache
 ---> 668c4b1dba71
Step 23/33 : COPY --from=build /var/tmp/zededa/lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> Using cache
 ---> ce26f211839b
Step 24/33 : COPY --from=build /config /opt/zededa/examples/config
 ---> Using cache
 ---> 82147a89b828
Step 25/33 : COPY --from=build /go/bin/* /opt/zededa/bin/
 ---> Using cache
 ---> aafd745e60b5
Step 26/33 : COPY --from=lisp /lisp/lisp-ztr /opt/zededa/bin/
COPY failed: stat /var/lib/docker/btrfs/subvolumes/d71f1a34277c47d79f5951d1657235f0ca637210310f6c07b1bd8a8ea639bb54/lisp/lisp-ztr: no such file or directory
exit status 1
make: Entering directory '/home/zededa-ci/src/zenbuild/pkg'
(cd ..; ./parse-pkgs.sh pkg/qrexec-lib/Dockerfile.in > pkg/qrexec-lib/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/qrexec-dom0/Dockerfile.in > pkg/qrexec-dom0/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/zedctr/Dockerfile.in > pkg/zedctr/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/mkconf/Dockerfile.in > pkg/mkconf/Dockerfile)
Building and pushing "zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590"
35eb3c470422d1bced11f3457ea8ff432d9f0590: Pulling from zededa/grub
Digest: sha256:5accf37c2ebb5f8518fe63c59e250afeaeab22b1ec09e5072fc75f10c126ba29
Status: Image is up to date for zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590
Building and pushing "zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed"
be954dc9ba840dcff92c7edc1823e7e19d12a8ed: Pulling from zededa/xen
Digest: sha256:3bed7827465b93a274315cea0b41889675df483b1208234ddfe9281951fadcfa
Status: Image is up to date for zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed
Building and pushing "zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c"
e2919188af3f6da07e8bc651ecc45b5b3f0f523c: Pulling from zededa/kernel
Digest: sha256:5e07d97256852bd0ea6ccb17f69ac51d7b2f35a5b6a8620c42c846f4f48254b8
Status: Image is up to date for zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c
Building and pushing "zededa/xen-tools:9c96b441d083d7ef7bcb602bf009fa91bd7ebbf2"
9c96b441d083d7ef7bcb602bf009fa91bd7ebbf2: Pulling from zededa/xen-tools
Digest: sha256:7c32128b2aa674682428f9c199759244febdb6c3ef29d1a7250e40de40013020
Status: Image is up to date for zededa/xen-tools:9c96b441d083d7ef7bcb602bf009fa91bd7ebbf2
Building and pushing "zededa/dnsmasq:c5985cdd83998d06255fe115d230a280c6928f1b"
c5985cdd83998d06255fe115d230a280c6928f1b: Pulling from zededa/dnsmasq
Digest: sha256:35f72a1f5843d0015427aeec547a0c67c2b592edfce12ad27659e64628aaa2d4
Status: Image is up to date for zededa/dnsmasq:c5985cdd83998d06255fe115d230a280c6928f1b
Building and pushing "zededa/strongswan:8f5ee3b98aa3ea49a9a4231baac9be933d6155ec"
8f5ee3b98aa3ea49a9a4231baac9be933d6155ec: Pulling from zededa/strongswan
Digest: sha256:4f175b39759e6ad962f53ff937730fb1d4c8bc874629e1b766144cc8e0b3b91a
Status: Image is up to date for zededa/strongswan:8f5ee3b98aa3ea49a9a4231baac9be933d6155ec
Building and pushing "zededa/gpt-tools:fe878611e4e032ea10946cbc9a1c3d5b22349dc4"
fe878611e4e032ea10946cbc9a1c3d5b22349dc4: Pulling from zededa/gpt-tools
Digest: sha256:35fa26a9cd48e83cff4d7f3b5eeca8b31d47d8200c3386403ccd9418de66a202
Status: Image is up to date for zededa/gpt-tools:fe878611e4e032ea10946cbc9a1c3d5b22349dc4
Building and pushing "zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760"
c6d8f2123c748379add5d3dbbac23e3630131760: Pulling from zededa/dom0-ztools
Digest: sha256:e55cfd95341e539a4d08e5b95c9825f687ccd5c171369da041686d97004194b4
Status: Image is up to date for zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760
Building and pushing "zededa/qrexec-lib:2e0df0df95f86df6953d7d2e7729213b77fd7206"
2e0df0df95f86df6953d7d2e7729213b77fd7206: Pulling from zededa/qrexec-lib
Digest: sha256:6b79e3e07899c8c1b599b074ea435653fa0e28340124e41a498c7c2e8c4ce740
Status: Image is up to date for zededa/qrexec-lib:2e0df0df95f86df6953d7d2e7729213b77fd7206
Building and pushing "zededa/qrexec-dom0:2c3cf9b135409690eaa86092c41f7c800d398468"
2c3cf9b135409690eaa86092c41f7c800d398468: Pulling from zededa/qrexec-dom0
Digest: sha256:38845adccd4059e0930369e49228a7b9e41b5f919618dc3a5eecb9053e3b0b04
Status: Image is up to date for zededa/qrexec-dom0:2c3cf9b135409690eaa86092c41f7c800d398468
Building and pushing "zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d"
5f68442251df0f2625fde14e947f11de2374b72d: Pulling from zededa/wwan
Digest: sha256:fc1e22573cc47461d3ac8af36d8e5b56421257197641889b86949938d1f29084
Status: Image is up to date for zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d
Building and pushing "zededa/wlan:cfd366430df0620df11b2af7f3d9d63d617a5903"
cfd366430df0620df11b2af7f3d9d63d617a5903: Pulling from zededa/wlan
Digest: sha256:ac63587b6eff6a8b545d25b93630ec48d040b660b07154a7e8294101831d0aad
Status: Image is up to date for zededa/wlan:cfd366430df0620df11b2af7f3d9d63d617a5903
Building and pushing "zededa/watchdog:2aea3af274e4928d2eab2b738d0e100ee5362173"
2aea3af274e4928d2eab2b738d0e100ee5362173: Pulling from zededa/watchdog
Digest: sha256:fcaa01ad276ed08b5db6583abf297653b21aa55d522e2c75628e70e704b04026
Status: Image is up to date for zededa/watchdog:2aea3af274e4928d2eab2b738d0e100ee5362173
Building and pushing "zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d"
1bca882c64827de08bba9aa7713441b2b4d7ca8d: Pulling from zededa/device-trees
Digest: sha256:1aa6c27c4e4a3eb3fafa2ab93fca4b06724262084499d6fff337dc541db0f82a
Status: Image is up to date for zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d
Building and pushing "zededa/zedctr:12895f6e4cd20e693dd62112641064720b8e635f"
12895f6e4cd20e693dd62112641064720b8e635f: Pulling from zededa/zedctr
Digest: sha256:d1af8e307435727082b15fd497264661d91fa82aec2db491a2bcd2b2822391be
Status: Downloaded newer image for zededa/zedctr:12895f6e4cd20e693dd62112641064720b8e635f
Building and pushing "zededa/conf:4992a3a63c95b0e446c681a0deaca7a071aba709"
4992a3a63c95b0e446c681a0deaca7a071aba709: Pulling from zededa/conf
Digest: sha256:091815d5d85eb9140216f3acfddfb38d199a3c16c16168c49aaa8e73c99caa67
Status: Image is up to date for zededa/conf:4992a3a63c95b0e446c681a0deaca7a071aba709
Building and pushing "zededa/mkrootfs-ext4:5f77cd6a2b87a3a9927593763da1941dbed1ce80"
5f77cd6a2b87a3a9927593763da1941dbed1ce80: Pulling from zededa/mkrootfs-ext4
Digest: sha256:0e61ed66ce51d7014e65d112a1821c0588fe1da92df15a141dd260915e3978e8
Status: Image is up to date for zededa/mkrootfs-ext4:5f77cd6a2b87a3a9927593763da1941dbed1ce80
Building and pushing "zededa/mkrootfs-squash:b47d705603f5f0d3765b03cf583e1a7fd287f212"
b47d705603f5f0d3765b03cf583e1a7fd287f212: Pulling from zededa/mkrootfs-squash
Digest: sha256:0b57c1d897c84242b48fc2c6bf35acd6ff26335ca16b78f9cda9f5bb21b333c6
Status: Image is up to date for zededa/mkrootfs-squash:b47d705603f5f0d3765b03cf583e1a7fd287f212
Building and pushing "zededa/mkflash:d4131c74a9e283a1e4ee5f3aa80b47b538378411"
d4131c74a9e283a1e4ee5f3aa80b47b538378411: Pulling from zededa/mkflash
Digest: sha256:a354fa8e45e9a40b98f1399bb56541005ab263a5c4f554c4490098a7e61da221
Status: Image is up to date for zededa/mkflash:d4131c74a9e283a1e4ee5f3aa80b47b538378411
Building and pushing "zededa/mkimage-iso-efi:49a6ff8320ce088460c8acb6f36bc15b15d800e9"
49a6ff8320ce088460c8acb6f36bc15b15d800e9: Pulling from zededa/mkimage-iso-efi
Digest: sha256:e8656f7601c118953ec29adff96bb39b3e539da17534607ab2579df5508eb5c7
Status: Image is up to date for zededa/mkimage-iso-efi:49a6ff8320ce088460c8acb6f36bc15b15d800e9
make: Leaving directory '/home/zededa-ci/src/zenbuild/pkg'
make: Entering directory '/home/zededa-ci/src/zenbuild/pkg'
(cd ..; ./parse-pkgs.sh pkg/zedctr//Dockerfile.in > pkg/zedctr//Dockerfile)
Building and pushing "zededa/zedctr:12895f6e4cd20e693dd62112641064720b8e635f"
Sending build context to Docker daemon  19.97kB
Step 1/20 : FROM zededa/ztools:latest as ztools
 ---> 6341cd92336a
Step 2/20 : FROM zededa/xen-tools:9c96b441d083d7ef7bcb602bf009fa91bd7ebbf2-arm64 as xen-tools
 ---> 194a0d29c96f
Step 3/20 : FROM zededa/dnsmasq:c5985cdd83998d06255fe115d230a280c6928f1b-arm64 as dnsmasq
 ---> 85ce87902c8e
Step 4/20 : FROM zededa/strongswan:8f5ee3b98aa3ea49a9a4231baac9be933d6155ec-arm64 as strongswan
 ---> 2e11606a1b07
Step 5/20 : FROM zededa/gpt-tools:fe878611e4e032ea10946cbc9a1c3d5b22349dc4-arm64 as gpttools
 ---> 245b06fc67fd
Step 6/20 : FROM zededa/watchdog:2aea3af274e4928d2eab2b738d0e100ee5362173-arm64 as watchdog
 ---> 2682e16114b6
Step 7/20 : FROM alpine:3.8
 ---> def91cb894ef
Step 8/20 : RUN apk add --no-cache     yajl xz bash openssl iptables ip6tables iproute2 dhcpcd     apk-cron coreutils dmidecode sudo libbz2 libuuid ipset     libpcap libaio logrotate pixman glib curl radvd perl ethtool     openssh-server util-linux e2fsprogs libcrypto1.0
 ---> Running in 8bfcab0278f4
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/aarch64/APKINDEX.tar.gz
(1/57) Installing apk-cron (1.0-r1)
(2/57) Installing ncurses-terminfo-base (6.1_p20180818-r1)
(3/57) Installing ncurses-terminfo (6.1_p20180818-r1)
(4/57) Installing ncurses-libs (6.1_p20180818-r1)
(5/57) Installing readline (7.0.003-r0)
(6/57) Installing bash (4.4.19-r1)
Executing bash-4.4.19-r1.post-install
(7/57) Installing libattr (2.4.47-r7)
(8/57) Installing libacl (2.2.52-r5)
(9/57) Installing coreutils (8.29-r2)
(10/57) Installing ca-certificates (20171114-r3)
(11/57) Installing nghttp2-libs (1.32.0-r0)
(12/57) Installing libssh2 (1.8.0-r3)
(13/57) Installing libcurl (7.61.1-r0)
(14/57) Installing curl (7.61.1-r0)
(15/57) Installing dhcpcd (7.0.7-r0)
(16/57) Installing dmidecode (3.1-r0)
(17/57) Installing libuuid (2.32-r0)
(18/57) Installing libblkid (2.32-r0)
(19/57) Installing libcom_err (1.44.2-r0)
(20/57) Installing e2fsprogs-libs (1.44.2-r0)
(21/57) Installing e2fsprogs (1.44.2-r0)
(22/57) Installing ethtool (4.16-r0)
(23/57) Installing libffi (3.2.1-r4)
(24/57) Installing libintl (0.19.8.1-r2)
(25/57) Installing libmount (2.32-r0)
(26/57) Installing pcre (8.42-r0)
(27/57) Installing glib (2.56.1-r0)
(28/57) Installing libmnl (1.0.4-r0)
(29/57) Installing jansson (2.11-r0)
(30/57) Installing libnftnl-libs (1.1.1-r0)
(31/57) Installing iptables (1.6.2-r0)
(32/57) Installing ip6tables (1.6.2-r0)
(33/57) Installing libelf (0.8.13-r3)
(34/57) Installing iproute2 (4.13.0-r0)
Executing iproute2-4.13.0-r0.post-install
(35/57) Installing ipset (6.38-r0)
(36/57) Installing libaio (0.3.111-r0)
(37/57) Installing libbz2 (1.0.6-r6)
(38/57) Installing libcrypto1.0 (1.0.2o-r2)
(39/57) Installing libpcap (1.8.1-r1)
(40/57) Installing popt (1.16-r7)
(41/57) Installing logrotate (3.14.0-r0)
(42/57) Installing openssh-keygen (7.7_p1-r3)
(43/57) Installing openssh-server-common (7.7_p1-r3)
(44/57) Installing openssh-server (7.7_p1-r3)
(45/57) Installing libssl1.0 (1.0.2o-r2)
(46/57) Installing openssl (1.0.2o-r2)
(47/57) Installing perl (5.26.2-r1)
(48/57) Installing pixman (0.34.0-r5)
(49/57) Installing radvd (2.17-r2)
Executing radvd-2.17-r2.pre-install
(50/57) Installing sudo (1.8.23-r2)
(51/57) Installing libsmartcols (2.32-r0)
(52/57) Installing findmnt (2.32-r0)
(53/57) Installing libfdisk (2.32-r0)
(54/57) Installing util-linux (2.32-r0)
(55/57) Installing xz-libs (5.2.4-r0)
(56/57) Installing xz (5.2.4-r0)
(57/57) Installing yajl (2.1.0-r0)
Executing busybox-1.28.4-r0.trigger
Executing ca-certificates-20171114-r3.trigger
Executing glib-2.56.1-r0.trigger
OK: 70 MiB in 70 packages
 ---> a9a390f7e441
Removing intermediate container 8bfcab0278f4
Step 9/20 : RUN [ `uname -m` = "aarch64" ] && apk add --no-cache libfdt || :
 ---> Running in feb2f3788259
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/aarch64/APKINDEX.tar.gz
(1/1) Installing libfdt (1.4.4-r0)
OK: 70 MiB in 71 packages
 ---> 10ae3aff1e58
Removing intermediate container feb2f3788259
Step 10/20 : RUN ln -s libpcap.so.1 /usr/lib/libpcap.so
 ---> Running in 8ed61a00fd39
 ---> 8449da853445
Removing intermediate container 8ed61a00fd39
Step 11/20 : RUN ssh-keygen -A ; echo PermitRootLogin yes >> /etc/ssh/sshd_config ; sed -ie '/^root/s#^.*$#root:$6$Ndt1G5AYZFQ8rz7m$7vGZMKKotSYxwxk/.jMfuOCzxw0I3DNedygaQaLF7kYSYsLqiBHhmc8RJSXp8/VxSYPpgYSz/8fkv0hO6I4js.:17477:0:::::#' /etc/shadow
 ---> Running in b5f61299c2ab
ssh-keygen: generating new host keys: RSA DSA ECDSA ED25519 
 ---> b2a4608b8a5c
Removing intermediate container b5f61299c2ab
Step 12/20 : COPY --from=xen-tools / /
 ---> 14754c2ec981
Step 13/20 : COPY --from=ztools / /
 ---> 6d412778c9ee
Step 14/20 : COPY --from=gpttools / /
 ---> cadf8d31b3db
Step 15/20 : COPY --from=dnsmasq /usr/sbin/dnsmasq /opt/zededa/bin/dnsmasq
 ---> 0cb443c872f7
Step 16/20 : COPY --from=strongswan / /
 ---> 0ee60c1b4bf6
Step 17/20 : COPY --from=watchdog /usr/sbin /usr/sbin
 ---> cfde3c709586
Step 18/20 : COPY rootfs/ /
 ---> 389b797bccfe
Step 19/20 : CMD /init.sh
 ---> Running in 9d75099d4249
 ---> ba40160a2c23
Removing intermediate container 9d75099d4249
Step 20/20 : LABEL org.mobyproject.config '{"capabilities":["all"],"binds":["/dev:/dev","/etc/resolv.conf:/etc/resolv.conf","/run:/run","/var/log:/var/log/dom0","/:/hostfs"],"net":"host","pid":"host"}' org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '055ce01634c28f06f630b1796d2442018aa41532' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 13d590ccfbc8
 ---> cf73a0a9d829
Removing intermediate container 13d590ccfbc8
Successfully built cf73a0a9d829
Successfully tagged zededa/zedctr:12895f6e4cd20e693dd62112641064720b8e635f-arm64
Pushing zededa/zedctr:12895f6e4cd20e693dd62112641064720b8e635f-arm64
The push refers to a repository [docker.io/zededa/zedctr]
428d50786cc3: Preparing
8e40d79dbcc0: Preparing
c2c99f72275e: Preparing
a2bb7130d370: Preparing
543b981cbc5d: Preparing
981b7b269978: Preparing
400d5a602195: Preparing
9520c4c5bc2d: Preparing
23ea21f29cc7: Preparing
c34865cda9a8: Preparing
2bb4dc11af30: Preparing
b43ad2345ba5: Preparing
cd0a9a09f5aa: Preparing
981b7b269978: Waiting
400d5a602195: Waiting
23ea21f29cc7: Waiting
2bb4dc11af30: Waiting
c34865cda9a8: Waiting
b43ad2345ba5: Waiting
cd0a9a09f5aa: Waiting
9520c4c5bc2d: Waiting
543b981cbc5d: Layer already exists
428d50786cc3: Layer already exists
c2c99f72275e: Layer already exists
400d5a602195: Layer already exists
981b7b269978: Layer already exists
a2bb7130d370: Pushed
9520c4c5bc2d: Pushed
23ea21f29cc7: Pushed
c34865cda9a8: Pushed
b43ad2345ba5: Layer already exists
cd0a9a09f5aa: Layer already exists
8e40d79dbcc0: Pushed
2bb4dc11af30: Pushed
12895f6e4cd20e693dd62112641064720b8e635f-arm64: digest: sha256:a06a10b7d2da9ae12ca643be6f73297f9f0bae9fc77d758f8b1a8f0fc255ce33 size: 3047
Pushing zededa/zedctr:12895f6e4cd20e693dd62112641064720b8e635f-arm64 to manifest zededa/zedctr:12895f6e4cd20e693dd62112641064720b8e635f
time="2018-09-12T08:05:49+02:00" level=warning msg="Couldn't find or access image reference \"zededa/zedctr:12895f6e4cd20e693dd62112641064720b8e635f-s390x\". Skipping image."
Digest: sha256:ea3b5d35ddf3e0ac03e436f28a446027779a2750b1b6c7c2cd7df51207673d36 743
Not signing zededa/zedctr:12895f6e4cd20e693dd62112641064720b8e635f
Build and push complete, not releasing, all done.
make: Leaving directory '/home/zededa-ci/src/zenbuild/pkg'
make: Entering directory '/home/zededa-ci/src/zenbuild/build-pkgs'
Building and pushing "zededa/build-pkgs_abuild:7ae4d9f9fa290963de466d5ed96d6c9318354824"
7ae4d9f9fa290963de466d5ed96d6c9318354824: Pulling from zededa/build-pkgs_abuild
Digest: sha256:ca8df91756d11fe03845fde34b80162062c7ac7fdaa8dd92abc1da8e5a4fab18
Status: Image is up to date for zededa/build-pkgs_abuild:7ae4d9f9fa290963de466d5ed96d6c9318354824
Building and pushing "zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693"
a3362428c518fb4db1a136a961bd17e8a66fb693: Pulling from zededa/build-pkgs_uefi
Digest: sha256:453f621ef93e9f7e12fde6e9b5cc6e3dfaebd027f3621def566bb94a45e79afb
Status: Image is up to date for zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693
make: Leaving directory '/home/zededa-ci/src/zenbuild/build-pkgs'
cd bios ; _() { C=`docker create $1 fake` ; docker export $C | tar -xf - $2 ; docker rm $C ; } ; _ zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693-arm64 OVMF.fd
377c9fed953c43b9caded5b5c63802b568df1b072b49373a67adc989ce9e5428
make -C build-tools all
make[1]: Entering directory '/home/zededa-ci/src/zenbuild/build-tools'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/home/zededa-ci/src/zenbuild/build-tools'
tee: /dev/tty: No such device or address
12895f6e4cd20e693dd62112641064720b8e635f-arm64: Pulling from zededa/zedctr
Digest: sha256:a06a10b7d2da9ae12ca643be6f73297f9f0bae9fc77d758f8b1a8f0fc255ce33
Status: Image is up to date for zededa/zedctr:12895f6e4cd20e693dd62112641064720b8e635f-arm64
DOCKER_ARCH_TAG="arm64" ./parse-pkgs.sh images/installer.yml.in > images/installer.yml
# the following is a horrible hack that needs to go away ASAP
if [ "aarch64" != `uname -m` ] ; then \
           sed -e '/source:/s#rootfs.img#rootfs_aarch64.img#' \
               -e '/command:/s#/dev/sda#/dev/vda#' -i.orig images/installer.yml ;\
   echo "WARNING: We are assembling a aarch64 image on `uname -m`. Things may break." ;\
        fi
DOCKER_ARCH_TAG="arm64" ./parse-pkgs.sh images/rootfs.yml.in > images/rootfs.yml
# the following is a horrible hack that needs to go away ASAP
if [ "aarch64" != `uname -m` ] ; then \
           sed -e '/source:/s#rootfs.img#rootfs_aarch64.img#' \
               -e '/command:/s#/dev/sda#/dev/vda#' -i.orig images/rootfs.yml ;\
   echo "WARNING: We are assembling a aarch64 image on `uname -m`. Things may break." ;\
        fi
./makerootfs.sh images/rootfs.yml squash rootfs_aarch64.img
Extract kernel image: zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c-arm64
Add init containers:
Process init image: zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590-arm64
Process init image: zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d-arm64
Process init image: zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed-arm64
Process init image: zededa/gpt-tools:fe878611e4e032ea10946cbc9a1c3d5b22349dc4-arm64
Process init image: zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760-arm64
Process init image: linuxkit/init:v0.5
Process init image: linuxkit/runc:v0.5
Process init image: linuxkit/containerd:v0.5
Process init image: linuxkit/getty:v0.5
Add onboot containers:
  Create OCI config for linuxkit/sysctl:v0.5
  Create OCI config for linuxkit/modprobe:v0.5
Add service containers:
  Create OCI config for linuxkit/openntpd:v0.5
  Create OCI config for zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d-arm64
  Create OCI config for zededa/wlan:cfd366430df0620df11b2af7f3d9d63d617a5903-arm64
  Create OCI config for zededa/zedctr:12895f6e4cd20e693dd62112641064720b8e635f-arm64
Add files:
  /containers/services/zededa-tools/lower/opt/zededa/bin/versioninfo
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[======-                                                     ]  1700/14669  11%[=================================================\          ] 12400/14669  84%[===========================================================-] 14669/14669 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 162042.20 Kbytes (158.24 Mbytes)
	31.06% of uncompressed filesystem size (521643.66 Kbytes)
Inode table size 152425 bytes (148.85 Kbytes)
	26.33% of uncompressed inode table size (578959 bytes)
Directory table size 154830 bytes (151.20 Kbytes)
	44.93% of uncompressed directory table size (344602 bytes)
Number of duplicate files found 2549
Number of inodes 15418
Number of files 11489
Number of fragments 711
Number of symbolic links  2689
Number of device nodes 7
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 1233
Number of ids (unique uids + gids) 3
Number of uids 1
	root (0)
Number of gids 3
	root (0)
	shadow (42)
	tty (5)
./makeiso.sh images/installer.yml installer_aarch64.iso
Extract kernel image: zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c-arm64
Add init containers:
Process init image: zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590-arm64
Process init image: zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d-arm64
Process init image: zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed-arm64
Process init image: linuxkit/init:v0.5
Process init image: linuxkit/runc:v0.5
Process init image: linuxkit/getty:v0.5
Add onboot containers:
  Create OCI config for zededa/mkflash:d4131c74a9e283a1e4ee5f3aa80b47b538378411-arm64
Add files:
  /parts/config.img
  /parts/rootfs.img
time="2018-09-12T08:08:37+02:00" level=fatal msg="failed to add filesystem parts: open rootfs.img: no such file or directory"
xorriso 1.4.6 : RockRidge filesystem manipulator, libburnia project.

Drive current: -outdev 'stdio:linuxkit-efi.iso'
Media current: stdio file, overwriteable
Media status : is blank
Media summary: 0 sessions, 0 data blocks, 0 data,  857g free
Added to ISO image: directory '/'='/tmp/efi'
xorriso : UPDATE : 4596 files added in 1 seconds
xorriso : UPDATE : 4596 files added in 1 seconds
libisofs: NOTE : Cannot arrange content of data files in surely reproducible way
xorriso : UPDATE :  15.34% done
ISO image produced: 99927 sectors
Written to medium : 99927 sectors at LBA 0
Writing to 'stdio:linuxkit-efi.iso' completed successfully.

tar c rootfs_aarch64.img config.img | ./makeflash.sh -C 8192 fallback_aarch64.raw
1+0 records in
1+0 records out
1 byte copied, 0.00836183 s, 0.1 kB/s
+ IMGFILE=/output.img
+ NUMPARTS=9
+ mkdir -p /parts
+ [ -t 0 ]
+ cd /parts
+ bsdtar xzf -
+ ESP_FILE=/tmp/efifs.img
+ cut -f1 -d 
+ echo /parts/rootfs_aarch64.img
+ IMGA_FILE=/parts/rootfs_aarch64.img
+ CONF_FILE=/parts/config.img
+ mount -o loop /parts/rootfs_aarch64.img /mnt
mount: mounting /dev/loop0 on /mnt failed: Invalid argument
Makefile:152: recipe for target 'fallback_aarch64.raw' failed
make: *** [fallback_aarch64.raw] Error 111
make: Entering directory '/home/zededa-ci/src/zenbuild/build-pkgs'
Building and pushing "zededa/zenix:latest"
Sending build context to Docker daemon  517.3MB
Step 1/9 : FROM alpine:edge
 ---> 698b28d4f8d1
Step 2/9 : RUN apk add --no-cache qemu-system-x86_64 qemu-system-aarch64 bash make git
 ---> Using cache
 ---> 5b21459beb8b
Step 3/9 : COPY . /bits/
 ---> Using cache
 ---> c5f345eda82a
Step 4/9 : COPY OVMF.fd /bits/bios/OVMF.fd
 ---> Using cache
 ---> e342e4ec1c5c
Step 5/9 : COPY runme.sh /
 ---> Using cache
 ---> c300c2ff8dc7
Step 6/9 : RUN touch /bits/bios/OVMF.fd
 ---> Using cache
 ---> 85b9a3f966f3
Step 7/9 : WORKDIR /bits
 ---> Using cache
 ---> b59a8adaf13d
Step 8/9 : ENTRYPOINT /runme.sh
 ---> Using cache
 ---> a2c4b6771d85
Step 9/9 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '055ce01634c28f06f630b1796d2442018aa41532' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Using cache
 ---> d17d912abb7d
Successfully built d17d912abb7d
Successfully tagged zededa/zenix:latest-arm64
Pushing zededa/zenix:latest-arm64
The push refers to a repository [docker.io/zededa/zenix]
96feea203423: Preparing
c96588d795bb: Preparing
5ef670ff3c99: Preparing
841a93c06d96: Preparing
18d6c5bbfc56: Preparing
7f4507898901: Preparing
2a2e682c36db: Preparing
7f4507898901: Waiting
2a2e682c36db: Waiting
5ef670ff3c99: Layer already exists
96feea203423: Layer already exists
c96588d795bb: Layer already exists
18d6c5bbfc56: Layer already exists
841a93c06d96: Layer already exists
2a2e682c36db: Layer already exists
7f4507898901: Layer already exists
latest-arm64: digest: sha256:1fe795f8427c0b01612b0e97d907c67b96dfd4d6d6a493a2b465f735eb38e1e7 size: 1787
Pushing zededa/zenix:latest-arm64 to manifest zededa/zenix:latest
time="2018-09-12T08:09:35+02:00" level=warning msg="Couldn't find or access image reference \"zededa/zenix:latest-s390x\". Skipping image."
Digest: sha256:d7843487fa10471142b5371881d0ad704e649837a30c633853ba27ca398789f5 743
Not signing zededa/zenix:latest
Build and push complete, not releasing, all done.
make: Leaving directory '/home/zededa-ci/src/zenbuild/build-pkgs'
FINISHED
