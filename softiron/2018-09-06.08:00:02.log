From https://github.com/zededa/zenbuild
 * [new branch]      alpine3.8  -> origin/alpine3.8
Already up-to-date.
make -C build-tools all
make[1]: Entering directory '/home/zededa-ci/src/zenbuild/build-tools'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/home/zededa-ci/src/zenbuild/build-tools'
From github.com:zededa/go-provision
   6d72113..e4f13d1  master     -> origin/master
   d275de3..f116a4b  fixes      -> origin/fixes
Updating 6d72113..e4f13d1
Fast-forward
 cmd/zedrouter/zedrouter.go | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)
From github.com:zededa/lisp
 * [new branch]      alpine3.8  -> origin/alpine3.8
Already up-to-date.
Building and pushing "zededa/lisp:f1cd5eef9b27633b1014ebd31458c977bbc45440"
f1cd5eef9b27633b1014ebd31458c977bbc45440: Pulling from zededa/lisp
Digest: sha256:58917a0b9a4accbe1901c0898096779611b02ad9f7724253aad594a4305490b1
Status: Image is up to date for zededa/lisp:f1cd5eef9b27633b1014ebd31458c977bbc45440
Building and pushing "zededa/lisp:latest"
Sending build context to Docker daemon   10.7MB
Step 1/20 : FROM golang:1.9.1-alpine AS go-build
 ---> cc52d0ad4cce
Step 2/20 : RUN apk update
 ---> Using cache
 ---> 06dc54679d07
Step 3/20 : RUN apk add --no-cache git gcc linux-headers libc-dev libpcap-dev
 ---> Using cache
 ---> e0b117c95ac3
Step 4/20 : ADD . /go/src/github.com/zededa/lisp
 ---> e25fd82e39e3
Step 5/20 : RUN go install github.com/zededa/lisp/cmd/...
 ---> Running in 3e71ab49ca68
 ---> f4e67c51b4d2
Removing intermediate container 3e71ab49ca68
Step 6/20 : FROM alpine:3.6
 ---> a9277cb286bb
Step 7/20 : RUN apk add --no-cache curl gcc linux-headers libc-dev python python-dev libffi-dev openssl-dev libpcap-dev iproute2 tcpdump ethtool ip6tables
 ---> Using cache
 ---> 22c4198640c2
Step 8/20 : RUN mkdir /lisp
 ---> Using cache
 ---> a735a97af9aa
Step 9/20 : ARG LISP_URL=https://www.dropbox.com/s/ogfu5gaw550rlkq/zededa.tgz
 ---> Using cache
 ---> e7b21c08194f
Step 10/20 : RUN cd /lisp ; curl --insecure -L $LISP_URL | gzip -dc | tar -xf -
 ---> Using cache
 ---> cd58f592636e
Step 11/20 : ADD scripts/sudo /usr/bin/sudo
 ---> Using cache
 ---> a1f724579c22
Step 12/20 : ADD conf scripts/RESTART-LISP scripts/RUN-LISP.rtr1 scripts/RUN-LISP scripts/STOP-LISP scripts/CONFIG-SVC scripts/RL scripts/pslisp scripts/log-packets scripts/ping-mesh.py /lisp/
 ---> Using cache
 ---> 6980d930a181
Step 13/20 : RUN python /lisp/get-pip.py
 ---> Using cache
 ---> 79c858a2ab6c
Step 14/20 : RUN pip install -r /lisp/pip-requirements.txt
 ---> Using cache
 ---> f6e07a89b552
Step 15/20 : RUN echo 'PS1="`hostname | cut -d . -f 0` > "' >> /root/.profile
 ---> Using cache
 ---> faf2e848c055
Step 16/20 : COPY --from=go-build /go/bin/dataplane /lisp/lisp-ztr
 ---> Using cache
 ---> bcd15df0c3ff
Step 17/20 : EXPOSE 8080
 ---> Using cache
 ---> 709b14c7f683
Step 18/20 : WORKDIR /lisp
 ---> Using cache
 ---> 7790f334127c
Step 19/20 : CMD ./CONFIG-SVC ; ./RL ; sleep 5 ; tail -f ./logs/*
 ---> Using cache
 ---> f4b74579b1dd
Step 20/20 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '10b3969d1aaca51f62fdba11a9ba51672afc6139' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Using cache
 ---> 66fd13b603d2
Successfully built 66fd13b603d2
Successfully tagged zededa/lisp:latest-arm64
Pushing zededa/lisp:latest-arm64
The push refers to a repository [docker.io/zededa/lisp]
33fe7bf2f933: Preparing
bad01b709fbd: Preparing
e7ebfa270a08: Preparing
63448c5fb5b3: Preparing
3e7ff2b4290f: Preparing
d07a0209af0b: Preparing
f40ac4a0be73: Preparing
b2de77c3ccdf: Preparing
7559e6e3855b: Preparing
7678a2257549: Preparing
199db0687ace: Preparing
b2de77c3ccdf: Waiting
7559e6e3855b: Waiting
7678a2257549: Waiting
199db0687ace: Waiting
d07a0209af0b: Waiting
e7ebfa270a08: Layer already exists
3e7ff2b4290f: Layer already exists
bad01b709fbd: Layer already exists
33fe7bf2f933: Layer already exists
b2de77c3ccdf: Layer already exists
d07a0209af0b: Layer already exists
f40ac4a0be73: Layer already exists
7678a2257549: Layer already exists
199db0687ace: Layer already exists
63448c5fb5b3: Layer already exists
7559e6e3855b: Layer already exists
latest-arm64: digest: sha256:98905e3da882e3b53b623fc5ecef005a1e40f70e1baaa84b9a18437fb06bba5a size: 2621
Pushing zededa/lisp:latest-arm64 to manifest zededa/lisp:latest
time="2018-09-06T08:00:42+02:00" level=warning msg="Couldn't find or access image reference \"zededa/lisp:latest-s390x\". Skipping image."
Digest: sha256:32a3f2b7984ab477bb5516c144401b283c9261fa567b624745ad729ac102bd70 743
Not signing zededa/lisp:latest
Build and push complete, not releasing, all done.
Building and pushing "zededa/ztools:d9972ef9741f414482a0b9e77f6d880d675bca75"
d9972ef9741f414482a0b9e77f6d880d675bca75: Pulling from zededa/ztools
no matching manifest for linux/arm64 in the manifest list entries
No image pulled, continuing with build
Sending build context to Docker daemon  30.66MB
Step 1/33 : FROM golang:1.9.1-alpine AS build
 ---> cc52d0ad4cce
Step 2/33 : RUN apk update
 ---> Using cache
 ---> 06dc54679d07
Step 3/33 : RUN apk add --no-cache git gcc linux-headers libc-dev util-linux
 ---> Using cache
 ---> bcd126094d65
Step 4/33 : ADD ./ /go/src/github.com/zededa/go-provision/
 ---> d900fa28af7a
Step 5/33 : ADD etc /config
 ---> 8b797bd30e0e
Step 6/33 : ADD scripts/device-steps.sh scripts/find-uplink.sh scripts/generate-device.sh scripts/generate-self-signed.sh scripts/handlezedserverconfig.sh /opt/zededa/bin/
 ---> 3f8a5025e634
Step 7/33 : ADD examples /opt/zededa/examples
 ---> 6e0f2fe79706
Step 8/33 : ADD AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> b2b4d88dd8d7
Step 9/33 : ADD DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> cea398b813d4
Step 10/33 : ADD lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> 358cfc6a0f83
Step 11/33 : RUN (cd ./src/github.com/zededa/go-provision/; scripts/getversion.sh >/opt/zededa/bin/versioninfo)
 ---> Running in 14985e58c89c
 ---> 96913be2d1f2
Removing intermediate container 14985e58c89c
Step 12/33 : RUN cp /opt/zededa/bin/versioninfo /opt/zededa/bin/versioninfo.1
 ---> Running in e74bae2bae27
 ---> 24a0e9730e00
Removing intermediate container e74bae2bae27
Step 13/33 : RUN echo Building: `cat /opt/zededa/bin/versioninfo`
 ---> Running in 332454dc5928
Building: 20180314-test-e4f13d18-2018-09-06.06.01
 ---> 42d3e7cda153
Removing intermediate container 332454dc5928
Step 14/33 : RUN go install github.com/zededa/go-provision/zedbox/...
 ---> Running in aab0eb86a948
 ---> 3af3273ba547
Removing intermediate container aab0eb86a948
Step 15/33 : RUN cd /opt/zededa/bin ; ln -s /go/bin/* .
 ---> Running in c1e39b4bc40f
 ---> e69627d90762
Removing intermediate container c1e39b4bc40f
Step 16/33 : RUN cd /opt/zededa/bin ; ln -s zedbox client; ln -s zedbox domainmgr; ln -s zedbox downloader; ln -s zedbox hardwaremodel; ln -s zedbox identitymgr; ln -s zedbox ledmanager; ln -s zedbox logmanager; ln -s zedbox verifier; ln -s zedbox zedagent; ln -s zedbox zedmanager; ln -s zedbox zedrouter
 ---> Running in f87fa602fcd3
 ---> fc5517d02322
Removing intermediate container f87fa602fcd3
Step 17/33 : FROM zededa/lisp:latest AS lisp
 ---> 8c611457d2fd
Step 18/33 : FROM scratch
 ---> 
Step 19/33 : COPY --from=build /opt/zededa/bin /opt/zededa/bin
 ---> d6bf0288b6b3
Step 20/33 : COPY --from=build /opt/zededa/examples /opt/zededa/examples
 ---> 7887070ff6c5
Step 21/33 : COPY --from=build /var/tmp/zededa/AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> aab0a4986d4c
Step 22/33 : COPY --from=build /var/tmp/zededa/DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> 64ce0a36dbec
Step 23/33 : COPY --from=build /var/tmp/zededa/lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> 92b32320b0a6
Step 24/33 : COPY --from=build /config /opt/zededa/examples/config
 ---> 8b0c8cafba59
Step 25/33 : COPY --from=build /go/bin/* /opt/zededa/bin/
 ---> c66d3bf0f665
Step 26/33 : COPY --from=lisp /lisp/lisp-ztr /opt/zededa/bin/
COPY failed: stat /var/lib/docker/btrfs/subvolumes/c851f0d7fe7579f9e771ed10384dcbac5b87b9336dbf05d1e9d4577060aa74e2/lisp/lisp-ztr: no such file or directory
exit status 1
Building and pushing "zededa/ztools:latest"
Sending build context to Docker daemon  30.66MB
Step 1/33 : FROM golang:1.9.1-alpine AS build
 ---> cc52d0ad4cce
Step 2/33 : RUN apk update
 ---> Using cache
 ---> 06dc54679d07
Step 3/33 : RUN apk add --no-cache git gcc linux-headers libc-dev util-linux
 ---> Using cache
 ---> bcd126094d65
Step 4/33 : ADD ./ /go/src/github.com/zededa/go-provision/
 ---> Using cache
 ---> d900fa28af7a
Step 5/33 : ADD etc /config
 ---> Using cache
 ---> 8b797bd30e0e
Step 6/33 : ADD scripts/device-steps.sh scripts/find-uplink.sh scripts/generate-device.sh scripts/generate-self-signed.sh scripts/handlezedserverconfig.sh /opt/zededa/bin/
 ---> Using cache
 ---> 3f8a5025e634
Step 7/33 : ADD examples /opt/zededa/examples
 ---> Using cache
 ---> 6e0f2fe79706
Step 8/33 : ADD AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> Using cache
 ---> b2b4d88dd8d7
Step 9/33 : ADD DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> Using cache
 ---> cea398b813d4
Step 10/33 : ADD lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> Using cache
 ---> 358cfc6a0f83
Step 11/33 : RUN (cd ./src/github.com/zededa/go-provision/; scripts/getversion.sh >/opt/zededa/bin/versioninfo)
 ---> Using cache
 ---> 96913be2d1f2
Step 12/33 : RUN cp /opt/zededa/bin/versioninfo /opt/zededa/bin/versioninfo.1
 ---> Using cache
 ---> 24a0e9730e00
Step 13/33 : RUN echo Building: `cat /opt/zededa/bin/versioninfo`
 ---> Using cache
 ---> 42d3e7cda153
Step 14/33 : RUN go install github.com/zededa/go-provision/zedbox/...
 ---> Using cache
 ---> 3af3273ba547
Step 15/33 : RUN cd /opt/zededa/bin ; ln -s /go/bin/* .
 ---> Using cache
 ---> e69627d90762
Step 16/33 : RUN cd /opt/zededa/bin ; ln -s zedbox client; ln -s zedbox domainmgr; ln -s zedbox downloader; ln -s zedbox hardwaremodel; ln -s zedbox identitymgr; ln -s zedbox ledmanager; ln -s zedbox logmanager; ln -s zedbox verifier; ln -s zedbox zedagent; ln -s zedbox zedmanager; ln -s zedbox zedrouter
 ---> Using cache
 ---> fc5517d02322
Step 17/33 : FROM zededa/lisp:latest AS lisp
 ---> 8c611457d2fd
Step 18/33 : FROM scratch
 ---> 
Step 19/33 : COPY --from=build /opt/zededa/bin /opt/zededa/bin
 ---> Using cache
 ---> d6bf0288b6b3
Step 20/33 : COPY --from=build /opt/zededa/examples /opt/zededa/examples
 ---> Using cache
 ---> 7887070ff6c5
Step 21/33 : COPY --from=build /var/tmp/zededa/AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> Using cache
 ---> aab0a4986d4c
Step 22/33 : COPY --from=build /var/tmp/zededa/DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> Using cache
 ---> 64ce0a36dbec
Step 23/33 : COPY --from=build /var/tmp/zededa/lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> Using cache
 ---> 92b32320b0a6
Step 24/33 : COPY --from=build /config /opt/zededa/examples/config
 ---> Using cache
 ---> 8b0c8cafba59
Step 25/33 : COPY --from=build /go/bin/* /opt/zededa/bin/
 ---> Using cache
 ---> c66d3bf0f665
Step 26/33 : COPY --from=lisp /lisp/lisp-ztr /opt/zededa/bin/
COPY failed: stat /var/lib/docker/btrfs/subvolumes/89c19db2e68b8ede922f958347f6af962db21df0b9c3309ea80dc6d3f16be2ed/lisp/lisp-ztr: no such file or directory
exit status 1
make: Entering directory '/home/zededa-ci/src/zenbuild/pkg'
(cd ..; ./parse-pkgs.sh pkg/qrexec-lib/Dockerfile.in > pkg/qrexec-lib/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/qrexec-dom0/Dockerfile.in > pkg/qrexec-dom0/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/zedctr/Dockerfile.in > pkg/zedctr/Dockerfile)
(cd ..; ./parse-pkgs.sh pkg/mkconf/Dockerfile.in > pkg/mkconf/Dockerfile)
Building and pushing "zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590"
35eb3c470422d1bced11f3457ea8ff432d9f0590: Pulling from zededa/grub
Digest: sha256:fdf260a20b95f4cfdd099d97a66665cbcf562995a3175f86ffa0cb175e17306d
Status: Image is up to date for zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590
Building and pushing "zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed"
be954dc9ba840dcff92c7edc1823e7e19d12a8ed: Pulling from zededa/xen
Digest: sha256:da46da41f4f12e8dc72fe868f6489b83012781895d7ea827124c82e45ecc4732
Status: Image is up to date for zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed
Building and pushing "zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c"
e2919188af3f6da07e8bc651ecc45b5b3f0f523c: Pulling from zededa/kernel
Digest: sha256:03ba7d6f93d29ffe87b52dc13833d6551365f3426837e8ee1872d4a99c2749a1
Status: Image is up to date for zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c
Building and pushing "zededa/xen-tools:7c0b7ae46fefde91d929d8851f7483a9d534e9a1"
7c0b7ae46fefde91d929d8851f7483a9d534e9a1: Pulling from zededa/xen-tools
Digest: sha256:8cd73e717eee516844292a08ca38bf44e630b36dbc32fea7a0b869399a9869bb
Status: Image is up to date for zededa/xen-tools:7c0b7ae46fefde91d929d8851f7483a9d534e9a1
Building and pushing "zededa/dnsmasq:e2de7e6a478850d931724f951f877cd507d77358"
e2de7e6a478850d931724f951f877cd507d77358: Pulling from zededa/dnsmasq
Digest: sha256:125f0752e167c074395c1bcf8f286b5384475ef7cf0757927b2c4ae8efde9861
Status: Image is up to date for zededa/dnsmasq:e2de7e6a478850d931724f951f877cd507d77358
Building and pushing "zededa/strongswan:3957eaaa64beb65e946494bab989e861f34811cb"
3957eaaa64beb65e946494bab989e861f34811cb: Pulling from zededa/strongswan
Digest: sha256:a286c5d4088dacf5dbc8b1d8554b69967912b82096fd1d962cdc72f7b76dfd7f
Status: Image is up to date for zededa/strongswan:3957eaaa64beb65e946494bab989e861f34811cb
Building and pushing "zededa/gpt-tools:f0be39997551891e81c6edc38acc20f61077287b"
f0be39997551891e81c6edc38acc20f61077287b: Pulling from zededa/gpt-tools
Digest: sha256:4501fb62832f6b47b96465c32ef9091564aa67ff8a6789a5f02e3b157d66f9e5
Status: Image is up to date for zededa/gpt-tools:f0be39997551891e81c6edc38acc20f61077287b
Building and pushing "zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760"
c6d8f2123c748379add5d3dbbac23e3630131760: Pulling from zededa/dom0-ztools
Digest: sha256:d0f6b7191469b78e35a9b14f5dcc0f81a3f6717475deb67b505bf4e07e76a27c
Status: Image is up to date for zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760
Building and pushing "zededa/qrexec-lib:2e0df0df95f86df6953d7d2e7729213b77fd7206"
2e0df0df95f86df6953d7d2e7729213b77fd7206: Pulling from zededa/qrexec-lib
Digest: sha256:32f61d2e41a4f5fffb86def714e73d8f8a5296eba1248a9030b61c3d13f9665c
Status: Image is up to date for zededa/qrexec-lib:2e0df0df95f86df6953d7d2e7729213b77fd7206
Building and pushing "zededa/qrexec-dom0:2c3cf9b135409690eaa86092c41f7c800d398468"
2c3cf9b135409690eaa86092c41f7c800d398468: Pulling from zededa/qrexec-dom0
Digest: sha256:e9b7837928b109d39dfe548be2020a0b465c73f7daf742f233df14fc0d41392d
Status: Image is up to date for zededa/qrexec-dom0:2c3cf9b135409690eaa86092c41f7c800d398468
Building and pushing "zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d"
5f68442251df0f2625fde14e947f11de2374b72d: Pulling from zededa/wwan
Digest: sha256:8ca8a464ec3e4391c0f1febc3db978d734049df823423f41141ba4a7252156c9
Status: Image is up to date for zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d
Building and pushing "zededa/wlan:cfd366430df0620df11b2af7f3d9d63d617a5903"
cfd366430df0620df11b2af7f3d9d63d617a5903: Pulling from zededa/wlan
Digest: sha256:f20d323b3e38beace2ec05a368bddfbad504867197ef50ded32bcf0dbfc369e1
Status: Image is up to date for zededa/wlan:cfd366430df0620df11b2af7f3d9d63d617a5903
Building and pushing "zededa/watchdog:3e77cbcffbf4f71309bab82500039967bca0d189"
3e77cbcffbf4f71309bab82500039967bca0d189: Pulling from zededa/watchdog
Digest: sha256:e30d960a5c45f67a62d2df17e5f50c638e923acd9e4be5b41947e195531e4f10
Status: Image is up to date for zededa/watchdog:3e77cbcffbf4f71309bab82500039967bca0d189
Building and pushing "zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d"
1bca882c64827de08bba9aa7713441b2b4d7ca8d: Pulling from zededa/device-trees
Digest: sha256:5f8e6aa2e16a8363bbf5cf15868dbf5ef8725684a7682753530ed3059956c213
Status: Image is up to date for zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d
Building and pushing "zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7"
37df4dd4f4aaa43394f42dcee7cef6b45b6042c7: Pulling from zededa/zedctr
Digest: sha256:a03afa6abce08709056d8f2b813a9531efbed9529deaf15f8bbd3c6594ae2572
Status: Downloaded newer image for zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7
Building and pushing "zededa/conf:4992a3a63c95b0e446c681a0deaca7a071aba709"
4992a3a63c95b0e446c681a0deaca7a071aba709: Pulling from zededa/conf
Digest: sha256:d0233e6db0ed0b03c6dc5e76f4c557b70d36090bb8332ac91d913ec2193fab4f
Status: Image is up to date for zededa/conf:4992a3a63c95b0e446c681a0deaca7a071aba709
Building and pushing "zededa/mkrootfs-ext4:5f77cd6a2b87a3a9927593763da1941dbed1ce80"
5f77cd6a2b87a3a9927593763da1941dbed1ce80: Pulling from zededa/mkrootfs-ext4
Digest: sha256:bab614e18cfd1f4b85902cd93aa975bb5cf53b6c54f115dd3e24f387b0638701
Status: Image is up to date for zededa/mkrootfs-ext4:5f77cd6a2b87a3a9927593763da1941dbed1ce80
Building and pushing "zededa/mkrootfs-squash:b47d705603f5f0d3765b03cf583e1a7fd287f212"
b47d705603f5f0d3765b03cf583e1a7fd287f212: Pulling from zededa/mkrootfs-squash
Digest: sha256:45b15f740f986bde436073101bf80a44a09ba5a93c68b2020f612131d52209bf
Status: Image is up to date for zededa/mkrootfs-squash:b47d705603f5f0d3765b03cf583e1a7fd287f212
Building and pushing "zededa/mkflash:d4131c74a9e283a1e4ee5f3aa80b47b538378411"
d4131c74a9e283a1e4ee5f3aa80b47b538378411: Pulling from zededa/mkflash
Digest: sha256:5701a9748ba72f18a913caa9f956daf4684b26042930f4be16413c1f7c68c005
Status: Image is up to date for zededa/mkflash:d4131c74a9e283a1e4ee5f3aa80b47b538378411
Building and pushing "zededa/mkimage-iso-efi:49a6ff8320ce088460c8acb6f36bc15b15d800e9"
49a6ff8320ce088460c8acb6f36bc15b15d800e9: Pulling from zededa/mkimage-iso-efi
Digest: sha256:e32540118e5652ca5869696b1547ce335b37ad29948d6733add55a3edefb51f2
Status: Image is up to date for zededa/mkimage-iso-efi:49a6ff8320ce088460c8acb6f36bc15b15d800e9
make: Leaving directory '/home/zededa-ci/src/zenbuild/pkg'
make: Entering directory '/home/zededa-ci/src/zenbuild/pkg'
(cd ..; ./parse-pkgs.sh pkg/zedctr//Dockerfile.in > pkg/zedctr//Dockerfile)
Building and pushing "zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7"
Sending build context to Docker daemon  19.97kB
Step 1/20 : FROM zededa/ztools:latest as ztools
 ---> 6341cd92336a
Step 2/20 : FROM zededa/xen-tools:7c0b7ae46fefde91d929d8851f7483a9d534e9a1-arm64 as xen-tools
 ---> 2b836ba5bcb3
Step 3/20 : FROM zededa/dnsmasq:e2de7e6a478850d931724f951f877cd507d77358-arm64 as dnsmasq
 ---> 1a0a9313ef5f
Step 4/20 : FROM zededa/strongswan:3957eaaa64beb65e946494bab989e861f34811cb-arm64 as strongswan
 ---> c9bc0d3f0642
Step 5/20 : FROM zededa/gpt-tools:f0be39997551891e81c6edc38acc20f61077287b-arm64 as gpttools
 ---> bb17a51a6442
Step 6/20 : FROM zededa/watchdog:3e77cbcffbf4f71309bab82500039967bca0d189-arm64 as watchdog
 ---> 57e0cb5696a7
Step 7/20 : FROM alpine:3.6
 ---> a9277cb286bb
Step 8/20 : RUN apk add --no-cache     yajl xz bash openssl iptables ip6tables iproute2 dhcpcd     apk-cron coreutils dmidecode sudo libbz2 libuuid ipset     libpcap libaio logrotate pixman glib curl radvd perl ethtool     openssh-server util-linux e2fsprogs libcrypto1.0
 ---> Running in d43d5d86e677
fetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/aarch64/APKINDEX.tar.gz
(1/54) Installing apk-cron (1.0-r0)
(2/54) Installing ncurses-terminfo-base (6.0_p20171125-r1)
(3/54) Installing ncurses-terminfo (6.0_p20171125-r1)
(4/54) Installing ncurses-libs (6.0_p20171125-r1)
(5/54) Installing readline (6.3.008-r5)
(6/54) Installing bash (4.3.48-r1)
Executing bash-4.3.48-r1.post-install
(7/54) Installing libattr (2.4.47-r6)
(8/54) Installing libacl (2.2.52-r3)
(9/54) Installing coreutils (8.27-r0)
(10/54) Installing ca-certificates (20161130-r2)
(11/54) Installing libssh2 (1.8.0-r1)
(12/54) Installing libcurl (7.61.0-r0)
(13/54) Installing curl (7.61.0-r0)
(14/54) Installing dhcpcd (6.11.5-r1)
(15/54) Installing dmidecode (3.0-r0)
(16/54) Installing libuuid (2.28.2-r2)
(17/54) Installing libblkid (2.28.2-r2)
(18/54) Installing libcom_err (1.43.4-r0)
(19/54) Installing e2fsprogs-libs (1.43.4-r0)
(20/54) Installing e2fsprogs (1.43.4-r0)
(21/54) Installing ethtool (4.10-r0)
(22/54) Installing libffi (3.2.1-r3)
(23/54) Installing libintl (0.19.8.1-r1)
(24/54) Installing libmount (2.28.2-r2)
(25/54) Installing pcre (8.41-r0)
(26/54) Installing glib (2.52.1-r0)
(27/54) Installing libmnl (1.0.4-r0)
(28/54) Installing libnftnl-libs (1.0.7-r0)
(29/54) Installing iptables (1.6.1-r0)
(30/54) Installing ip6tables (1.6.1-r0)
(31/54) Installing libelf (0.8.13-r2)
(32/54) Installing iproute2 (4.10.0-r1)
Executing iproute2-4.10.0-r1.post-install
(33/54) Installing ipset (6.32-r3)
(34/54) Installing libaio (0.3.110-r0)
(35/54) Installing libbz2 (1.0.6-r5)
(36/54) Installing libcrypto1.0 (1.0.2o-r1)
(37/54) Installing libpcap (1.8.1-r0)
(38/54) Installing popt (1.16-r6)
(39/54) Installing logrotate (3.12.2-r0)
(40/54) Installing openssh-keygen (7.5_p1-r2)
(41/54) Installing openssh-server (7.5_p1-r2)
(42/54) Installing libssl1.0 (1.0.2o-r1)
(43/54) Installing openssl (1.0.2o-r1)
(44/54) Installing perl (5.24.4-r1)
(45/54) Installing pixman (0.34.0-r0)
(46/54) Installing radvd (2.15-r0)
Executing radvd-2.15-r0.pre-install
(47/54) Installing sudo (1.8.19_p2-r0)
(48/54) Installing libsmartcols (2.28.2-r2)
(49/54) Installing findmnt (2.28.2-r2)
(50/54) Installing libfdisk (2.28.2-r2)
(51/54) Installing util-linux (2.28.2-r2)
(52/54) Installing xz-libs (5.2.3-r0)
(53/54) Installing xz (5.2.3-r0)
(54/54) Installing yajl (2.1.0-r0)
Executing busybox-1.26.2-r5.trigger
Executing ca-certificates-20161130-r2.trigger
Executing glib-2.52.1-r0.trigger
OK: 74 MiB in 65 packages
 ---> 97ca6602ccab
Removing intermediate container d43d5d86e677
Step 9/20 : RUN [ `uname -m` = "aarch64" ] && apk add --no-cache libfdt || :
 ---> Running in c252a86944f3
fetch http://dl-cdn.alpinelinux.org/alpine/v3.6/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.6/community/aarch64/APKINDEX.tar.gz
(1/1) Installing libfdt (1.4.4-r0)
OK: 74 MiB in 66 packages
 ---> 7e047a2443ba
Removing intermediate container c252a86944f3
Step 10/20 : RUN ln -s libpcap.so.1 /usr/lib/libpcap.so
 ---> Running in fb567893ba69
 ---> 1495efb50479
Removing intermediate container fb567893ba69
Step 11/20 : RUN ssh-keygen -A ; echo PermitRootLogin yes >> /etc/ssh/sshd_config ; sed -ie '/^root/s#^.*$#root:$6$Ndt1G5AYZFQ8rz7m$7vGZMKKotSYxwxk/.jMfuOCzxw0I3DNedygaQaLF7kYSYsLqiBHhmc8RJSXp8/VxSYPpgYSz/8fkv0hO6I4js.:17477:0:::::#' /etc/shadow
 ---> Running in 1013a97941ed
ssh-keygen: generating new host keys: RSA DSA ECDSA ED25519 
 ---> b18f7c9c058d
Removing intermediate container 1013a97941ed
Step 12/20 : COPY --from=xen-tools / /
 ---> 57f6a12423c0
Step 13/20 : COPY --from=ztools / /
 ---> af8f019a0a95
Step 14/20 : COPY --from=gpttools / /
 ---> 31daf6a7a98a
Step 15/20 : COPY --from=dnsmasq /usr/sbin/dnsmasq /opt/zededa/bin/dnsmasq
 ---> d99a58345779
Step 16/20 : COPY --from=strongswan / /
 ---> c70ac126a3bb
Step 17/20 : COPY --from=watchdog /usr/sbin /usr/sbin
 ---> 32a639caae02
Step 18/20 : COPY rootfs/ /
 ---> a8326613905c
Step 19/20 : CMD /init.sh
 ---> Running in f64f38528064
 ---> 1d7012a2b0e4
Removing intermediate container f64f38528064
Step 20/20 : LABEL org.mobyproject.config '{"capabilities":["all"],"binds":["/dev:/dev","/etc/resolv.conf:/etc/resolv.conf","/run:/run","/var/log:/var/log/dom0","/:/hostfs"],"net":"host","pid":"host"}' org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'f66778766348e2107deb1c053c16db6efa63f94a' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in be995b48b0f9
 ---> 27ca5833cf8f
Removing intermediate container be995b48b0f9
Successfully built 27ca5833cf8f
Successfully tagged zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64
Pushing zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64
The push refers to a repository [docker.io/zededa/zedctr]
428d50786cc3: Preparing
ddcec12532cf: Preparing
2395b6a8a790: Preparing
7a3931723446: Preparing
3edd81ed8cbc: Preparing
981b7b269978: Preparing
0a6d5c0670cf: Preparing
20a25d077eda: Preparing
c54253642cd4: Preparing
e3d1de20bc7d: Preparing
8381142a2eb2: Preparing
7678a2257549: Preparing
199db0687ace: Preparing
e3d1de20bc7d: Waiting
981b7b269978: Waiting
8381142a2eb2: Waiting
20a25d077eda: Waiting
0a6d5c0670cf: Waiting
7678a2257549: Waiting
c54253642cd4: Waiting
428d50786cc3: Layer already exists
2395b6a8a790: Layer already exists
3edd81ed8cbc: Layer already exists
0a6d5c0670cf: Layer already exists
981b7b269978: Layer already exists
7a3931723446: Pushed
20a25d077eda: Pushed
ddcec12532cf: Pushed
7678a2257549: Layer already exists
199db0687ace: Layer already exists
c54253642cd4: Pushed
e3d1de20bc7d: Pushed
8381142a2eb2: Pushed
37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64: digest: sha256:cf924b2a2a6c0416c53c3085342e8b55e259daaaf0fe02ba711a3ded0a11a55f size: 3047
Pushing zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64 to manifest zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7
time="2018-09-06T08:05:00+02:00" level=warning msg="Couldn't find or access image reference \"zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-s390x\". Skipping image."
Digest: sha256:a9efa73c0c9d0c47e527f1d18643f4bfe809df2080b4833a4af9c29b1174c1c3 743
Not signing zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7
Build and push complete, not releasing, all done.
make: Leaving directory '/home/zededa-ci/src/zenbuild/pkg'
make: Entering directory '/home/zededa-ci/src/zenbuild/build-pkgs'
Building and pushing "zededa/build-pkgs_abuild:7ae4d9f9fa290963de466d5ed96d6c9318354824"
7ae4d9f9fa290963de466d5ed96d6c9318354824: Pulling from zededa/build-pkgs_abuild
Digest: sha256:49dbaeabe9f8824a80ead247ad6040ebefc3ab3f04130922d8a6fb17a424e0e7
Status: Image is up to date for zededa/build-pkgs_abuild:7ae4d9f9fa290963de466d5ed96d6c9318354824
Building and pushing "zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693"
a3362428c518fb4db1a136a961bd17e8a66fb693: Pulling from zededa/build-pkgs_uefi
Digest: sha256:3588940b3062300d028e57e3f2a6d6695557b8b43be8a494027da91aaaa5db19
Status: Image is up to date for zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693
make: Leaving directory '/home/zededa-ci/src/zenbuild/build-pkgs'
cd bios ; _() { C=`docker create $1 fake` ; docker export $C | tar -xf - $2 ; docker rm $C ; } ; _ zededa/build-pkgs_uefi:a3362428c518fb4db1a136a961bd17e8a66fb693-arm64 OVMF.fd
ac674dea6ac14611c29c273b339e84c2ac281021c01b168c4ce49acafcf88bc0
make -C build-tools all
make[1]: Entering directory '/home/zededa-ci/src/zenbuild/build-tools'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/home/zededa-ci/src/zenbuild/build-tools'
tee: /dev/tty: No such device or address
37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64: Pulling from zededa/zedctr
Digest: sha256:cf924b2a2a6c0416c53c3085342e8b55e259daaaf0fe02ba711a3ded0a11a55f
Status: Image is up to date for zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64
DOCKER_ARCH_TAG="arm64" ./parse-pkgs.sh images/installer.yml.in > images/installer.yml
# the following is a horrible hack that needs to go away ASAP
if [ "aarch64" != `uname -m` ] ; then \
           sed -e '/source:/s#rootfs.img#rootfs_aarch64.img#' \
               -e '/command:/s#/dev/sda#/dev/vda#' -i.orig images/installer.yml ;\
   echo "WARNING: We are assembling a aarch64 image on `uname -m`. Things may break." ;\
        fi
DOCKER_ARCH_TAG="arm64" ./parse-pkgs.sh images/rootfs.yml.in > images/rootfs.yml
# the following is a horrible hack that needs to go away ASAP
if [ "aarch64" != `uname -m` ] ; then \
           sed -e '/source:/s#rootfs.img#rootfs_aarch64.img#' \
               -e '/command:/s#/dev/sda#/dev/vda#' -i.orig images/rootfs.yml ;\
   echo "WARNING: We are assembling a aarch64 image on `uname -m`. Things may break." ;\
        fi
./makerootfs.sh images/rootfs.yml squash rootfs_aarch64.img
Extract kernel image: zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c-arm64
Add init containers:
Process init image: zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590-arm64
Process init image: zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d-arm64
Process init image: zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed-arm64
Process init image: zededa/gpt-tools:f0be39997551891e81c6edc38acc20f61077287b-arm64
Process init image: zededa/dom0-ztools:c6d8f2123c748379add5d3dbbac23e3630131760-arm64
Process init image: linuxkit/init:v0.5
Process init image: linuxkit/runc:v0.5
Process init image: linuxkit/containerd:v0.5
Process init image: linuxkit/getty:v0.5
Add onboot containers:
  Create OCI config for linuxkit/sysctl:v0.5
  Create OCI config for linuxkit/modprobe:v0.5
Add service containers:
  Create OCI config for linuxkit/openntpd:v0.5
  Create OCI config for zededa/wwan:5f68442251df0f2625fde14e947f11de2374b72d-arm64
  Create OCI config for zededa/wlan:cfd366430df0620df11b2af7f3d9d63d617a5903-arm64
  Create OCI config for zededa/zedctr:37df4dd4f4aaa43394f42dcee7cef6b45b6042c7-arm64
Add files:
  /containers/services/zededa-tools/lower/opt/zededa/bin/versioninfo
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[=-                                                          ]   300/14697   2%[==-                                                         ]   500/14697   3%[=========/                                                  ]  2300/14697  15%[====================/                                       ]  5100/14697  34%[============================================|               ] 11000/14697  74%[============================================-               ] 11200/14697  76%[=============================================|              ] 11400/14697  77%[==============================================-             ] 11700/14697  79%[===========================================================/] 14697/14697 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 165947.35 Kbytes (162.06 Mbytes)
	31.56% of uncompressed filesystem size (525814.97 Kbytes)
Inode table size 152713 bytes (149.13 Kbytes)
	26.35% of uncompressed inode table size (579465 bytes)
Directory table size 154814 bytes (151.19 Kbytes)
	44.81% of uncompressed directory table size (345476 bytes)
Number of duplicate files found 2462
Number of inodes 15386
Number of files 11526
Number of fragments 792
Number of symbolic links  2632
Number of device nodes 7
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 1221
Number of ids (unique uids + gids) 3
Number of uids 1
	root (0)
Number of gids 3
	root (0)
	shadow (42)
	tty (5)
./makeiso.sh images/installer.yml installer_aarch64.iso
Extract kernel image: zededa/kernel:e2919188af3f6da07e8bc651ecc45b5b3f0f523c-arm64
Add init containers:
Process init image: zededa/grub:35eb3c470422d1bced11f3457ea8ff432d9f0590-arm64
Process init image: zededa/device-trees:1bca882c64827de08bba9aa7713441b2b4d7ca8d-arm64
Process init image: zededa/xen:be954dc9ba840dcff92c7edc1823e7e19d12a8ed-arm64
Process init image: linuxkit/init:v0.5
Process init image: linuxkit/runc:v0.5
Process init image: linuxkit/getty:v0.5
Add onboot containers:
  Create OCI config for zededa/mkflash:d4131c74a9e283a1e4ee5f3aa80b47b538378411-arm64
Add files:
  /parts/config.img
  /parts/rootfs.img
time="2018-09-06T08:07:55+02:00" level=fatal msg="failed to add filesystem parts: open rootfs.img: no such file or directory"
xorriso 1.4.6 : RockRidge filesystem manipulator, libburnia project.

Drive current: -outdev 'stdio:linuxkit-efi.iso'
Media current: stdio file, overwriteable
Media status : is blank
Media summary: 0 sessions, 0 data blocks, 0 data,  869g free
Added to ISO image: directory '/'='/tmp/efi'
xorriso : UPDATE : 4596 files added in 1 seconds
xorriso : UPDATE : 4596 files added in 1 seconds
libisofs: NOTE : Cannot arrange content of data files in surely reproducible way
xorriso : UPDATE :  15.71% done
ISO image produced: 99927 sectors
Written to medium : 99927 sectors at LBA 0
Writing to 'stdio:linuxkit-efi.iso' completed successfully.

tar c rootfs_aarch64.img config.img | ./makeflash.sh -C 8192 fallback_aarch64.raw
1+0 records in
1+0 records out
1 byte copied, 0.000147993 s, 6.8 kB/s
+ IMGFILE=/output.img
+ NUMPARTS=9
+ mkdir -p /parts
+ [ -t 0 ]
+ cd /parts
+ bsdtar xzf -
+ ESP_FILE=/tmp/efifs.img
+ echo /parts/rootfs_aarch64.img
+ cut -f1 -d 
+ IMGA_FILE=/parts/rootfs_aarch64.img
+ CONF_FILE=/parts/config.img
+ mount -o loop /parts/rootfs_aarch64.img /mnt
mount: mounting /dev/loop0 on /mnt failed: Invalid argument
Makefile:152: recipe for target 'fallback_aarch64.raw' failed
make: *** [fallback_aarch64.raw] Error 111
make: Entering directory '/home/zededa-ci/src/zenbuild/build-pkgs'
Building and pushing "zededa/zenix:latest"
Sending build context to Docker daemon  517.3MB
Step 1/9 : FROM alpine:edge
 ---> 698b28d4f8d1
Step 2/9 : RUN apk add --no-cache qemu-system-x86_64 qemu-system-aarch64 bash make git
 ---> Using cache
 ---> 5b21459beb8b
Step 3/9 : COPY . /bits/
 ---> Using cache
 ---> c5f345eda82a
Step 4/9 : COPY OVMF.fd /bits/bios/OVMF.fd
 ---> Using cache
 ---> e342e4ec1c5c
Step 5/9 : COPY runme.sh /
 ---> Using cache
 ---> c300c2ff8dc7
Step 6/9 : RUN touch /bits/bios/OVMF.fd
 ---> Using cache
 ---> 85b9a3f966f3
Step 7/9 : WORKDIR /bits
 ---> Using cache
 ---> b59a8adaf13d
Step 8/9 : ENTRYPOINT /runme.sh
 ---> Using cache
 ---> a2c4b6771d85
Step 9/9 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'f66778766348e2107deb1c053c16db6efa63f94a' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Using cache
 ---> ad9b0d361fa3
Successfully built ad9b0d361fa3
Successfully tagged zededa/zenix:latest-arm64
Pushing zededa/zenix:latest-arm64
The push refers to a repository [docker.io/zededa/zenix]
96feea203423: Preparing
c96588d795bb: Preparing
5ef670ff3c99: Preparing
841a93c06d96: Preparing
18d6c5bbfc56: Preparing
7f4507898901: Preparing
2a2e682c36db: Preparing
7f4507898901: Waiting
96feea203423: Layer already exists
18d6c5bbfc56: Layer already exists
c96588d795bb: Layer already exists
841a93c06d96: Layer already exists
5ef670ff3c99: Layer already exists
7f4507898901: Layer already exists
2a2e682c36db: Layer already exists
latest-arm64: digest: sha256:ab867c5f7ee23a70b47f931254520f208ade039e6e2a18c6f96b1a6f88dbd892 size: 1787
Pushing zededa/zenix:latest-arm64 to manifest zededa/zenix:latest
time="2018-09-06T08:08:53+02:00" level=warning msg="Couldn't find or access image reference \"zededa/zenix:latest-s390x\". Skipping image."
Digest: sha256:5b8260b82d0f749a68f6e8936c621d53207f467601a69aa16c7ecdca29f68328 743
Not signing zededa/zenix:latest
Build and push complete, not releasing, all done.
make: Leaving directory '/home/zededa-ci/src/zenbuild/build-pkgs'
FINISHED
