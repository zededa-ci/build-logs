From https://github.com/lf-edge/eve
   7e15838c..6bd27a6c  master     -> origin/master
 * [new tag]           3.1.1      -> 3.1.1
 * [new tag]           3.2.0      -> 3.2.0
 * [new tag]           3.3.0      -> 3.3.0
 * [new tag]           3.3.1      -> 3.3.1
 * [new tag]           3.3.2      -> 3.3.2
 * [new tag]           3.4.0      -> 3.4.0
 * [new tag]           3.4.1      -> 3.4.1
 * [new tag]           3.4.10     -> 3.4.10
 * [new tag]           3.4.2      -> 3.4.2
 * [new tag]           3.5.0      -> 3.5.0
 * [new tag]           3.6.0      -> 3.6.0
 * [new tag]           3.7.0      -> 3.7.0
Building the following tags: 3.6.0
3.7.0 origin/master (latest tag is 3.7.0)
Removing .go/
Removing build-tools/bin/linuxkit
Removing build-tools/bin/manifest-tool
Removing dist/
Removing images/installer.yml
Removing images/rootfs.yml
HEAD is now at c3dc7395 Setting default server to prod
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
Building and pushing "lfedge/eve-debug:3.6.0"
3.6.0: Pulling from lfedge/eve-debug
Digest: sha256:01f8c7fedb206e8e901ccf97b1348ac4e078817a2f24d23cf5a25bee21372b1f
Status: Image is up to date for lfedge/eve-debug:3.6.0
Building and pushing "lfedge/eve-device-trees:3.6.0"
3.6.0: Pulling from lfedge/eve-device-trees
Digest: sha256:b5567ee1bb0ef281c3fbe8d836b98e509be3737b074fbd663b97f2fcd7f2f39d
Status: Image is up to date for lfedge/eve-device-trees:3.6.0
Building and pushing "lfedge/eve-dnsmasq:3.6.0"
3.6.0: Pulling from lfedge/eve-dnsmasq
Digest: sha256:35a2ffca2e5388fb82789c51d8743d253073345230b4411be1e9f9710e14525c
Status: Image is up to date for lfedge/eve-dnsmasq:3.6.0
Building and pushing "lfedge/eve-dom0-ztools:3.6.0"
3.6.0: Pulling from lfedge/eve-dom0-ztools
Digest: sha256:5e354b90ce8704035cb5f45784b49892e3256cc4be445229a6a9a899469f30d4
Status: Image is up to date for lfedge/eve-dom0-ztools:3.6.0
Building and pushing "lfedge/eve-fscrypt:3.6.0"
3.6.0: Pulling from lfedge/eve-fscrypt
Digest: sha256:2ec4ee55f883cac8bff26f14d09419823f18a80de22191c317c3d93a32812782
Status: Image is up to date for lfedge/eve-fscrypt:3.6.0
Building and pushing "lfedge/eve-fw:3.6.0"
3.6.0: Pulling from lfedge/eve-fw
Digest: sha256:978ca2df41a2bcb592b88b5f7c3d010a3dcdf0b4360572e36bb5c7b727be8f3c
Status: Image is up to date for lfedge/eve-fw:3.6.0
Building and pushing "lfedge/eve-gpt-tools:3.6.0"
3.6.0: Pulling from lfedge/eve-gpt-tools
Digest: sha256:d0068aa2a5ee5241e397a64062e963242eb622187f2f545631e636f78bd86c4f
Status: Image is up to date for lfedge/eve-gpt-tools:3.6.0
Building and pushing "lfedge/eve-grub:3.6.0"
3.6.0: Pulling from lfedge/eve-grub
Digest: sha256:2fa87b18adf3736e6752ad3d195634db6c3bd69f1d9a09da137632c0bd09ad42
Status: Image is up to date for lfedge/eve-grub:3.6.0
Building and pushing "lfedge/eve-guacd:3.6.0"
3.6.0: Pulling from lfedge/eve-guacd
Digest: sha256:b6adea5754e661e35a98882b59f988197f99a93766eeb7dd7a531cdb26c5bb43
Status: Image is up to date for lfedge/eve-guacd:3.6.0
Building and pushing "lfedge/eve-kernel:3.6.0"
3.6.0: Pulling from lfedge/eve-kernel
no matching manifest for linux/arm64 in the manifest list entries
No image pulled, continuing with build
Sending build context to Docker daemon    1.2MB
Step 1/30 : FROM alpine:3.6 as kernel-build
 ---> 25e814211fdd
Step 2/30 : RUN apk update
 ---> Using cache
 ---> 8b9e227983d4
Step 3/30 : RUN apk add     argp-standalone     automake     bash     bc     binutils-dev     bison     build-base     curl     diffutils     flex     git     gmp-dev     gnupg     installkernel     kmod     libelf-dev     libressl-dev     linux-headers     ncurses-dev     python2     findutils     sed     squashfs-tools     tar     xz     xz-dev     zlib-dev
 ---> Using cache
 ---> 6265cc45b4c1
Step 4/30 : RUN [ $(uname -m) == x86_64 ] && apk add libunwind-dev || true
 ---> Using cache
 ---> 545277aacdb2
Step 5/30 : ENV KERNEL_VERSION_aarch64 4.19.5
 ---> Using cache
 ---> 9bf3df7f2e75
Step 6/30 : ENV KERNEL_SERIES_aarch64 4.19.x
 ---> Using cache
 ---> f9b289f992e3
Step 7/30 : ENV KERNEL_VERSION_x86_64 4.19.5
 ---> Using cache
 ---> 5a14e9191151
Step 8/30 : ENV KERNEL_SERIES_x86_64 4.19.x
 ---> Using cache
 ---> 39a87e0886f5
Step 9/30 : ENV KERNEL_SOURCE https://www.kernel.org/pub/linux/kernel/v4.x/linux-\${KERNEL_VERSION}.tar.xz
 ---> Using cache
 ---> ca526d03d631
Step 10/30 : ENV KERNEL_SHA256_SUMS https://www.kernel.org/pub/linux/kernel/v4.x/sha256sums.asc
 ---> Using cache
 ---> 84bbaae5e6c3
Step 11/30 : ENV KERNEL_PGP2_SIGN https://www.kernel.org/pub/linux/kernel/v4.x/linux-\${KERNEL_VERSION}.tar.sign
 ---> Using cache
 ---> d6fbb1ba8c40
Step 12/30 : SHELL /bin/sh -c export KERNEL_VERSION=$(eval echo \$KERNEL_VERSION_$(uname -m)) ; export KERNEL_SERIES=$(eval echo \$KERNEL_SERIES_$(uname -m)) ; eval KERNEL_SOURCE=$KERNEL_SOURCE ; eval export KERNEL_PGP2_SIGN=$KERNEL_PGP2_SIGN ; /bin/sh -c "$1" -
 ---> Using cache
 ---> 01aab00f1bd7
Step 13/30 : COPY / /
 ---> Using cache
 ---> 584c534c30a6
Step 14/30 : RUN curl -fsSLO ${KERNEL_SHA256_SUMS} &&     gpg2 -q --import keys.asc &&     gpg2 --verify sha256sums.asc &&     KERNEL_SHA256=$(grep linux-${KERNEL_VERSION}.tar.xz sha256sums.asc | cut -d ' ' -f 1) &&     [ -f linux-${KERNEL_VERSION}.tar.xz ] || curl -fsSLO ${KERNEL_SOURCE} &&     echo "${KERNEL_SHA256}  linux-${KERNEL_VERSION}.tar.xz" | sha256sum -c - &&     xz -d linux-${KERNEL_VERSION}.tar.xz &&     curl -fsSLO ${KERNEL_PGP2_SIGN} &&     gpg2 --verify linux-${KERNEL_VERSION}.tar.sign linux-${KERNEL_VERSION}.tar &&     cat linux-${KERNEL_VERSION}.tar | tar --absolute-names -x && mv /linux-${KERNEL_VERSION} /linux
 ---> Using cache
 ---> 79b5c47e5352
Step 15/30 : WORKDIR /linux
 ---> Using cache
 ---> 0413c6dd5de5
Step 16/30 : RUN set -e ; [ ! -d /patches-"${KERNEL_SERIES}" ] || for patch in /patches-"${KERNEL_SERIES}"/*.patch; do         echo "Applying $patch";         patch -p1 < "$patch";     done
 ---> Using cache
 ---> 6b683050590e
Step 17/30 : RUN mkdir /out
 ---> Using cache
 ---> 59339aa56051
Step 18/30 : RUN case $(uname -m) in     x86_64)         KERNEL_DEF_CONF=/linux/arch/x86/configs/x86_64_defconfig;         ;;     aarch64)         KERNEL_DEF_CONF=/linux/arch/arm64/configs/defconfig;         ;;     esac  &&     cp /kernel_config-${KERNEL_SERIES}-$(uname -m) ${KERNEL_DEF_CONF};     if [ -n "${EXTRA}" ]; then         sed -i "s/CONFIG_LOCALVERSION=\"-linuxkit\"/CONFIG_LOCALVERSION=\"-linuxkit${EXTRA}\"/" ${KERNEL_DEF_CONF};         if [ "${EXTRA}" = "-dbg" ]; then             sed -i 's/CONFIG_PANIC_ON_OOPS=y/# CONFIG_PANIC_ON_OOPS is not set/' ${KERNEL_DEF_CONF};         fi &&         cat /kernel_config${EXTRA} >> ${KERNEL_DEF_CONF};     fi &&     make defconfig &&     make oldconfig &&     if [ -z "${EXTRA}" ]; then diff .config ${KERNEL_DEF_CONF}; fi
 ---> Running in 3a5fd37536b5
  HOSTCC  scripts/basic/fixdep
  HOSTCC  scripts/kconfig/conf.o
  YACC    scripts/kconfig/zconf.tab.c
  LEX     scripts/kconfig/zconf.lex.c
  HOSTCC  scripts/kconfig/zconf.tab.o
  HOSTLD  scripts/kconfig/conf
*** Default configuration is based on 'defconfig'
#
# configuration written to .config
#
scripts/kconfig/conf  --oldconfig Kconfig
#
# configuration written to .config
#
5100c5100
< CONFIG_FS_ENCRYPTION=y
---
> # CONFIG_FS_ENCRYPTION is not set
5363c5363
< CONFIG_CRYPTO_SEQIV=y
---
> CONFIG_CRYPTO_SEQIV=m
5369c5369
< CONFIG_CRYPTO_CBC=y
---
> CONFIG_CRYPTO_CBC=m
5371,5373c5371,5373
< CONFIG_CRYPTO_CTR=y
< CONFIG_CRYPTO_CTS=y
< CONFIG_CRYPTO_ECB=y
---
> CONFIG_CRYPTO_CTR=m
> # CONFIG_CRYPTO_CTS is not set
> CONFIG_CRYPTO_ECB=m
5376c5376
< CONFIG_CRYPTO_XTS=y
---
> # CONFIG_CRYPTO_XTS is not set
The command '/bin/sh -c export KERNEL_VERSION=$(eval echo \$KERNEL_VERSION_$(uname -m)) ; export KERNEL_SERIES=$(eval echo \$KERNEL_SERIES_$(uname -m)) ; eval KERNEL_SOURCE=$KERNEL_SOURCE ; eval export KERNEL_PGP2_SIGN=$KERNEL_PGP2_SIGN ; /bin/sh -c "$1" - case $(uname -m) in     x86_64)         KERNEL_DEF_CONF=/linux/arch/x86/configs/x86_64_defconfig;         ;;     aarch64)         KERNEL_DEF_CONF=/linux/arch/arm64/configs/defconfig;         ;;     esac  &&     cp /kernel_config-${KERNEL_SERIES}-$(uname -m) ${KERNEL_DEF_CONF};     if [ -n "${EXTRA}" ]; then         sed -i "s/CONFIG_LOCALVERSION=\"-linuxkit\"/CONFIG_LOCALVERSION=\"-linuxkit${EXTRA}\"/" ${KERNEL_DEF_CONF};         if [ "${EXTRA}" = "-dbg" ]; then             sed -i 's/CONFIG_PANIC_ON_OOPS=y/# CONFIG_PANIC_ON_OOPS is not set/' ${KERNEL_DEF_CONF};         fi &&         cat /kernel_config${EXTRA} >> ${KERNEL_DEF_CONF};     fi &&     make defconfig &&     make oldconfig &&     if [ -z "${EXTRA}" ]; then diff .config ${KERNEL_DEF_CONF}; fi' returned a non-zero code: 1
exit status 1
Makefile:280: recipe for target 'eve-kernel' failed
make: *** [eve-kernel] Error 1
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
mkdir -p /home/zededa-ci/src/eve/dist/arm64/bios
cd /home/zededa-ci/src/eve/dist/arm64/bios ; _() { C=`docker create $1 fake` ; docker export $C | tar -xf - $2 ; docker rm $C ; } ; _ lfedge/eve-uefi:aef36d9c29fd16f9bae72a74d887568f0ef138f0-arm64 OVMF.fd
5bdb356e2770c449a28c4d8f55eb786ef8d8618cc11d65970a7c155ef88a26d9
mkdir -p /home/zededa-ci/src/eve/dist/arm64
./tools/makeconfig.sh conf /home/zededa-ci/src/eve/dist/arm64/config.img
+ CONFIG_FILE=/config.img
+ CONFIG_SIZE_KB=1024
+ cd /conf
+ tar xf -
+ echo mtools_skip_check=1
+ dd if=/dev/zero of=/config.img bs=1024 count=1024
1024+0 records in
1024+0 records out
+ mkfs.vfat -n EVE -v /config.img 1024
mkfs.fat 4.1 (2017-01-24)
/config.img has 64 heads and 32 sectors per track,
hidden sectors 0x0000;
logical sector size is 512,
using 0xf8 media descriptor, with 2048 sectors;
drive number 0x80;
filesystem has 2 12-bit FATs and 4 sectors per cluster.
FAT size is 2 sectors, and provides 502 clusters.
There is 1 reserved sector.
Root directory contains 512 slots and uses 32 sectors.
Volume ID is 33698bc8, volume label EVE        .
+ mcopy -i /config.img -s /conf/authorized_keys /conf/onboard.cert.pem /conf/onboard.key.pem /conf/root-certificate.pem /conf/server /conf/wpa_supplicant.conf ::/
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
./tools/makerootfs.sh images/rootfs.yml squash /home/zededa-ci/src/eve/dist/arm64/rootfs.img
Extract kernel image: lfedge/eve-kernel:3.6.0-arm64
Pull image: lfedge/eve-kernel:3.6.0-arm64
time="2019-09-04T08:01:31+02:00" level=fatal msg="Failed to extract kernel image and tarball: Could not pull image lfedge/eve-kernel:3.6.0-arm64: Error response from daemon: manifest for lfedge/eve-kernel:3.6.0-arm64 not found"
cat: boot/cmdline: No such file or directory
Makefile:176: recipe for target '/home/zededa-ci/src/eve/dist/arm64/rootfs.img' failed
make: *** [/home/zededa-ci/src/eve/dist/arm64/rootfs.img] Error 1
Removing .go/
Removing build-tools/bin/linuxkit
Removing build-tools/bin/manifest-tool
Removing dist/
Removing images/installer.yml
Removing images/rootfs.yml
HEAD is now at fdd45e2f Setting default server to prod
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
Building and pushing "lfedge/eve-debug:3.7.0"
3.7.0: Pulling from lfedge/eve-debug
Digest: sha256:2dcffa1fca16a0c368583eac5795029e8d1fe27d885a24ed1a211a8469ad4658
Status: Image is up to date for lfedge/eve-debug:3.7.0
Building and pushing "lfedge/eve-device-trees:3.7.0"
3.7.0: Pulling from lfedge/eve-device-trees
Digest: sha256:7749a80857c2199623411a16a31c1f165d954394e8a928d8985170100625fbf3
Status: Image is up to date for lfedge/eve-device-trees:3.7.0
Building and pushing "lfedge/eve-dnsmasq:3.7.0"
3.7.0: Pulling from lfedge/eve-dnsmasq
Digest: sha256:dc0c3ecc110a0e53c7e15fdcb9eaa71bfe36c520a90577be67422c4abe2e2a9b
Status: Image is up to date for lfedge/eve-dnsmasq:3.7.0
Building and pushing "lfedge/eve-dom0-ztools:3.7.0"
3.7.0: Pulling from lfedge/eve-dom0-ztools
Digest: sha256:1206522f9e731a360a095df795ad018de1169d655d02e66d740580c1d425d6e6
Status: Image is up to date for lfedge/eve-dom0-ztools:3.7.0
Building and pushing "lfedge/eve-fscrypt:3.7.0"
3.7.0: Pulling from lfedge/eve-fscrypt
Digest: sha256:3cc02bd95d8f26b798ba008cd81557174779f63b562706c2932e559e19736065
Status: Image is up to date for lfedge/eve-fscrypt:3.7.0
Building and pushing "lfedge/eve-fw:3.7.0"
3.7.0: Pulling from lfedge/eve-fw
Digest: sha256:83b2abf821de7a1876142cec0706ff9a141e66cfe612b35fe138a50b7d948857
Status: Image is up to date for lfedge/eve-fw:3.7.0
Building and pushing "lfedge/eve-gpt-tools:3.7.0"
3.7.0: Pulling from lfedge/eve-gpt-tools
Digest: sha256:b45800c1408ae64ce975b9969ccd0bbc67ad5d789e1fbb582dfb70f562411f36
Status: Image is up to date for lfedge/eve-gpt-tools:3.7.0
Building and pushing "lfedge/eve-grub:3.7.0"
3.7.0: Pulling from lfedge/eve-grub
Digest: sha256:7b6448a08b77a3070b72a92e58f104bc6c65da5680e14f5862b2381bddab458e
Status: Image is up to date for lfedge/eve-grub:3.7.0
Building and pushing "lfedge/eve-guacd:3.7.0"
3.7.0: Pulling from lfedge/eve-guacd
Digest: sha256:366a126e9dbed262e75995817e4c249958145894c9ef62ae396b74d66ba1d1c9
Status: Image is up to date for lfedge/eve-guacd:3.7.0
Building and pushing "lfedge/eve-kernel:3.7.0"
3.7.0: Pulling from lfedge/eve-kernel
Digest: sha256:d4f4448927ebf2a518a685b7ddbbe950ecf36c75efad415144ceaae78a441c8a
Status: Image is up to date for lfedge/eve-kernel:3.7.0
Building and pushing "lfedge/eve-lisp:3.7.0"
3.7.0: Pulling from lfedge/eve-lisp
Digest: sha256:9558c6ec74ed8c3ee18af0e69ea9bd058b58bf3fbcccfdbf065c2dbb71631c6a
Status: Image is up to date for lfedge/eve-lisp:3.7.0
Building and pushing "lfedge/eve-mkconf:3.7.0"
3.7.0: Pulling from lfedge/eve-mkconf
Digest: sha256:48cb6f40884f34e7cedcfb5bcc1f2901dd6454779c81fdbc7bc6b71988bdbda7
Status: Image is up to date for lfedge/eve-mkconf:3.7.0
Building and pushing "lfedge/eve-mkimage-iso-efi:3.7.0"
3.7.0: Pulling from lfedge/eve-mkimage-iso-efi
Digest: sha256:395e934fc05d3de2e9e135f1f18c6e109731615dd830e84bc7fa1931012cdbc5
Status: Image is up to date for lfedge/eve-mkimage-iso-efi:3.7.0
Building and pushing "lfedge/eve-mkimage-raw-efi:3.7.0"
3.7.0: Pulling from lfedge/eve-mkimage-raw-efi
Digest: sha256:09274947f5ec6a098d113b8c6e212842673543dc12d395b3af4e186ea4d15aa8
Status: Image is up to date for lfedge/eve-mkimage-raw-efi:3.7.0
Building and pushing "lfedge/eve-mkrootfs-ext4:3.7.0"
3.7.0: Pulling from lfedge/eve-mkrootfs-ext4
Digest: sha256:cbf4337eca4b74a335746cdf9e117192daa969a14cdee50c41534a8ee95b1862
Status: Image is up to date for lfedge/eve-mkrootfs-ext4:3.7.0
Building and pushing "lfedge/eve-mkrootfs-squash:3.7.0"
3.7.0: Pulling from lfedge/eve-mkrootfs-squash
Digest: sha256:e1c8954112ea19d161b7a7d8714edae154d8d9e5ed1f9dd5aaf219710e2e3aef
Status: Image is up to date for lfedge/eve-mkrootfs-squash:3.7.0
Building and pushing "lfedge/eve-xen-tools:3.7.0"
3.7.0: Pulling from lfedge/eve-xen-tools
Digest: sha256:0b4195497eb881547ccabbba3089be1cbac99fa557a70459e8aff0df42518787
Status: Image is up to date for lfedge/eve-xen-tools:3.7.0
Building and pushing "lfedge/eve-strongswan:3.7.0"
3.7.0: Pulling from lfedge/eve-strongswan
Digest: sha256:1d0c0f9ec3b932222e42eccea66666b5131940606f34310d3dfac0ec2e2df750
Status: Image is up to date for lfedge/eve-strongswan:3.7.0
Building and pushing "lfedge/eve-watchdog:3.7.0"
3.7.0: Pulling from lfedge/eve-watchdog
Digest: sha256:c80c2aecc4e0dedf2f82d12e1f99dd1fd8f1f8f8539bed95520ac9e0bab1d05d
Status: Image is up to date for lfedge/eve-watchdog:3.7.0
Building and pushing "lfedge/eve-rkt:3.7.0"
3.7.0: Pulling from lfedge/eve-rkt
Digest: sha256:3a7f8e4afdfdf1defc2fbf471aac248f679cdcc16a5146202d83effeb1a12fe8
Status: Image is up to date for lfedge/eve-rkt:3.7.0
Building and pushing "lfedge/eve-rkt-stage1:3.7.0"
3.7.0: Pulling from lfedge/eve-rkt-stage1
Digest: sha256:2a925474e97c2a076d8c1a12a393bda2adf2f29dc9f63afc261e6d7f9535766f
Status: Image is up to date for lfedge/eve-rkt-stage1:3.7.0
Building and pushing "lfedge/eve-pillar:3.7.0"
3.7.0: Pulling from lfedge/eve-pillar
Digest: sha256:f48a87000def9362a842b4566a7720d2c6117546128c78f4559f64cf2b78a807
Status: Image is up to date for lfedge/eve-pillar:3.7.0
Building and pushing "lfedge/eve-qrexec-lib:3.7.0"
3.7.0: Pulling from lfedge/eve-qrexec-lib
Digest: sha256:a7609c0440d21b843d3dc2c01e83c882e9ce17616234d75cc78b384a1097be14
Status: Image is up to date for lfedge/eve-qrexec-lib:3.7.0
Building and pushing "lfedge/eve-qrexec-dom0:3.7.0"
3.7.0: Pulling from lfedge/eve-qrexec-dom0
Digest: sha256:1b65f6f4c5e734f3c8c1b2ab5da51b17863c62f4599fb92875e8173693f1ffab
Status: Image is up to date for lfedge/eve-qrexec-dom0:3.7.0
Building and pushing "lfedge/eve-rngd:3.7.0"
3.7.0: Pulling from lfedge/eve-rngd
Digest: sha256:9e41ec3c6b29d181d884dd54d60e4fc0c35a1b04f3ae37f195034fbcaaa108cc
Status: Image is up to date for lfedge/eve-rngd:3.7.0
Building and pushing "lfedge/eve-uefi:3.7.0"
3.7.0: Pulling from lfedge/eve-uefi
Digest: sha256:d217d66faf782d8bcd9d9dd9f11850052e1b9c5c28e4e6a49900efeddb29e75f
Status: Image is up to date for lfedge/eve-uefi:3.7.0
Building and pushing "lfedge/eve-wlan:3.7.0"
3.7.0: Pulling from lfedge/eve-wlan
Digest: sha256:0f5ea8f5211ec3418374622bc83c80d2ccc9ef5725181c2827fd4f33f7a3ee41
Status: Image is up to date for lfedge/eve-wlan:3.7.0
Building and pushing "lfedge/eve-wwan:3.7.0"
3.7.0: Pulling from lfedge/eve-wwan
Digest: sha256:dd437e32a970e2c1fdc57fec3c25fc5da516182be682458f786e9c0ca9314785
Status: Image is up to date for lfedge/eve-wwan:3.7.0
Building and pushing "lfedge/eve-xen:3.7.0"
3.7.0: Pulling from lfedge/eve-xen
Digest: sha256:57700dcf61862f439c0517f6a44cbdc37be871b8fd58e0a35d86d8eb80406bea
Status: Image is up to date for lfedge/eve-xen:3.7.0
Done building packages
rm pkg/qrexec-dom0/Dockerfile pkg/qrexec-lib/Dockerfile pkg/pillar/Dockerfile
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
mkdir -p /home/zededa-ci/src/eve/dist/arm64/bios
cd /home/zededa-ci/src/eve/dist/arm64/bios ; _() { C=`docker create $1 fake` ; docker export $C | tar -xf - $2 ; docker rm $C ; } ; _ lfedge/eve-uefi:aef36d9c29fd16f9bae72a74d887568f0ef138f0-arm64 OVMF.fd
c2e574dfdbd63cf9c6f71a4883836f99cdf389f6283f5a7b124196afee747b2a
mkdir -p /home/zededa-ci/src/eve/dist/arm64
./tools/makeconfig.sh conf /home/zededa-ci/src/eve/dist/arm64/config.img
+ CONFIG_FILE=/config.img
+ CONFIG_SIZE_KB=1024
+ cd /conf
+ tar xf -
+ echo mtools_skip_check=1
+ dd if=/dev/zero of=/config.img bs=1024 count=1024
1024+0 records in
1024+0 records out
+ mkfs.vfat -n EVE -v /config.img 1024
mkfs.fat 4.1 (2017-01-24)
/config.img has 64 heads and 32 sectors per track,
hidden sectors 0x0000;
logical sector size is 512,
using 0xf8 media descriptor, with 2048 sectors;
drive number 0x80;
filesystem has 2 12-bit FATs and 4 sectors per cluster.
FAT size is 2 sectors, and provides 502 clusters.
There is 1 reserved sector.
Root directory contains 512 slots and uses 32 sectors.
Volume ID is 3a1e0152, volume label EVE        .
+ mcopy -i /config.img -s /conf/authorized_keys /conf/onboard.cert.pem /conf/onboard.key.pem /conf/root-certificate.pem /conf/server /conf/wpa_supplicant.conf ::/
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
./tools/makerootfs.sh images/rootfs.yml squash /home/zededa-ci/src/eve/dist/arm64/rootfs.img
Extract kernel image: lfedge/eve-kernel:3.7.0-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
Process init image: linuxkit/runc:v0.5-arm64
Process init image: linuxkit/containerd:v0.5-arm64
Process init image: linuxkit/getty:v0.5-arm64
Process init image: lfedge/eve-grub:3.7.0-arm64
Process init image: lfedge/eve-device-trees:3.7.0-arm64
Process init image: lfedge/eve-fw:3.7.0-arm64
Process init image: lfedge/eve-xen:3.7.0-arm64
Process init image: lfedge/eve-gpt-tools:3.7.0-arm64
Process init image: lfedge/eve-dom0-ztools:3.7.0-arm64
Add onboot containers:
  Create OCI config for linuxkit/sysctl:v0.5-arm64
  Create OCI config for linuxkit/modprobe:v0.5-arm64
  Create OCI config for linuxkit/mount:v0.5-arm64
  Create OCI config for lfedge/eve-rngd:3.7.0-arm64
Add service containers:
  Create OCI config for linuxkit/openntpd:v0.5-arm64
  Create OCI config for linuxkit/sshd:v0.5-arm64
  Create OCI config for lfedge/eve-wwan:3.7.0-arm64
  Create OCI config for lfedge/eve-wlan:3.7.0-arm64
  Create OCI config for lfedge/eve-guacd:3.7.0-arm64
  Create OCI config for lfedge/eve-pillar:3.7.0-arm64
Add files:
  /etc/eve-release
  /containers/services/pillar/lower/opt/zededa/bin/versioninfo
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[|                                                           ]     0/19645   0%[============/                                               ]  4200/19645  21%[==================================================|         ] 16700/19645  85%[==================================================|         ] 16900/19645  86%[===========================================================\] 19645/19645 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 235982.97 Kbytes (230.45 Mbytes)
	34.54% of uncompressed filesystem size (683216.58 Kbytes)
Inode table size 211508 bytes (206.55 Kbytes)
	25.68% of uncompressed inode table size (823676 bytes)
Directory table size 222837 bytes (217.61 Kbytes)
	45.16% of uncompressed directory table size (493437 bytes)
Number of duplicate files found 6483
Number of inodes 21232
Number of files 15391
Number of fragments 685
Number of symbolic links  4089
Number of device nodes 5
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 1747
Number of ids (unique uids + gids) 3
Number of uids 1
	root (0)
Number of gids 3
	root (0)
	shadow (42)
	tty (5)
./tools/makeiso.sh images/installer.yml /home/zededa-ci/src/eve/dist/arm64/installer.iso
Extract kernel image: lfedge/eve-kernel:3.7.0-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
Process init image: linuxkit/runc:v0.5-arm64
Process init image: linuxkit/getty:v0.5-arm64
Process init image: lfedge/eve-grub:3.7.0-arm64
Process init image: lfedge/eve-device-trees:3.7.0-arm64
Process init image: lfedge/eve-xen:3.7.0-arm64
Process init image: lfedge/eve-dom0-ztools:3.7.0-arm64
Add onboot containers:
  Create OCI config for lfedge/eve-rngd:3.7.0-arm64
  Create OCI config for lfedge/eve-mkimage-raw-efi:3.7.0-arm64
Add files:
  /bits/config.img
  /bits/rootfs.img
  /etc/eve-release
xorriso 1.4.6 : RockRidge filesystem manipulator, libburnia project.

Drive current: -outdev 'stdio:linuxkit-efi.iso'
Media current: stdio file, overwriteable
Media status : is blank
Media summary: 0 sessions, 0 data blocks, 0 data,  759g free
Added to ISO image: directory '/'='/tmp/efi'
xorriso : UPDATE : 7732 files added in 1 seconds
xorriso : UPDATE : 7732 files added in 1 seconds
libisofs: NOTE : Cannot arrange content of data files in surely reproducible way
xorriso : UPDATE :  4.56% done
xorriso : UPDATE :  84.16% done
ISO image produced: 259366 sectors
Written to medium : 259366 sectors at LBA 0
Writing to 'stdio:linuxkit-efi.iso' completed successfully.

./tools/makerootfs.sh images/installer.yml squash /home/zededa-ci/src/eve/dist/arm64/rootfs.img_installer.img
Extract kernel image: lfedge/eve-kernel:3.7.0-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
Process init image: linuxkit/runc:v0.5-arm64
Process init image: linuxkit/getty:v0.5-arm64
Process init image: lfedge/eve-grub:3.7.0-arm64
Process init image: lfedge/eve-device-trees:3.7.0-arm64
Process init image: lfedge/eve-xen:3.7.0-arm64
Process init image: lfedge/eve-dom0-ztools:3.7.0-arm64
Add onboot containers:
  Create OCI config for lfedge/eve-rngd:3.7.0-arm64
  Create OCI config for lfedge/eve-mkimage-raw-efi:3.7.0-arm64
Add files:
  /bits/config.img
  /bits/rootfs.img
  /etc/eve-release
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[=================================/                            ] 4400/8072  54%[===================================\                          ] 4700/8072  58%[=============================================================/] 8072/8072 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 328415.65 Kbytes (320.72 Mbytes)
	64.22% of uncompressed filesystem size (511364.23 Kbytes)
Inode table size 66625 bytes (65.06 Kbytes)
	26.86% of uncompressed inode table size (248062 bytes)
Directory table size 66346 bytes (64.79 Kbytes)
	45.42% of uncompressed directory table size (146070 bytes)
Number of duplicate files found 1440
Number of inodes 5690
Number of files 4388
Number of fragments 153
Number of symbolic links  916
Number of device nodes 1
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 385
Number of ids (unique uids + gids) 3
Number of uids 1
	root (0)
Number of gids 3
	root (0)
	shadow (42)
	tty (5)
ERROR: size of /home/zededa-ci/src/eve/dist/arm64/rootfs.img_installer.img is greater than 300MB (bigger than allocated partition)
Makefile:192: recipe for target '/home/zededa-ci/src/eve/dist/arm64/rootfs.img_installer.img' failed
make: *** [/home/zededa-ci/src/eve/dist/arm64/rootfs.img_installer.img] Error 1
Removing .go/
Removing build-tools/bin/linuxkit
Removing build-tools/bin/manifest-tool
Removing dist/
Removing images/installer.yml
Removing images/rootfs.yml
HEAD is now at 6bd27a6c report assignedAdapters for network instance status
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
Building and pushing "lfedge/eve-debug:7470486834865217ccd1f589f44fba48a9647081"
7470486834865217ccd1f589f44fba48a9647081: Pulling from lfedge/eve-debug
Digest: sha256:bc7c7b8808877a4460ec6549365bddba3f3316e23beb69b1154b96206cf1c463
Status: Image is up to date for lfedge/eve-debug:7470486834865217ccd1f589f44fba48a9647081
Building and pushing "lfedge/eve-device-trees:107f663ced4eda54228dc95b17f3c5ed636caf36"
107f663ced4eda54228dc95b17f3c5ed636caf36: Pulling from lfedge/eve-device-trees
Digest: sha256:b357525ec26ad2fca6304fa24e14434d464803df7d8719c4b7f1b6e493767db5
Status: Image is up to date for lfedge/eve-device-trees:107f663ced4eda54228dc95b17f3c5ed636caf36
Building and pushing "lfedge/eve-dnsmasq:cdb36dc56fb50bbd2b28123e435b3660adf34efb"
cdb36dc56fb50bbd2b28123e435b3660adf34efb: Pulling from lfedge/eve-dnsmasq
Digest: sha256:b55dd556251ba5ae5308bba68357e778cf80ef66292daab53d3f509f7c7ff22b
Status: Image is up to date for lfedge/eve-dnsmasq:cdb36dc56fb50bbd2b28123e435b3660adf34efb
Building and pushing "lfedge/eve-dom0-ztools:f6e8d3bb095edb1065ee0262d1643dae7ce43c6e"
f6e8d3bb095edb1065ee0262d1643dae7ce43c6e: Pulling from lfedge/eve-dom0-ztools
Digest: sha256:ff73cd2f1c4eac61b60a28da24d1bf770d252336c73b4046c595736d348ee8c6
Status: Image is up to date for lfedge/eve-dom0-ztools:f6e8d3bb095edb1065ee0262d1643dae7ce43c6e
Building and pushing "lfedge/eve-fscrypt:5df0cdbaa31028b0413b4fc1781b27a84be292dd"
5df0cdbaa31028b0413b4fc1781b27a84be292dd: Pulling from lfedge/eve-fscrypt
Digest: sha256:32df85081d25d67f9426535f6b3d0d8ef4438d91766964cdaa9dacbeaf4326c8
Status: Image is up to date for lfedge/eve-fscrypt:5df0cdbaa31028b0413b4fc1781b27a84be292dd
Building and pushing "lfedge/eve-fw:e07c45a98386767ec3926b813dc4b46a96a81541"
e07c45a98386767ec3926b813dc4b46a96a81541: Pulling from lfedge/eve-fw
Digest: sha256:1f2c0ab02db59a1e79c0cc2529045eb39b73a739b450e8d8029875bdf9f5178e
Status: Image is up to date for lfedge/eve-fw:e07c45a98386767ec3926b813dc4b46a96a81541
Building and pushing "lfedge/eve-gpt-tools:19ef56f5014fab1978a6e98b047d4498eabf8295"
19ef56f5014fab1978a6e98b047d4498eabf8295: Pulling from lfedge/eve-gpt-tools
Digest: sha256:cc958c98fbff93c02b3454b0976d76656a6f75f0dc01fa8ddaeb7d360bb2a165
Status: Image is up to date for lfedge/eve-gpt-tools:19ef56f5014fab1978a6e98b047d4498eabf8295
Building and pushing "lfedge/eve-grub:e6805cff775d771671def09ceb876c352bb7bd46"
e6805cff775d771671def09ceb876c352bb7bd46: Pulling from lfedge/eve-grub
Digest: sha256:268543fea4a9bdc828dbb05f30a7476b0d4ae10d439215d8a0001e52e0a6c36f
Status: Image is up to date for lfedge/eve-grub:e6805cff775d771671def09ceb876c352bb7bd46
Building and pushing "lfedge/eve-guacd:f1f08a0fcadd35320f5d03fe0f0a1a318e8449be"
f1f08a0fcadd35320f5d03fe0f0a1a318e8449be: Pulling from lfedge/eve-guacd
Digest: sha256:c8f56593d2e0a75130182602c85a4fb24e7d79c53a7717f718fc09bb84cbaab2
Status: Image is up to date for lfedge/eve-guacd:f1f08a0fcadd35320f5d03fe0f0a1a318e8449be
Building and pushing "lfedge/eve-kernel:c2b3a9cdba8be0a24c84d614f33f1124e900cd9b"
c2b3a9cdba8be0a24c84d614f33f1124e900cd9b: Pulling from lfedge/eve-kernel
Digest: sha256:36b1dfc34884d32112fc0162b4bbb330eb53fa738c6e2edac5bf4b7ac992ad8b
Status: Image is up to date for lfedge/eve-kernel:c2b3a9cdba8be0a24c84d614f33f1124e900cd9b
Building and pushing "lfedge/eve-lisp:4bdcc521c878167913dabc59743fe4994a21ed56"
4bdcc521c878167913dabc59743fe4994a21ed56: Pulling from lfedge/eve-lisp
Digest: sha256:cafe8de235b9129c2d9bcab0bc8256694e1021d177d57eb33e2537bdd13a0734
Status: Image is up to date for lfedge/eve-lisp:4bdcc521c878167913dabc59743fe4994a21ed56
Building and pushing "lfedge/eve-mkconf:ecf6b2692257d32b006c1768f8c88fdfdf2a8fca"
ecf6b2692257d32b006c1768f8c88fdfdf2a8fca: Pulling from lfedge/eve-mkconf
Digest: sha256:77ebadc0beccc842b6853e7a1a77b8661bda2ac9ca0c8eb8a92e03d44d92d8fc
Status: Image is up to date for lfedge/eve-mkconf:ecf6b2692257d32b006c1768f8c88fdfdf2a8fca
Building and pushing "lfedge/eve-mkimage-iso-efi:3f0400e9324c8d3b044745119f5e0d74f37067ae"
3f0400e9324c8d3b044745119f5e0d74f37067ae: Pulling from lfedge/eve-mkimage-iso-efi
Digest: sha256:512c6e7bf6ceeb77885dd107c0e5f855f1c1f1f040d95a6ec97545ebfe71ca66
Status: Image is up to date for lfedge/eve-mkimage-iso-efi:3f0400e9324c8d3b044745119f5e0d74f37067ae
Building and pushing "lfedge/eve-mkimage-raw-efi:854a9b3a22b472e5f9ce2ba615eb4cc94e8f8352"
854a9b3a22b472e5f9ce2ba615eb4cc94e8f8352: Pulling from lfedge/eve-mkimage-raw-efi
Digest: sha256:331f5e5c4e22d978d77f1ba9ce06c8b06b05e5e9f379618060899adbcc0df568
Status: Image is up to date for lfedge/eve-mkimage-raw-efi:854a9b3a22b472e5f9ce2ba615eb4cc94e8f8352
Building and pushing "lfedge/eve-mkrootfs-ext4:08d616d0ae2fed5b9996b80e1caf06183ea371c6"
08d616d0ae2fed5b9996b80e1caf06183ea371c6: Pulling from lfedge/eve-mkrootfs-ext4
Digest: sha256:01c722122b4cdfbdaedbc7052bd00806a254850da955fd6fb6c5bf5ec68a73b0
Status: Image is up to date for lfedge/eve-mkrootfs-ext4:08d616d0ae2fed5b9996b80e1caf06183ea371c6
Building and pushing "lfedge/eve-mkrootfs-squash:061a611a4fe80e5386f05bc1ebe0bd87952da1b4"
061a611a4fe80e5386f05bc1ebe0bd87952da1b4: Pulling from lfedge/eve-mkrootfs-squash
Digest: sha256:4ceb8ac0f5fab4d17a234b8549431737bf977fd3cb851324afa4a26181fc40c0
Status: Image is up to date for lfedge/eve-mkrootfs-squash:061a611a4fe80e5386f05bc1ebe0bd87952da1b4
Building and pushing "lfedge/eve-xen-tools:3089b63d67af51868bb9bda69701adb6071ef52a"
3089b63d67af51868bb9bda69701adb6071ef52a: Pulling from lfedge/eve-xen-tools
Digest: sha256:fd729f3694477b5d45c3f37dad0125031c796575e3ff4c70fea29c04d31292de
Status: Image is up to date for lfedge/eve-xen-tools:3089b63d67af51868bb9bda69701adb6071ef52a
Building and pushing "lfedge/eve-strongswan:6dda5ee56b295a0115e7c09a0ca23aa925426252"
6dda5ee56b295a0115e7c09a0ca23aa925426252: Pulling from lfedge/eve-strongswan
Digest: sha256:23a114b85bb003ff07d9ace288f437aa4b1b40269ba716754261013fa00781c5
Status: Image is up to date for lfedge/eve-strongswan:6dda5ee56b295a0115e7c09a0ca23aa925426252
Building and pushing "lfedge/eve-watchdog:6467d18c58faa455deaf3e4ab04d9fd4a5ed6512"
6467d18c58faa455deaf3e4ab04d9fd4a5ed6512: Pulling from lfedge/eve-watchdog
Digest: sha256:799264427df90434c1e7ffe313e383550b5a8ae8b918aeeb27c99e7a6035abe1
Status: Image is up to date for lfedge/eve-watchdog:6467d18c58faa455deaf3e4ab04d9fd4a5ed6512
Building and pushing "lfedge/eve-rkt:15525fb9c5a58f9e7ec98004b6859365e1f99c98"
15525fb9c5a58f9e7ec98004b6859365e1f99c98: Pulling from lfedge/eve-rkt
Digest: sha256:b50a15f51e3b19fe980f9bdcf54145e5b4e9dd0521c403bf67753b606c4d985f
Status: Image is up to date for lfedge/eve-rkt:15525fb9c5a58f9e7ec98004b6859365e1f99c98
Building and pushing "lfedge/eve-rkt-stage1:0f513700bde1b33182df177793f94edce5d9e0a1"
0f513700bde1b33182df177793f94edce5d9e0a1: Pulling from lfedge/eve-rkt-stage1
no matching manifest for linux/arm64 in the manifest list entries
No image pulled, continuing with build
Sending build context to Docker daemon   25.6kB
Step 1/12 : FROM golang:1.11.11-alpine3.8
 ---> 2d039fb186ec
Step 2/12 : ENV GO111MODULE on
 ---> Using cache
 ---> 02d89fcca993
Step 3/12 : RUN apk add --no-cache bash git make autoconf gcc acl-dev musl-dev musl-utils libelf-dev linux-headers openssl-dev bc patch busybox-static
 ---> Using cache
 ---> b310dba14662
Step 4/12 : ADD https://github.com/rkt/stage1-xen/archive/master.zip /tmp

 ---> Using cache
 ---> 6ba3b74dcf33
Step 5/12 : RUN unzip /tmp/master.zip -d /go
 ---> Using cache
 ---> 127bc8d2d187
Step 6/12 : COPY *.patch /go/stage1-xen-master/
 ---> 669e08a52646
Step 7/12 : WORKDIR /go/stage1-xen-master
 ---> 3859fbc26e21
Removing intermediate container 3c7dde6f86fb
Step 8/12 : RUN for p in *.patch ; do patch -p1 < "$p" ; done
 ---> Running in a95e2edc77f1
patching file build.sh
patching file go.mod
patching file init/go.mod
patching file init/go.sum
patching file kernel/make-initrd
patching file build.sh
patching file kernel/make-initrd
patching file files/run
patching file files/stop
patching file files/run
patching file files/stop
patching file files/run
patching file build.sh
patching file files/run
patching file files/udhcpc_script.sh
patching file kernel/init-initrd
 ---> 82aca0e68041
Removing intermediate container a95e2edc77f1
Step 9/12 : RUN bash build.sh
 ---> Running in c7d610140528
[91mgo: finding github.com/vishvananda/netns v0.0.0-20190625233234-7109fa855b0f
go: finding github.com/d2g/dhcp4client v1.0.0
[0m[91mgo: finding github.com/d2g/dhcp4 v0.0.0-20170904100407-a1d1b6c41b1c
[0m[91mgo: finding github.com/sstabellini/rkt v0.0.0-20170602215157-8a57cb8b6682
[0m[91mgo: finding github.com/vishvananda/netlink v0.0.0-20190701183739-2e4a68ee6c16
go: finding github.com/hashicorp/errwrap v1.0.0
[0m[91mgo: finding github.com/containernetworking/cni v0.4.0
[0m[91mgo: finding golang.org/x/sys v0.0.0-20190626221950-04f50cda93cb
[0m[91mgo: finding go4.org v0.0.0-20190313082347-94abd6928b1d
[0m[91mgo: finding gopkg.in/inf.v0 v0.9.1
[0m[91mgo: finding github.com/spf13/pflag v0.0.0-20181223182923-24fa6976df40
[0m[91mgo: finding github.com/rkt/rkt v1.26.0
[0m[91mgo: finding github.com/syndtr/gocapability v0.0.0-20180916011248-d98352740cb2
[0m[91mgo: finding github.com/coreos/go-semver v0.3.0
[0m[91mgo: finding github.com/appc/spec v0.0.0-20180124155224-259c2eebc32d
[0m[91mgo: finding github.com/coreos/go-iptables v0.0.0-20190627140312-f1d0510cabcb
[0m[91mgo: finding github.com/coreos/go-systemd v0.0.0-20190620071333-e64a0ec8b42a
[0m[91mgo: downloading github.com/rkt/rkt v1.26.0
[0m[91mgo: downloading github.com/appc/spec v0.0.0-20180124155224-259c2eebc32d
go: downloading github.com/sstabellini/rkt v0.0.0-20170602215157-8a57cb8b6682
[0m[91mgo: downloading github.com/hashicorp/errwrap v1.0.0
[0m[91mgo: downloading github.com/coreos/go-semver v0.3.0
[0m[91mgo: downloading gopkg.in/inf.v0 v0.9.1
[0m[91mgo: downloading github.com/spf13/pflag v0.0.0-20181223182923-24fa6976df40
[0m[91mgo: downloading go4.org v0.0.0-20190313082347-94abd6928b1d
[0m[91mgo: downloading github.com/syndtr/gocapability v0.0.0-20180916011248-d98352740cb2
[0m[91mgo: downloading github.com/containernetworking/cni v0.4.0
[0m[91mgo: downloading github.com/coreos/go-systemd v0.0.0-20190620071333-e64a0ec8b42a
[0m[91mgo: downloading github.com/coreos/go-iptables v0.0.0-20190627140312-f1d0510cabcb
[0m[91mgo: downloading github.com/vishvananda/netlink v0.0.0-20190701183739-2e4a68ee6c16
[0m[91mgo: downloading golang.org/x/sys v0.0.0-20190626221950-04f50cda93cb
[0m[91mgo: downloading github.com/vishvananda/netns v0.0.0-20190625233234-7109fa855b0f
[0m ---> 8fab007f9588
Removing intermediate container c7d610140528
Step 10/12 : RUN rm -f /go/stage1-xen-master/target/rootfs/kernel || :
 ---> Running in 9a6ddd906aca
 ---> 8ad93ec222da
Removing intermediate container 9a6ddd906aca
Step 11/12 : RUN go get github.com/appc/spec/actool &&     go build -o ./aci/actool github.com/appc/spec/actool &&     ./aci/actool build target stage1-xen.aci
 ---> Running in 917b3c336a0b
[91mgo: finding github.com/appc/spec/actool latest
[0m[91mgo: finding github.com/appc/spec v0.8.11
[0m[91mgo: downloading github.com/appc/spec v0.8.11
[0m[91mgo: finding github.com/spf13/pflag v1.0.3
[0m[91mgo: downloading github.com/spf13/pflag v1.0.3
[0m[91mgo: finding github.com/coreos/go-semver/semver latest
[0m[91mgo: finding go4.org/errorutil latest
[0m[91mgo: finding go4.org latest
[0m[91mgo: finding golang.org/x/net/html/atom latest
[0m[91mgo: finding golang.org/x/net/html latest
[0m[91mgo: finding golang.org/x/net latest
[0m[91mgo: downloading golang.org/x/net v0.0.0-20190827160401-ba9fcec4b297
[0m[91mgo: finding golang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a
[0m[91mgo: finding golang.org/x/text v0.3.0
[0m[91mgo: finding golang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2
[0m ---> cf33e50cc50e
Removing intermediate container 917b3c336a0b
Step 12/12 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '6bd27a6cb2ee349ecc6050768133c3981c088400' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 3de951b354d6
 ---> bc3b70aef580
Removing intermediate container 3de951b354d6
Successfully built bc3b70aef580
Successfully tagged lfedge/eve-rkt-stage1:0f513700bde1b33182df177793f94edce5d9e0a1-arm64
Pushing lfedge/eve-rkt-stage1:0f513700bde1b33182df177793f94edce5d9e0a1-arm64
The push refers to a repository [docker.io/lfedge/eve-rkt-stage1]
f60f82ba0b1a: Preparing
75b5d1329aad: Preparing
0797e606374f: Preparing
e4ec23e0389b: Preparing
f6026ab5a8d7: Preparing
9a78fe147f26: Preparing
9afa5a41fa01: Preparing
13282a5be54b: Preparing
31e2012ebfef: Preparing
b1179a3085ac: Preparing
a26597083206: Preparing
11ef7eb92407: Preparing
13282a5be54b: Waiting
31e2012ebfef: Waiting
b1179a3085ac: Waiting
a26597083206: Waiting
11ef7eb92407: Waiting
9a78fe147f26: Waiting
9afa5a41fa01: Waiting
f6026ab5a8d7: Layer already exists
9a78fe147f26: Layer already exists
0797e606374f: Pushed
e4ec23e0389b: Pushed
9afa5a41fa01: Layer already exists
13282a5be54b: Layer already exists
31e2012ebfef: Layer already exists
b1179a3085ac: Layer already exists
11ef7eb92407: Layer already exists
a26597083206: Layer already exists
f60f82ba0b1a: Pushed
75b5d1329aad: Pushed
0f513700bde1b33182df177793f94edce5d9e0a1-arm64: digest: sha256:91be4c3a7c0719dadb60d322528a5d349ac21d14a666bfce52ecd5e5df4a0bc0 size: 2837
Pushing lfedge/eve-rkt-stage1:0f513700bde1b33182df177793f94edce5d9e0a1-arm64 to manifest lfedge/eve-rkt-stage1:0f513700bde1b33182df177793f94edce5d9e0a1
time="2019-09-04T08:16:17+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve-rkt-stage1:0f513700bde1b33182df177793f94edce5d9e0a1-s390x\". Skipping image."
Digest: sha256:8581f2c4a672f1d8c080f0c74f763e65372b521a4acacf566448c3aff397e648 743
Not signing lfedge/eve-rkt-stage1:0f513700bde1b33182df177793f94edce5d9e0a1
Tagging lfedge/eve-rkt-stage1:0f513700bde1b33182df177793f94edce5d9e0a1-arm64 as lfedge/eve-rkt-stage1:snapshot-arm64
Pushing lfedge/eve-rkt-stage1:snapshot-arm64
The push refers to a repository [docker.io/lfedge/eve-rkt-stage1]
f60f82ba0b1a: Preparing
75b5d1329aad: Preparing
0797e606374f: Preparing
e4ec23e0389b: Preparing
f6026ab5a8d7: Preparing
9a78fe147f26: Preparing
9afa5a41fa01: Preparing
13282a5be54b: Preparing
31e2012ebfef: Preparing
b1179a3085ac: Preparing
a26597083206: Preparing
11ef7eb92407: Preparing
9a78fe147f26: Waiting
9afa5a41fa01: Waiting
13282a5be54b: Waiting
31e2012ebfef: Waiting
b1179a3085ac: Waiting
a26597083206: Waiting
11ef7eb92407: Waiting
f60f82ba0b1a: Layer already exists
e4ec23e0389b: Layer already exists
f6026ab5a8d7: Layer already exists
0797e606374f: Layer already exists
9afa5a41fa01: Layer already exists
31e2012ebfef: Layer already exists
13282a5be54b: Layer already exists
75b5d1329aad: Layer already exists
b1179a3085ac: Layer already exists
a26597083206: Layer already exists
11ef7eb92407: Layer already exists
9a78fe147f26: Layer already exists
snapshot-arm64: digest: sha256:91be4c3a7c0719dadb60d322528a5d349ac21d14a666bfce52ecd5e5df4a0bc0 size: 2837
Pushing lfedge/eve-rkt-stage1:snapshot-arm64 to manifest lfedge/eve-rkt-stage1:snapshot
time="2019-09-04T08:16:31+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve-rkt-stage1:snapshot-s390x\". Skipping image."
Digest: sha256:8581f2c4a672f1d8c080f0c74f763e65372b521a4acacf566448c3aff397e648 743
Not signing lfedge/eve-rkt-stage1:snapshot
Build, push and release of "snapshot" complete, all done.
Building and pushing "lfedge/eve-pillar:5221e2372fbff525448445f94418b17f39beb8e7"
5221e2372fbff525448445f94418b17f39beb8e7: Pulling from lfedge/eve-pillar
no matching manifest for linux/arm64 in the manifest list entries
No image pulled, continuing with build
Sending build context to Docker daemon   23.5MB
Step 1/45 : ARG GOVER=1.12.4
 ---> 
Step 2/45 : FROM golang:${GOVER}-alpine as build
 ---> 7701ec5e84de
Step 3/45 : RUN apk update
 ---> Using cache
 ---> 5ce26f1a49ab
Step 4/45 : RUN apk add --no-cache git gcc linux-headers libc-dev util-linux libpcap-dev make
 ---> Using cache
 ---> 7b3e87b29df1
Step 5/45 : ENV GOFLAGS -mod=vendor
 ---> Using cache
 ---> ba82919b4256
Step 6/45 : ENV GO111MODULE on
 ---> Using cache
 ---> 9d8bfc2de8c6
Step 7/45 : ENV CGO_ENABLED 1
 ---> Using cache
 ---> 6e3a6f76b103
Step 8/45 : ARG GOARCH=
 ---> Using cache
 ---> 9c2fcbcf8d89
Step 9/45 : ARG CROSS_GCC=https://musl.cc/aarch64-linux-musleabi-cross.tgz
 ---> Using cache
 ---> 30c952727d2c
Step 10/45 : RUN [ -z "$GOARCH" ] || (cd / ; apk add --no-cache wget && wget -O - $CROSS_GCC | tar xzvf -)
 ---> Using cache
 ---> 09010d306af5
Step 11/45 : ADD ./ /pillar/
 ---> 1555cdae899b
Step 12/45 : WORKDIR /pillar
 ---> e0ec0ae3edfb
Removing intermediate container ed91ac34fdf0
Step 13/45 : RUN [ -z "$GOARCH" ] || export CC=$(echo /*-cross/bin/*-gcc) ;    echo "Running go vet" && go vet ./... &&     echo "Running go fmt" && ERR=$(gofmt -e -l -s $(find . -name \*.go | grep -v /vendor/)) &&        if [ -n "$ERR" ] ; then echo $ERR ; exit 1 ; fi &&     make DISTDIR=/dist build
 ---> Running in e766e94b84cf
Running go vet
Running go fmt
mkdir -p /dist
Building /dist/zedbox
GO111MODULE=on GOOS=linux CGO_ENABLED=1 go build -mod=vendor -ldflags -X=main.Version=---2019-09-04.06.17 -o /dist/zedbox ./zedbox
logmanager
ledmanager
downloader
verifier
client
zedrouter
domainmgr
identitymgr
zedmanager
zedagent
hardwaremodel
ipcmonitor
nim
diag
baseosmgr
wstunnelclient
conntrack
lisp-ztr
waitforaddr
tpmmgr
vaultmgr
 ---> 3b2902c4b062
Removing intermediate container e766e94b84cf
Step 14/45 : FROM lfedge/eve-lisp:4bdcc521c878167913dabc59743fe4994a21ed56-arm64 as lisp
 ---> 822aff3031d4
Step 15/45 : FROM lfedge/eve-xen-tools:3089b63d67af51868bb9bda69701adb6071ef52a-arm64 as xen-tools
 ---> e133983eca70
Step 16/45 : FROM lfedge/eve-dnsmasq:cdb36dc56fb50bbd2b28123e435b3660adf34efb-arm64 as dnsmasq
 ---> a22ea1132ef2
Step 17/45 : FROM lfedge/eve-strongswan:6dda5ee56b295a0115e7c09a0ca23aa925426252-arm64 as strongswan
 ---> d0674bfac8fb
Step 18/45 : FROM lfedge/eve-gpt-tools:19ef56f5014fab1978a6e98b047d4498eabf8295-arm64 as gpttools
 ---> 3e2c064416b5
Step 19/45 : FROM lfedge/eve-watchdog:6467d18c58faa455deaf3e4ab04d9fd4a5ed6512-arm64 as watchdog
 ---> 4cfeaf03ca4a
Step 20/45 : FROM lfedge/eve-rkt:15525fb9c5a58f9e7ec98004b6859365e1f99c98-arm64 as rkt-build
 ---> 295f2274d6e9
Step 21/45 : FROM lfedge/eve-rkt-stage1:0f513700bde1b33182df177793f94edce5d9e0a1-arm64 as rkt-stage1-build
 ---> bc3b70aef580
Step 22/45 : FROM lfedge/eve-fscrypt:5df0cdbaa31028b0413b4fc1781b27a84be292dd-arm64 as fscrypt-build
 ---> cf230320fe66
Step 23/45 : FROM alpine:3.8
 ---> c2b4b73a5fef
Step 24/45 : RUN apk add --no-cache     yajl xz bash openssl iptables ip6tables iproute2 dhcpcd     apk-cron coreutils dmidecode sudo libbz2 libuuid ipset     libaio logrotate pixman glib curl radvd perl ethtool     util-linux e2fsprogs libcrypto1.0 xorriso     python libpcap libffi jq e2fsprogs-extra keyutils
 ---> Using cache
 ---> 17316652340e
Step 25/45 : RUN [ `uname -m` = "aarch64" ] && apk add --no-cache libfdt || :
 ---> Using cache
 ---> 06e29834dcba
Step 26/45 : ADD conf/root-certificate.pem conf/server conf/server.production /opt/zededa/examples/config/
 ---> Using cache
 ---> 1cea13f0c1df
Step 27/45 : ADD scripts/device-steps.sh scripts/generate-device.sh scripts/generate-self-signed.sh scripts/handlezedserverconfig.sh scripts/watchdog-report.sh /opt/zededa/bin/
 ---> Using cache
 ---> 8e9e1ef339c5
Step 28/45 : ADD conf/AssignableAdapters /var/tmp/zededa/AssignableAdapters
 ---> Using cache
 ---> 09f837cf4201
Step 29/45 : ADD conf/DeviceNetworkConfig /var/tmp/zededa/DeviceNetworkConfig
 ---> Using cache
 ---> 7e781ec24678
Step 30/45 : ADD conf/lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> Using cache
 ---> 7edde6c6e3c5
Step 31/45 : COPY --from=build /dist /opt/zededa/bin
 ---> 5c1453069f75
Step 32/45 : COPY --from=xen-tools / /
 ---> bf6c7df44e53
Step 33/45 : COPY --from=lisp / /
 ---> ed350f53db51
Step 34/45 : COPY --from=gpttools / /
 ---> a907ce92b130
Step 35/45 : COPY --from=dnsmasq /usr/sbin/dnsmasq /opt/zededa/bin/dnsmasq
 ---> 09403e80a1aa
Step 36/45 : COPY --from=strongswan / /
 ---> eb9d79a78653
Step 37/45 : COPY --from=watchdog /usr/sbin /usr/sbin
 ---> 5b368e3a6edf
Step 38/45 : COPY --from=rkt-build /go/rkt/build-rkt-1.26.0/target/bin/rkt /usr/sbin/rkt
 ---> 7162f47c5d56
Step 39/45 : COPY --from=rkt-stage1-build /go/stage1-xen-master/stage1-xen.aci /usr/sbin/stage1-xen.aci
 ---> 80dd7fd17835
Step 40/45 : COPY --from=fscrypt-build /fscrypt /opt/zededa/bin/fscrypt
 ---> c1f329c55c0a
Step 41/45 : COPY rootfs/ /
 ---> 5ad0d198dfae
Step 42/45 : RUN chmod 644 /etc/logrotate.d/zededa
 ---> Running in 450d589c20c4
 ---> 45dc2200b62a
Removing intermediate container 450d589c20c4
Step 43/45 : WORKDIR /
 ---> 1f04a8071f96
Removing intermediate container 4cb91a3044b3
Step 44/45 : CMD /init.sh
 ---> Running in 2d8bd919a837
 ---> 202b743e0b2e
Removing intermediate container 2d8bd919a837
Step 45/45 : LABEL org.mobyproject.config '{"capabilities":["all"],"binds":["/lib/modules:/lib/modules","/dev:/dev","/etc/resolv.conf:/etc/resolv.conf","/run:/run","/var/config:/config","/var/log:/var/log/dom0","/:/hostfs","/etc/eve-release:/etc/eve-release"],"net":"host","pid":"host"}' org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision '6bd27a6cb2ee349ecc6050768133c3981c088400' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 0cbd90d95fd2
 ---> 5d88b9bb6839
Removing intermediate container 0cbd90d95fd2
Successfully built 5d88b9bb6839
Successfully tagged lfedge/eve-pillar:5221e2372fbff525448445f94418b17f39beb8e7-arm64
Pushing lfedge/eve-pillar:5221e2372fbff525448445f94418b17f39beb8e7-arm64
The push refers to a repository [docker.io/lfedge/eve-pillar]
abb39dc01f2a: Preparing
f7bc8d68b9df: Preparing
41aee04c7894: Preparing
fdfd88cf8f9d: Preparing
fc0f60cef7f1: Preparing
f2ee8f9cdf2d: Preparing
46a770cde44c: Preparing
2610a8162849: Preparing
90cbcd98835e: Preparing
6bdcc97f7d08: Preparing
65ed9764ba6b: Preparing
af11f43a8c6c: Preparing
e154861123af: Preparing
c99a07597607: Preparing
34199c049f0d: Preparing
6914162c0a10: Preparing
caa1e67db761: Preparing
e7ca819941c9: Preparing
11ef7eb92407: Preparing
f2ee8f9cdf2d: Waiting
e154861123af: Waiting
c99a07597607: Waiting
34199c049f0d: Waiting
caa1e67db761: Waiting
46a770cde44c: Waiting
2610a8162849: Waiting
90cbcd98835e: Waiting
6914162c0a10: Waiting
11ef7eb92407: Waiting
6bdcc97f7d08: Waiting
65ed9764ba6b: Waiting
af11f43a8c6c: Waiting
e7ca819941c9: Waiting
fc0f60cef7f1: Pushed
abb39dc01f2a: Pushed
f7bc8d68b9df: Pushed
f2ee8f9cdf2d: Layer already exists
90cbcd98835e: Layer already exists
2610a8162849: Layer already exists
6bdcc97f7d08: Layer already exists
46a770cde44c: Pushed
af11f43a8c6c: Layer already exists
fdfd88cf8f9d: Pushed
c99a07597607: Layer already exists
e154861123af: Layer already exists
34199c049f0d: Layer already exists
6914162c0a10: Layer already exists
caa1e67db761: Layer already exists
41aee04c7894: Pushed
11ef7eb92407: Layer already exists
e7ca819941c9: Layer already exists
65ed9764ba6b: Pushed
5221e2372fbff525448445f94418b17f39beb8e7-arm64: digest: sha256:ef92d799e77f28691249986a9f08e2db269a6b003b4beeb605291c78ad26d59c size: 4311
Pushing lfedge/eve-pillar:5221e2372fbff525448445f94418b17f39beb8e7-arm64 to manifest lfedge/eve-pillar:5221e2372fbff525448445f94418b17f39beb8e7
time="2019-09-04T08:19:27+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve-pillar:5221e2372fbff525448445f94418b17f39beb8e7-s390x\". Skipping image."
Digest: sha256:2151223fa4b547da3f19736e819d312d271ba145bcaab0b6849a89040de8e880 743
Not signing lfedge/eve-pillar:5221e2372fbff525448445f94418b17f39beb8e7
Tagging lfedge/eve-pillar:5221e2372fbff525448445f94418b17f39beb8e7-arm64 as lfedge/eve-pillar:snapshot-arm64
Pushing lfedge/eve-pillar:snapshot-arm64
The push refers to a repository [docker.io/lfedge/eve-pillar]
abb39dc01f2a: Preparing
f7bc8d68b9df: Preparing
41aee04c7894: Preparing
fdfd88cf8f9d: Preparing
fc0f60cef7f1: Preparing
f2ee8f9cdf2d: Preparing
46a770cde44c: Preparing
2610a8162849: Preparing
90cbcd98835e: Preparing
6bdcc97f7d08: Preparing
65ed9764ba6b: Preparing
af11f43a8c6c: Preparing
e154861123af: Preparing
c99a07597607: Preparing
34199c049f0d: Preparing
6914162c0a10: Preparing
caa1e67db761: Preparing
e7ca819941c9: Preparing
11ef7eb92407: Preparing
46a770cde44c: Waiting
2610a8162849: Waiting
90cbcd98835e: Waiting
6bdcc97f7d08: Waiting
65ed9764ba6b: Waiting
af11f43a8c6c: Waiting
e154861123af: Waiting
c99a07597607: Waiting
34199c049f0d: Waiting
f2ee8f9cdf2d: Waiting
caa1e67db761: Waiting
e7ca819941c9: Waiting
11ef7eb92407: Waiting
6914162c0a10: Waiting
fdfd88cf8f9d: Layer already exists
41aee04c7894: Layer already exists
abb39dc01f2a: Layer already exists
f7bc8d68b9df: Layer already exists
fc0f60cef7f1: Layer already exists
2610a8162849: Layer already exists
f2ee8f9cdf2d: Layer already exists
46a770cde44c: Layer already exists
90cbcd98835e: Layer already exists
6bdcc97f7d08: Layer already exists
65ed9764ba6b: Layer already exists
af11f43a8c6c: Layer already exists
e154861123af: Layer already exists
34199c049f0d: Layer already exists
c99a07597607: Layer already exists
6914162c0a10: Layer already exists
caa1e67db761: Layer already exists
e7ca819941c9: Layer already exists
11ef7eb92407: Layer already exists
snapshot-arm64: digest: sha256:ef92d799e77f28691249986a9f08e2db269a6b003b4beeb605291c78ad26d59c size: 4311
Pushing lfedge/eve-pillar:snapshot-arm64 to manifest lfedge/eve-pillar:snapshot
time="2019-09-04T08:19:39+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve-pillar:snapshot-s390x\". Skipping image."
Digest: sha256:2151223fa4b547da3f19736e819d312d271ba145bcaab0b6849a89040de8e880 743
Not signing lfedge/eve-pillar:snapshot
Build, push and release of "snapshot" complete, all done.
Building and pushing "lfedge/eve-qrexec-lib:b0fb86eb752be7884d4d83c1dbbb025e75c5c466"
b0fb86eb752be7884d4d83c1dbbb025e75c5c466: Pulling from lfedge/eve-qrexec-lib
Digest: sha256:738f796da4d434031d40e93bc8f5e9943e804861834ae687a926f60bfaac7cf7
Status: Image is up to date for lfedge/eve-qrexec-lib:b0fb86eb752be7884d4d83c1dbbb025e75c5c466
Building and pushing "lfedge/eve-qrexec-dom0:29024a9e04a96b4baede4f474dcf85c1cef98607"
29024a9e04a96b4baede4f474dcf85c1cef98607: Pulling from lfedge/eve-qrexec-dom0
Digest: sha256:cdd8e3bb99cb58ce3ca6e8a55e767cf610357eb24bb3c47b8f1835c3c8bedbcb
Status: Image is up to date for lfedge/eve-qrexec-dom0:29024a9e04a96b4baede4f474dcf85c1cef98607
Building and pushing "lfedge/eve-rngd:6e16dad8553a6c2939854abfa9f34a5f2604bce7"
6e16dad8553a6c2939854abfa9f34a5f2604bce7: Pulling from lfedge/eve-rngd
Digest: sha256:4c880395a2ab261cc4abe2b866db6764527c19c61a187e68470e1e3f94f99388
Status: Image is up to date for lfedge/eve-rngd:6e16dad8553a6c2939854abfa9f34a5f2604bce7
Building and pushing "lfedge/eve-uefi:aef36d9c29fd16f9bae72a74d887568f0ef138f0"
aef36d9c29fd16f9bae72a74d887568f0ef138f0: Pulling from lfedge/eve-uefi
Digest: sha256:10151b39c87a095cc3ad92ef41d04a3d31b6f676de5968201fa9849e4f931069
Status: Image is up to date for lfedge/eve-uefi:aef36d9c29fd16f9bae72a74d887568f0ef138f0
Building and pushing "lfedge/eve-wlan:c0808ff7629fe29203a4fb0025afef836b6c0e3c"
c0808ff7629fe29203a4fb0025afef836b6c0e3c: Pulling from lfedge/eve-wlan
Digest: sha256:294a580bd34fbb787a9e8b4a44ae03ee230819de86929640da3789b7b4cbc8e7
Status: Image is up to date for lfedge/eve-wlan:c0808ff7629fe29203a4fb0025afef836b6c0e3c
Building and pushing "lfedge/eve-wwan:dc1a7c1174134079c4c76e0f11564325aaefa290"
dc1a7c1174134079c4c76e0f11564325aaefa290: Pulling from lfedge/eve-wwan
Digest: sha256:3f772e9a7c27ff34f0fe2a3dd5a7576fa8a18606ec92a4194bf2eeb3ffdf8158
Status: Image is up to date for lfedge/eve-wwan:dc1a7c1174134079c4c76e0f11564325aaefa290
Building and pushing "lfedge/eve-xen:393866aac272f235484dbc0d28846e0977a1b94b"
393866aac272f235484dbc0d28846e0977a1b94b: Pulling from lfedge/eve-xen
Digest: sha256:99c4f39e2ce582a088f4f0a5f73555e2b84b8b3f236d98c30085231e3341b68b
Status: Image is up to date for lfedge/eve-xen:393866aac272f235484dbc0d28846e0977a1b94b
Done building packages
rm pkg/qrexec-dom0/Dockerfile pkg/qrexec-lib/Dockerfile pkg/pillar/Dockerfile
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
mkdir -p /home/zededa-ci/src/eve/dist/arm64/bios
cd /home/zededa-ci/src/eve/dist/arm64/bios ; _() { C=`docker create $1 fake` ; docker export $C | tar -xf - $2 ; docker rm $C ; } ; _ lfedge/eve-uefi:aef36d9c29fd16f9bae72a74d887568f0ef138f0-arm64 OVMF.fd
e0733058c01a6f64054e62b16be633323feb74e838dba8b2c1dc0ad9dd158fe8
mkdir -p /home/zededa-ci/src/eve/dist/arm64
./tools/makeconfig.sh conf /home/zededa-ci/src/eve/dist/arm64/config.img
+ CONFIG_FILE=/config.img
+ CONFIG_SIZE_KB=1024
+ cd /conf
+ tar xf -
+ echo mtools_skip_check=1
+ dd if=/dev/zero of=/config.img bs=1024 count=1024
1024+0 records in
1024+0 records out
+ mkfs.vfat -n EVE -v /config.img 1024
mkfs.fat 4.1 (2017-01-24)
+ mcopy -i /config.img -s /conf/authorized_keys /conf/onboard.cert.pem /conf/onboard.key.pem /conf/root-certificate.pem /conf/server /conf/wpa_supplicant.conf ::/
/config.img has 64 heads and 32 sectors per track,
hidden sectors 0x0000;
logical sector size is 512,
using 0xf8 media descriptor, with 2048 sectors;
drive number 0x80;
filesystem has 2 12-bit FATs and 4 sectors per cluster.
FAT size is 2 sectors, and provides 502 clusters.
There is 1 reserved sector.
Root directory contains 512 slots and uses 32 sectors.
Volume ID is 793180ee, volume label EVE        .
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
./tools/makerootfs.sh images/rootfs.yml squash /home/zededa-ci/src/eve/dist/arm64/rootfs.img
Extract kernel image: lfedge/eve-kernel:c2b3a9cdba8be0a24c84d614f33f1124e900cd9b-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
Process init image: linuxkit/runc:v0.5-arm64
Process init image: linuxkit/containerd:v0.5-arm64
Process init image: linuxkit/getty:v0.5-arm64
Process init image: lfedge/eve-grub:e6805cff775d771671def09ceb876c352bb7bd46-arm64
Process init image: lfedge/eve-device-trees:107f663ced4eda54228dc95b17f3c5ed636caf36-arm64
Process init image: lfedge/eve-fw:e07c45a98386767ec3926b813dc4b46a96a81541-arm64
Process init image: lfedge/eve-xen:393866aac272f235484dbc0d28846e0977a1b94b-arm64
Process init image: lfedge/eve-gpt-tools:19ef56f5014fab1978a6e98b047d4498eabf8295-arm64
Process init image: lfedge/eve-dom0-ztools:f6e8d3bb095edb1065ee0262d1643dae7ce43c6e-arm64
Add onboot containers:
  Create OCI config for linuxkit/sysctl:v0.5-arm64
  Create OCI config for linuxkit/modprobe:v0.5-arm64
  Create OCI config for linuxkit/mount:v0.5-arm64
  Create OCI config for lfedge/eve-rngd:6e16dad8553a6c2939854abfa9f34a5f2604bce7-arm64
Add service containers:
  Create OCI config for linuxkit/openntpd:v0.5-arm64
  Create OCI config for linuxkit/sshd:v0.5-arm64
  Create OCI config for lfedge/eve-wwan:dc1a7c1174134079c4c76e0f11564325aaefa290-arm64
  Create OCI config for lfedge/eve-wlan:c0808ff7629fe29203a4fb0025afef836b6c0e3c-arm64
  Create OCI config for lfedge/eve-guacd:f1f08a0fcadd35320f5d03fe0f0a1a318e8449be-arm64
  Create OCI config for lfedge/eve-pillar:5221e2372fbff525448445f94418b17f39beb8e7-arm64
Add files:
  /etc/eve-release
  /containers/services/pillar/lower/opt/zededa/bin/versioninfo
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[/                                                           ]     0/19647   0%[===============================================/            ] 15900/19647  80%[==================================================-         ] 16800/19647  85%[===========================================================\] 19647/19647 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 236105.82 Kbytes (230.57 Mbytes)
	34.55% of uncompressed filesystem size (683302.79 Kbytes)
Inode table size 211560 bytes (206.60 Kbytes)
	25.68% of uncompressed inode table size (823688 bytes)
Directory table size 222861 bytes (217.64 Kbytes)
	45.17% of uncompressed directory table size (493389 bytes)
Number of duplicate files found 6481
Number of inodes 21232
Number of files 15391
Number of fragments 685
Number of symbolic links  4089
Number of device nodes 5
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 1747
Number of ids (unique uids + gids) 3
Number of uids 1
	root (0)
Number of gids 3
	root (0)
	shadow (42)
	tty (5)
./tools/makeiso.sh images/installer.yml /home/zededa-ci/src/eve/dist/arm64/installer.iso
Extract kernel image: lfedge/eve-kernel:c2b3a9cdba8be0a24c84d614f33f1124e900cd9b-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
Process init image: linuxkit/runc:v0.5-arm64
Process init image: linuxkit/getty:v0.5-arm64
Process init image: lfedge/eve-grub:e6805cff775d771671def09ceb876c352bb7bd46-arm64
Process init image: lfedge/eve-device-trees:107f663ced4eda54228dc95b17f3c5ed636caf36-arm64
Process init image: lfedge/eve-xen:393866aac272f235484dbc0d28846e0977a1b94b-arm64
Process init image: lfedge/eve-dom0-ztools:f6e8d3bb095edb1065ee0262d1643dae7ce43c6e-arm64
Add onboot containers:
  Create OCI config for lfedge/eve-rngd:6e16dad8553a6c2939854abfa9f34a5f2604bce7-arm64
  Create OCI config for lfedge/eve-mkimage-raw-efi:854a9b3a22b472e5f9ce2ba615eb4cc94e8f8352-arm64
Add files:
  /bits/config.img
  /bits/rootfs.img
  /etc/eve-release
xorriso 1.4.6 : RockRidge filesystem manipulator, libburnia project.

Drive current: -outdev 'stdio:linuxkit-efi.iso'
Media current: stdio file, overwriteable
Media status : is blank
Media summary: 0 sessions, 0 data blocks, 0 data,  755g free
Added to ISO image: directory '/'='/tmp/efi'
xorriso : UPDATE : 7732 files added in 1 seconds
xorriso : UPDATE : 7732 files added in 1 seconds
libisofs: NOTE : Cannot arrange content of data files in surely reproducible way
xorriso : UPDATE :  3.49% done
xorriso : UPDATE :  68.95% done
ISO image produced: 259426 sectors
Written to medium : 259426 sectors at LBA 0
Writing to 'stdio:linuxkit-efi.iso' completed successfully.

./tools/makerootfs.sh images/installer.yml squash /home/zededa-ci/src/eve/dist/arm64/rootfs.img_installer.img
Extract kernel image: lfedge/eve-kernel:c2b3a9cdba8be0a24c84d614f33f1124e900cd9b-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
Process init image: linuxkit/runc:v0.5-arm64
Process init image: linuxkit/getty:v0.5-arm64
Process init image: lfedge/eve-grub:e6805cff775d771671def09ceb876c352bb7bd46-arm64
Process init image: lfedge/eve-device-trees:107f663ced4eda54228dc95b17f3c5ed636caf36-arm64
Process init image: lfedge/eve-xen:393866aac272f235484dbc0d28846e0977a1b94b-arm64
Process init image: lfedge/eve-dom0-ztools:f6e8d3bb095edb1065ee0262d1643dae7ce43c6e-arm64
Add onboot containers:
  Create OCI config for lfedge/eve-rngd:6e16dad8553a6c2939854abfa9f34a5f2604bce7-arm64
  Create OCI config for lfedge/eve-mkimage-raw-efi:854a9b3a22b472e5f9ce2ba615eb4cc94e8f8352-arm64
Add files:
  /bits/config.img
  /bits/rootfs.img
  /etc/eve-release
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[=============================================================\] 8073/8073 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 328537.25 Kbytes (320.84 Mbytes)
	64.23% of uncompressed filesystem size (511484.33 Kbytes)
Inode table size 66673 bytes (65.11 Kbytes)
	26.88% of uncompressed inode table size (248066 bytes)
Directory table size 66303 bytes (64.75 Kbytes)
	45.40% of uncompressed directory table size (146046 bytes)
Number of duplicate files found 1440
Number of inodes 5690
Number of files 4388
Number of fragments 153
Number of symbolic links  916
Number of device nodes 1
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 385
Number of ids (unique uids + gids) 3
Number of uids 1
	root (0)
Number of gids 3
	root (0)
	shadow (42)
	tty (5)
ERROR: size of /home/zededa-ci/src/eve/dist/arm64/rootfs.img_installer.img is greater than 300MB (bigger than allocated partition)
Makefile:210: recipe for target '/home/zededa-ci/src/eve/dist/arm64/rootfs.img_installer.img' failed
make: *** [/home/zededa-ci/src/eve/dist/arm64/rootfs.img_installer.img] Error 1
FINISHED
