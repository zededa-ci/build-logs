From https://github.com/lf-edge/eve
   f74c1b54..eabf41c1  master     -> origin/master
 * [new tag]           4.10.0     -> 4.10.0
 * [new tag]           5.0.0      -> 5.0.0
 * [new tag]           5.0.1      -> 5.0.1
 * [new tag]           5.1.0      -> 5.1.0
 * [new tag]           5.1.1      -> 5.1.1
 * [new tag]           5.1.10     -> 5.1.10
 * [new tag]           5.1.11     -> 5.1.11
 * [new tag]           5.2.0      -> 5.2.0
 * [new tag]           5.2.1      -> 5.2.1
 * [new tag]           5.2.2      -> 5.2.2
 * [new tag]           5.2.3      -> 5.2.3
 * [new tag]           5.2.4      -> 5.2.4
 * [new tag]           5.3.0      -> 5.3.0
 * [new tag]           5.4.0      -> 5.4.0
 * [new tag]           5.4.1      -> 5.4.1
 * [new tag]           5.5.0      -> 5.5.0
 * [new tag]           5.6.0      -> 5.6.0
 * [new tag]           5.6.1      -> 5.6.1
Building the following tags: 5.6.1 origin/master (latest tag is 5.6.1)
Skipping repository .go/pkg/dep/sources/https---github.com-linuxkit-linuxkit
Skipping repository .go/pkg/dep/sources/https---github.com-moby-hyperkit
Skipping repository .go/pkg/dep/sources/https---github.com-gorilla-context
Skipping repository .go/pkg/dep/sources/https---github.com-theupdateframework-notary
Skipping repository .go/pkg/dep/sources/https---github.com-mitchellh-go--ps
Skipping repository .go/pkg/dep/sources/https---github.com-golang-appengine
Skipping repository .go/pkg/dep/sources/https---github.com-xeipuuv-gojsonschema
Skipping repository .go/pkg/dep/sources/https---go.googlesource.com-net
Skipping repository .go/pkg/dep/sources/https---github.com-xeipuuv-gojsonpointer
Skipping repository .go/pkg/dep/sources/https---github.com-Azure-azure--sdk--for--go
Skipping repository .go/pkg/dep/sources/https---github.com-moby-tool
Skipping repository .go/pkg/dep/sources/https---github.com-Azure-go--ansiterm
Skipping repository .go/pkg/dep/sources/https---github.com-moby-vpnkit
Skipping repository .go/pkg/dep/sources/https---github.com-moul-anonuuid
Skipping repository .go/pkg/dep/sources/https---github.com-Azure-go--autorest
Skipping repository .go/pkg/dep/sources/https---github.com-moul-gotty--client
Skipping repository .go/pkg/dep/sources/https---github.com-Microsoft-go--winio
Skipping repository .go/pkg/dep/sources/https---github.com-agl-ed25519
Skipping repository .go/pkg/dep/sources/https---github.com-aws-aws--sdk--go
Skipping repository .go/pkg/dep/sources/https---github.com-containerd-containerd
Skipping repository .go/pkg/dep/sources/https---github.com-opencontainers-go--digest
Skipping repository .go/pkg/dep/sources/https---github.com-opencontainers-image--spec
Skipping repository .go/pkg/dep/sources/https---github.com-opencontainers-runtime--spec
Skipping repository .go/pkg/dep/sources/https---github.com-packethost-packngo
Skipping repository .go/pkg/dep/sources/https---github.com-pkg-errors
Skipping repository .go/pkg/dep/sources/https---github.com-radu--matei-azure--sdk--for--go
Skipping repository .go/pkg/dep/sources/https---github.com-radu--matei-azure--vhd--utils
Skipping repository .go/pkg/dep/sources/https---github.com-renstrom-fuzzysearch
Skipping repository .go/pkg/dep/sources/https---github.com-rn-iso9660wrap
Skipping repository .go/pkg/dep/sources/https---github.com-creack-goselect
Skipping repository .go/pkg/dep/sources/https---github.com-dgrijalva-jwt--go
Skipping repository .go/pkg/dep/sources/https---github.com-docker-distribution
Skipping repository .go/pkg/dep/sources/https---github.com-docker-docker
Skipping repository .go/pkg/dep/sources/https---github.com-docker-go
Skipping repository .go/pkg/dep/sources/https---github.com-docker-go--connections
Skipping repository .go/pkg/dep/sources/https---github.com-docker-go--units
Skipping repository .go/pkg/dep/sources/https---github.com-jmespath-go--jmespath
Skipping repository .go/pkg/dep/sources/https---github.com-scaleway-go--scaleway
Skipping repository .go/pkg/dep/sources/https---github.com-go--ini-ini
Skipping repository .go/pkg/dep/sources/https---github.com-gorilla-mux
Skipping repository .go/pkg/dep/sources/https---github.com-gogo-protobuf
Skipping repository .go/pkg/dep/sources/https---github.com-gorilla-websocket
Skipping repository .go/pkg/dep/sources/https---github.com-vmware-govmomi
Skipping repository .go/pkg/dep/sources/https---github.com-sirupsen-logrus
Skipping repository .go/pkg/dep/sources/https---gopkg.in-yaml.v2
Skipping repository .go/pkg/dep/sources/https---github.com-golang-protobuf
Skipping repository .go/pkg/dep/sources/https---github.com-docker-go--p9p
Skipping repository .go/pkg/dep/sources/https---github.com-google-uuid
Skipping repository .go/pkg/dep/sources/https---github.com-gophercloud-gophercloud
Skipping repository .go/pkg/dep/sources/https---github.com-xeipuuv-gojsonreference
Skipping repository .go/pkg/dep/sources/https---github.com-moby-datakit
Skipping repository .go/pkg/dep/sources/https---github.com-surma-gocpio
Skipping repository .go/pkg/dep/sources/https---github.com-miekg-pkcs11
Skipping repository .go/pkg/dep/sources/https---go.googlesource.com-sync
Skipping repository .go/pkg/dep/sources/https---go.googlesource.com-oauth2
Skipping repository .go/pkg/dep/sources/https---code.googlesource.com-gocloud
Skipping repository .go/pkg/dep/sources/https---go.googlesource.com-sys
Skipping repository .go/pkg/dep/sources/https---go.googlesource.com-crypto
Skipping repository .go/pkg/dep/sources/https---code.googlesource.com-google--api--go--client
Skipping repository .go/pkg/dep/sources/https---github.com-census--instrumentation-opencensus--go
Skipping repository .go/pkg/dep/sources/https---github.com-googleapis-gax--go
Skipping repository .go/pkg/dep/sources/https---github.com-grpc-grpc--go
Skipping repository .go/pkg/dep/sources/https---github.com-konsorten-go--windows--terminal--sequences
Skipping repository .go/pkg/dep/sources/https---github.com-golang-groupcache
Skipping repository .go/pkg/dep/sources/https---github.com-google-go--genproto
Skipping repository .go/pkg/dep/sources/https---go.googlesource.com-text
Removing .go/src
Removing .go/bin
Removing build-tools/bin/linuxkit
Removing build-tools/bin/manifest-tool
Removing dist/
HEAD is now at b9f5fbf4 Further tweaks to EVE container and FAT32 vs FAT16 guessing
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
Building and pushing "lfedge/eve-acrn:5.6.1"
5.6.1: Pulling from lfedge/eve-acrn
Digest: sha256:397bcd7138b83037d31798c3f2d70c620f40565b51abe0ed105a3aad96bc4887
Status: Image is up to date for lfedge/eve-acrn:5.6.1
Building and pushing "lfedge/eve-acrn-kernel:5.6.1"
5.6.1: Pulling from lfedge/eve-acrn-kernel
Digest: sha256:705e8c24f1c7915af80a09ff1c74af910e4bee89b7704d30ca5f8f6cdd819a61
Status: Image is up to date for lfedge/eve-acrn-kernel:5.6.1
Building and pushing "lfedge/eve-alpine:5.6.1"
5.6.1: Pulling from lfedge/eve-alpine
Digest: sha256:18d5700a0a19f134744cbdce191537eb3d6ce7c597f0f159703a37664ca2ec76
Status: Image is up to date for lfedge/eve-alpine:5.6.1
Building and pushing "lfedge/eve-debug:5.6.1"
5.6.1: Pulling from lfedge/eve-debug
Digest: sha256:8b7c92646b914d7ec51e0fcac5046ab1478580612460989ce511081ed4d061f9
Status: Image is up to date for lfedge/eve-debug:5.6.1
Building and pushing "lfedge/eve-dnsmasq:5.6.1"
5.6.1: Pulling from lfedge/eve-dnsmasq
Digest: sha256:ea60e6b722eab04e6f7b0fb6ae8372ffa3bfa6dba43355891741eebec521a475
Status: Image is up to date for lfedge/eve-dnsmasq:5.6.1
Building and pushing "lfedge/eve-dom0-ztools:5.6.1"
5.6.1: Pulling from lfedge/eve-dom0-ztools
Digest: sha256:9ddcaa25f2c9b50d80e4296f0bc7f183f47081ca8de0142afaa665c974a75c2b
Status: Image is up to date for lfedge/eve-dom0-ztools:5.6.1
Building and pushing "lfedge/eve-fw:5.6.1"
5.6.1: Pulling from lfedge/eve-fw
Digest: sha256:cd8657c498c570b2fa32b4af951485aedb599c40b26195ac222f2273efdd8bd4
Status: Image is up to date for lfedge/eve-fw:5.6.1
Building and pushing "lfedge/eve-gpt-tools:5.6.1"
5.6.1: Pulling from lfedge/eve-gpt-tools
Digest: sha256:c5983f210206ca08eb2eb807eed661bb7ef1697ef1a1055eeb6508c59e5b4ed0
Status: Image is up to date for lfedge/eve-gpt-tools:5.6.1
Building and pushing "lfedge/eve-grub:5.6.1"
5.6.1: Pulling from lfedge/eve-grub
Digest: sha256:16b02bd48ef9920b90b62c15b6a16e292211693704aef6d508fcf6f8ed0c8f06
Status: Image is up to date for lfedge/eve-grub:5.6.1
Building and pushing "lfedge/eve-guacd:5.6.1"
5.6.1: Pulling from lfedge/eve-guacd
Digest: sha256:46a0523aa632d3c12af35d4e9f8d7455ef880f61743205c0943f4d8df3e54be4
Status: Image is up to date for lfedge/eve-guacd:5.6.1
Building and pushing "lfedge/eve-kernel:5.6.1"
5.6.1: Pulling from lfedge/eve-kernel
Digest: sha256:ff71f2733228cfab791a0e1fca276c90f2be3f384efa47b865254a0d18d108c9
Status: Image is up to date for lfedge/eve-kernel:5.6.1
Building and pushing "lfedge/eve-lisp:5.6.1"
5.6.1: Pulling from lfedge/eve-lisp
Digest: sha256:6e3ea4b4c09a36702af89f108f443c67c46355fc1fdbceb76d73d5fc48d4e102
Status: Image is up to date for lfedge/eve-lisp:5.6.1
Building and pushing "lfedge/eve-mkconf:5.6.1"
5.6.1: Pulling from lfedge/eve-mkconf
Digest: sha256:0a6d23f57604d30bc3d626569fae1e4e77dfc9fd7e50d841a90cc3d38616e11b
Status: Image is up to date for lfedge/eve-mkconf:5.6.1
Building and pushing "lfedge/eve-mkimage-iso-efi:5.6.1"
5.6.1: Pulling from lfedge/eve-mkimage-iso-efi
Digest: sha256:270cf6ecf38f651f7fc98ac89baf1d45da889ebd16e14ee462d2f2f077dcc770
Status: Image is up to date for lfedge/eve-mkimage-iso-efi:5.6.1
Building and pushing "lfedge/eve-mkimage-raw-efi:5.6.1"
5.6.1: Pulling from lfedge/eve-mkimage-raw-efi
Digest: sha256:44a9f909021f6a1d851c617269d39faf5b42ba2b8f7aae81cc6b40b6b564d6b7
Status: Image is up to date for lfedge/eve-mkimage-raw-efi:5.6.1
Building and pushing "lfedge/eve-mkrootfs-ext4:5.6.1"
5.6.1: Pulling from lfedge/eve-mkrootfs-ext4
Digest: sha256:9786430eab618f833243c932a358fa65c0eeb17cd407f0929a7d71f079dd6a5f
Status: Image is up to date for lfedge/eve-mkrootfs-ext4:5.6.1
Building and pushing "lfedge/eve-mkrootfs-squash:5.6.1"
5.6.1: Pulling from lfedge/eve-mkrootfs-squash
Digest: sha256:bb683c608bc0b28cafbbd12bdb2cd0445e3d1a487cfa7122271c14a45983ff0f
Status: Image is up to date for lfedge/eve-mkrootfs-squash:5.6.1
Building and pushing "lfedge/eve-new-kernel:5.6.1"
5.6.1: Pulling from lfedge/eve-new-kernel
Digest: sha256:0da300e45192f5066edf398c30255d39d4e7e63e585639990fabef7a73edf958
Status: Image is up to date for lfedge/eve-new-kernel:5.6.1
Building and pushing "lfedge/eve-strongswan:5.6.1"
5.6.1: Pulling from lfedge/eve-strongswan
Digest: sha256:435ae88c03a1bb35a7baa3c594b16abfc03cd1a606e12f0c660aed8901d799e8
Status: Image is up to date for lfedge/eve-strongswan:5.6.1
Building and pushing "lfedge/eve-pillar:5.6.1"
5.6.1: Pulling from lfedge/eve-pillar
Digest: sha256:fbf2778f8ee56a4733f490f0d7cdcdf0898ea7a06502fcd98c20d4f08a5bbb1d
Status: Image is up to date for lfedge/eve-pillar:5.6.1
Building and pushing "lfedge/eve-uefi:5.6.1"
5.6.1: Pulling from lfedge/eve-uefi
Digest: sha256:93fa67e19be4a24ecfb55ffb904f333af7ae67c6d1c46bed0fc4abc71239a798
Status: Image is up to date for lfedge/eve-uefi:5.6.1
Building and pushing "lfedge/eve-xen-tools:5.6.1"
5.6.1: Pulling from lfedge/eve-xen-tools
Digest: sha256:58deef1c5fe4c159db46049161f9b57a5e50036e5a12e3f13b84b34f475c043a
Status: Image is up to date for lfedge/eve-xen-tools:5.6.1
Building and pushing "lfedge/eve-qrexec-lib:5.6.1"
5.6.1: Pulling from lfedge/eve-qrexec-lib
Digest: sha256:f919e36cd8be6d628dc4385397ea4a218734ad125af921802ed70d4af5dba5f9
Status: Image is up to date for lfedge/eve-qrexec-lib:5.6.1
Building and pushing "lfedge/eve-qrexec-dom0:5.6.1"
5.6.1: Pulling from lfedge/eve-qrexec-dom0
Digest: sha256:bf1e7c93a114c21c238902f7bd0b04a5e3581b644f0b7c7263f80dd2912c5498
Status: Image is up to date for lfedge/eve-qrexec-dom0:5.6.1
Building and pushing "lfedge/eve-rngd:5.6.1"
5.6.1: Pulling from lfedge/eve-rngd
Digest: sha256:94c8c75f7608671390d422b02318ec25ec691119f43fb16f773e4015a8705903
Status: Image is up to date for lfedge/eve-rngd:5.6.1
Building and pushing "lfedge/eve-rsyslog:5.6.1"
5.6.1: Pulling from lfedge/eve-rsyslog
Digest: sha256:f0fa813531d5848bba9e995148291139666d0cfae566bddd95856df8ad8b2928
Status: Image is up to date for lfedge/eve-rsyslog:5.6.1
Building and pushing "lfedge/eve-storage-init:5.6.1"
5.6.1: Pulling from lfedge/eve-storage-init
Digest: sha256:3df035c0305c7e51de26901a4d77fa4743621a43ac9d8121f49fb407529f5606
Status: Image is up to date for lfedge/eve-storage-init:5.6.1
Building and pushing "lfedge/eve-u-boot:5.6.1"
5.6.1: Pulling from lfedge/eve-u-boot
Digest: sha256:c36e1c289b71dfd3ec6d0acf8f73dd4c6496778b3504d77d208e0f41f93216e6
Status: Image is up to date for lfedge/eve-u-boot:5.6.1
Building and pushing "lfedge/eve-vtpm:5.6.1"
5.6.1: Pulling from lfedge/eve-vtpm
Digest: sha256:348feb3204c0ccf7a528b7c98ecef7ccbf45929adbdce247103d7e5608eddd0f
Status: Image is up to date for lfedge/eve-vtpm:5.6.1
Building and pushing "lfedge/eve-watchdog:5.6.1"
5.6.1: Pulling from lfedge/eve-watchdog
Digest: sha256:89374f240840f8e0e3b7be063355240a64c412c874d20b563a736390d79fbcf1
Status: Image is up to date for lfedge/eve-watchdog:5.6.1
Building and pushing "lfedge/eve-wlan:5.6.1"
5.6.1: Pulling from lfedge/eve-wlan
Digest: sha256:a46f506ab33e928b1f805d52b083e554ac2ac2076e233e35fcf0c5b5bfaa3f60
Status: Image is up to date for lfedge/eve-wlan:5.6.1
Building and pushing "lfedge/eve-wwan:5.6.1"
5.6.1: Pulling from lfedge/eve-wwan
Digest: sha256:42d069dd04bb1aa916d47659905305ad405b76b569006fd582ecd98f9b69c34d
Status: Image is up to date for lfedge/eve-wwan:5.6.1
Building and pushing "lfedge/eve-xen:5.6.1"
5.6.1: Pulling from lfedge/eve-xen
Digest: sha256:b08ceaa100c1e564a346f643fcf3c5c89cc1ac97c7068996b6e70dac1515ba0b
Status: Image is up to date for lfedge/eve-xen:5.6.1
Done building packages
rm pkg/qrexec-dom0/Dockerfile pkg/xen-tools/Dockerfile pkg/qrexec-lib/Dockerfile pkg/pillar/Dockerfile
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
mkdir -p /home/zededa-ci/src/eve/dist/arm64
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF.fd
2f8f3990154065977c82c81d10d10d0a3e7d952f85618f2cd6eb43951f30ced5
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_CODE.fd
tar: OVMF_CODE.fd: Not found in archive
tar: Exiting with failure status due to previous errors
103d425ec97d640628baaf3e5a61c23e13123bb3def8b748127ce89c6d53d76c
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_VARS.fd
363f4dc3cb3061662db1276c5c4ca627585e91b51dee567532e1374d9a932067
mkdir -p /home/zededa-ci/src/eve/dist/arm64/installer
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5-arm64 EFI
4e4422ce95e94f025e417c072ad00c44f3a473e2d62d9fce1ac6061533d933a9
./tools/makeconfig.sh /home/zededa-ci/src/eve/dist/arm64/installer/config.img conf/authorized_keys conf/DevicePortConfig conf/grub.cfg conf/onboard.cert.pem conf/onboard.key.pem conf/root-certificate.pem conf/server conf/v2tlsbaseroot-certificates.pem
1024+0 records in
1024+0 records out
mkfs.fat 4.1 (2017-01-24)
/config.img has 64 heads and 32 sectors per track,
hidden sectors 0x0000;
logical sector size is 512,
using 0xf8 media descriptor, with 2048 sectors;
drive number 0x80;
filesystem has 2 12-bit FATs and 4 sectors per cluster.
FAT size is 2 sectors, and provides 502 clusters.
There is 1 reserved sector.
Root directory contains 512 slots and uses 32 sectors.
Volume ID is 86d8db8d, volume label EVE        .
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b-arm64 initrd.img EFI
b9d4c5c528f928fe1fb641bf8a0c865003d8afee86b1cb4129a47f1d8ce5b4e7
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
patching file images/rootfs-rpi.yml.in.sed (read from images/rootfs.yml.in)
./tools/makerootfs.sh images/rootfs-rpi.yml /home/zededa-ci/src/eve/dist/arm64/installer/rootfs-5.6.1-rpi-arm64.squash squash
Extract kernel image: lfedge/eve-new-kernel:5.6.1-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
time="2020-06-20T08:11:16+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/runc:f79954950022fea76b8b6f10de58cb48e4fb3878-arm64
time="2020-06-20T08:11:38+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:11:38+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:11:38+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:32:34 -0700 2020"
time="2020-06-20T08:11:38+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:11:38+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/containerd:6ef473a228db6f6ee163f9b9a051102a1552a4ef-arm64
time="2020-06-20T08:11:59+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:11:59+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:11:59+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Sat Jun 6 08:35:43 -0700 2020"
time="2020-06-20T08:11:59+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:11:59+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/getty:v0.5-arm64
time="2020-06-20T08:12:22+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:12:22+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:12:22+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/memlogd:v0.5-arm64
Process init image: lfedge/eve-grub:5.6.1-arm64
Process init image: lfedge/eve-fw:5.6.1-arm64
Process init image: lfedge/eve-xen:5.6.1-arm64
Process init image: lfedge/eve-gpt-tools:5.6.1-arm64
Process init image: lfedge/eve-dom0-ztools:5.6.1-arm64
Add onboot containers:
  Create OCI config for lfedge/eve-storage-init:5.6.1-arm64
  Create OCI config for linuxkit/sysctl:v0.5-arm64
time="2020-06-20T08:13:23+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:13:23+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-rngd:5.6.1-arm64
  Create OCI config for linuxkit/modprobe:v0.5-arm64
time="2020-06-20T08:13:48+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:13:48+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Add service containers:
  Create OCI config for lfedge/eve-rsyslog:5.6.1-arm64
  Create OCI config for linuxkit/openntpd:v0.5-arm64
time="2020-06-20T08:14:16+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:14:16+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:14:16+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:06:33 -0700 2020"
time="2020-06-20T08:14:16+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:14:16+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:14:16+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for linuxkit/sshd:v0.5-arm64
time="2020-06-20T08:14:37+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T08:14:37+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T08:14:37+02:00" level=warning msg="Error getting targets/justin: targets/justin expired at Fri May 29 15:28:54 +0100 2020"
time="2020-06-20T08:14:37+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:14:37+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-wwan:5.6.1-arm64
  Create OCI config for lfedge/eve-wlan:5.6.1-arm64
  Create OCI config for lfedge/eve-lisp:5.6.1-arm64
  Create OCI config for lfedge/eve-guacd:5.6.1-arm64
  Create OCI config for lfedge/eve-pillar:5.6.1-arm64
  Create OCI config for lfedge/eve-vtpm:5.6.1-arm64
  Create OCI config for lfedge/eve-watchdog:5.6.1-arm64
  Create OCI config for lfedge/eve-xen-tools:5.6.1-arm64
Add files:
  /etc/eve-release
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[==============================================|             ] 17300/21978  78%[=================================================/          ] 18600/21978  84%[===========================================================-] 21978/21978 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 251895.88 Kbytes (245.99 Mbytes)
	32.78% of uncompressed filesystem size (768556.49 Kbytes)
Inode table size 245750 bytes (239.99 Kbytes)
	25.13% of uncompressed inode table size (977807 bytes)
Directory table size 267148 bytes (260.89 Kbytes)
	45.60% of uncompressed directory table size (585898 bytes)
Number of duplicate files found 8705
Number of inodes 25119
Number of files 17146
Number of fragments 750
Number of symbolic links  5903
Number of device nodes 4
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 2066
Number of ids (unique uids + gids) 4
Number of uids 2
	root (0)
	unknown (1000)
Number of gids 4
	root (0)
	shadow (42)
	tty (5)
	unknown (1000)
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-u-boot:478e1045beb5159538f0bef9a38ca2b5824e7f85-arm64 boot
da15de317b633d0ec7140a17d0950cfa083d221e8c650101e9c42895ec969423
cp pkg/eve/build.yml pkg/eve/runme.sh images/*.yml /home/zededa-ci/src/eve/dist/arm64
EVE_HASH=5.6.1 DOCKER_ARCH_TAG=arm64 ./tools/parse-pkgs.sh pkg/eve/Dockerfile.in > /home/zededa-ci/src/eve/dist/arm64/Dockerfile
/home/zededa-ci/src/eve/build-tools/bin/linuxkit pkg push --disable-content-trust --hash-path /home/zededa-ci/src/eve --hash 5.6.1-rpi --release latest --force --disable-cache /home/zededa-ci/src/eve/dist/arm64
Building and pushing "lfedge/eve:5.6.1-rpi"
Sending build context to Docker daemon    274MB
Step 1/17 : FROM alpine:3.9.4 as tools
 ---> ce544de9ee2c
Step 2/17 : RUN mkdir -p /out/etc/apk /out/boot && cp -r /etc/apk/* /out/etc/apk/
 ---> Running in d70a80bed94f
 ---> b9d94cb7ba53
Removing intermediate container d70a80bed94f
Step 3/17 : RUN apk add --no-cache --initdb -p /out qemu-img=3.1.0-r3 tar=1.32-r0
 ---> Running in 33b03e85ed97
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/aarch64/APKINDEX.tar.gz
(1/19) Installing libaio (0.3.111-r0)
(2/19) Installing musl (1.1.20-r5)
(3/19) Installing busybox (1.29.3-r10)
Executing busybox-1.29.3-r10.post-install
(4/19) Installing libffi (3.2.1-r6)
(5/19) Installing libintl (0.19.8.1-r4)
(6/19) Installing libuuid (2.33-r0)
(7/19) Installing libblkid (2.33-r0)
(8/19) Installing libmount (2.33-r0)
(9/19) Installing pcre (8.42-r1)
(10/19) Installing zlib (1.2.11-r1)
(11/19) Installing glib (2.58.1-r3)
(12/19) Installing gmp (6.1.2-r1)
(13/19) Installing nettle (3.4.1-r0)
(14/19) Installing p11-kit (0.23.14-r0)
(15/19) Installing libtasn1 (4.14-r0)
(16/19) Installing libunistring (0.9.10-r0)
(17/19) Installing gnutls (3.6.14-r0)
(18/19) Installing qemu-img (3.1.0-r3)
(19/19) Installing tar (1.32-r0)
Executing busybox-1.29.3-r10.trigger
Executing glib-2.58.1-r3.trigger
OK: 16 MiB in 19 packages
 ---> e96aa92195a8
Removing intermediate container 33b03e85ed97
Step 4/17 : FROM lfedge/eve-mkimage-iso-efi:5.6.1-arm64 as iso
 ---> 6367126336f3
Step 5/17 : FROM lfedge/eve-mkimage-raw-efi:5.6.1-arm64 as raw
 ---> 1e46d6e1a3d1
Step 6/17 : RUN rm /initrd.img
 ---> Running in f8227d3ecbab
 ---> 465dc475aa57
Removing intermediate container f8227d3ecbab
Step 7/17 : FROM lfedge/eve-mkconf:5.6.1-arm64 as conf
 ---> 42b86ded0f7e
Step 8/17 : COPY --from=iso / /
 ---> 0a23b68ba1f0
Step 9/17 : COPY --from=raw / /
 ---> 6bf2af0ca8e6
Step 10/17 : COPY --from=tools /out/ /
 ---> ce778a6a240e
Step 11/17 : COPY installer /bits
 ---> 5268ca6b9bf2
Step 12/17 : COPY OVMF* /firmware/
 ---> 733cb47d6722
Step 13/17 : COPY runme.sh /
 ---> 1fc40ffcdc0c
Step 14/17 : RUN mkdir /in /out
 ---> Running in 2d01a33538ab
 ---> 62260f0fcdf8
Removing intermediate container 2d01a33538ab
Step 15/17 : WORKDIR /bits
 ---> 20e959db3090
Removing intermediate container 17849a172edd
Step 16/17 : ENTRYPOINT /runme.sh
 ---> Running in ee9b61121b81
 ---> 4594ea799f81
Removing intermediate container ee9b61121b81
Step 17/17 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'b9f5fbf4f631d4bd3df5a1e22ccd09c537422c5a' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 29d56baf586d
 ---> 881dd8ab40ca
Removing intermediate container 29d56baf586d
Successfully built 881dd8ab40ca
Successfully tagged lfedge/eve:5.6.1-rpi-arm64
Pushing lfedge/eve:5.6.1-rpi-arm64
The push refers to a repository [docker.io/lfedge/eve]
34a546e637a6: Preparing
c930ba8e927b: Preparing
d4b5a97cff1a: Preparing
85e43fbd5b29: Preparing
df463db49404: Preparing
a41d2d8ba0b6: Preparing
144a7a8118c4: Preparing
591aad82f13c: Preparing
a41d2d8ba0b6: Waiting
591aad82f13c: Waiting
144a7a8118c4: Waiting
c930ba8e927b: Pushed
34a546e637a6: Pushed
d4b5a97cff1a: Pushed
a41d2d8ba0b6: Layer already exists
144a7a8118c4: Layer already exists
591aad82f13c: Layer already exists
df463db49404: Pushed
85e43fbd5b29: Pushed
5.6.1-rpi-arm64: digest: sha256:a964c2c720a21c72b73c10c385497d01d7c4980d1d8c4638b789f11d9e27d1b2 size: 1999
Pushing lfedge/eve:5.6.1-rpi-arm64 to manifest lfedge/eve:5.6.1-rpi
time="2020-06-20T08:20:13+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:5.6.1-rpi-amd64\". Skipping image."
time="2020-06-20T08:20:16+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:5.6.1-rpi-s390x\". Skipping image."
Digest: sha256:c4f1e105dcca5cb57aa3d82b8f69f9cc530b398fd52199fdd72edbe57091dbd4 434
Not signing lfedge/eve:5.6.1-rpi
Tagging lfedge/eve:5.6.1-rpi-arm64 as lfedge/eve:latest-arm64
Pushing lfedge/eve:latest-arm64
The push refers to a repository [docker.io/lfedge/eve]
34a546e637a6: Preparing
c930ba8e927b: Preparing
d4b5a97cff1a: Preparing
85e43fbd5b29: Preparing
df463db49404: Preparing
a41d2d8ba0b6: Preparing
144a7a8118c4: Preparing
591aad82f13c: Preparing
a41d2d8ba0b6: Waiting
144a7a8118c4: Waiting
591aad82f13c: Waiting
34a546e637a6: Layer already exists
85e43fbd5b29: Layer already exists
c930ba8e927b: Layer already exists
d4b5a97cff1a: Layer already exists
df463db49404: Layer already exists
a41d2d8ba0b6: Layer already exists
144a7a8118c4: Layer already exists
591aad82f13c: Layer already exists
latest-arm64: digest: sha256:a964c2c720a21c72b73c10c385497d01d7c4980d1d8c4638b789f11d9e27d1b2 size: 1999
Pushing lfedge/eve:latest-arm64 to manifest lfedge/eve:latest
time="2020-06-20T08:20:40+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:latest-s390x\". Skipping image."
Digest: sha256:c113cdf9ae284bf8ebb4f47cf0f1f12ccecb34986f6cb5671ca1e789d97f9c36 743
Not signing lfedge/eve:latest
Build, push and release of "latest" complete, all done.
rm images/rootfs-rpi.yml.in images/rootfs-rpi.yml
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
mkdir -p /home/zededa-ci/src/eve/dist/arm64
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF.fd
ec68bd8cc82677c26baefa6f9e5de34496ee7c13e730d11dac01f8d74002c1ce
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_CODE.fd
tar: OVMF_CODE.fd: Not found in archive
tar: Exiting with failure status due to previous errors
881cc1e377ad51a45264cbc61b50eaa3cc6751b9f9440baaa0ae81825cea2310
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_VARS.fd
7c868a8dc408233aae5a04b82574c4bef49871fe2966717adbed42fda7ab8472
mkdir -p /home/zededa-ci/src/eve/dist/arm64/installer
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5-arm64 EFI
1e0bde37514f74c682c113972b800ff700d785a6fa98df056fe371d33cf6134c
./tools/makeconfig.sh /home/zededa-ci/src/eve/dist/arm64/installer/config.img conf/authorized_keys conf/DevicePortConfig conf/grub.cfg conf/onboard.cert.pem conf/onboard.key.pem conf/root-certificate.pem conf/server conf/v2tlsbaseroot-certificates.pem
1024+0 records in
1024+0 records out
mkfs.fat 4.1 (2017-01-24)
/config.img has 64 heads and 32 sectors per track,
hidden sectors 0x0000;
logical sector size is 512,
using 0xf8 media descriptor, with 2048 sectors;
drive number 0x80;
filesystem has 2 12-bit FATs and 4 sectors per cluster.
FAT size is 2 sectors, and provides 502 clusters.
There is 1 reserved sector.
Root directory contains 512 slots and uses 32 sectors.
Volume ID is ac78ac07, volume label EVE        .
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b-arm64 initrd.img EFI
40746cfbc2c1322486002cfe8d3c7a1432e667b0626eb1fb21811e5320a8c81c
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
patching file images/rootfs-rpi-kvm.yml.in.sed (read from images/rootfs.yml.in)
./tools/makerootfs.sh images/rootfs-rpi-kvm.yml /home/zededa-ci/src/eve/dist/arm64/installer/rootfs-5.6.1-rpi-kvm-arm64.squash squash
Extract kernel image: lfedge/eve-new-kernel:5.6.1-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
time="2020-06-20T08:21:12+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/runc:f79954950022fea76b8b6f10de58cb48e4fb3878-arm64
time="2020-06-20T08:21:32+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:21:32+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:21:32+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:32:34 -0700 2020"
time="2020-06-20T08:21:32+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:21:32+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/containerd:6ef473a228db6f6ee163f9b9a051102a1552a4ef-arm64
time="2020-06-20T08:21:54+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:21:54+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:21:54+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Sat Jun 6 08:35:43 -0700 2020"
time="2020-06-20T08:21:54+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:21:54+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/getty:v0.5-arm64
time="2020-06-20T08:22:14+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:22:14+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:22:14+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/memlogd:v0.5-arm64
Process init image: lfedge/eve-grub:5.6.1-arm64
Process init image: lfedge/eve-fw:5.6.1-arm64
Process init image: lfedge/eve-xen:5.6.1-arm64
Process init image: lfedge/eve-gpt-tools:5.6.1-arm64
Process init image: lfedge/eve-dom0-ztools:5.6.1-arm64
Add onboot containers:
  Create OCI config for lfedge/eve-storage-init:5.6.1-arm64
  Create OCI config for linuxkit/sysctl:v0.5-arm64
time="2020-06-20T08:23:08+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:23:08+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-rngd:5.6.1-arm64
  Create OCI config for linuxkit/modprobe:v0.5-arm64
time="2020-06-20T08:23:43+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:23:43+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
Add service containers:
  Create OCI config for lfedge/eve-rsyslog:5.6.1-arm64
  Create OCI config for linuxkit/openntpd:v0.5-arm64
time="2020-06-20T08:24:11+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:24:11+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:24:11+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:06:33 -0700 2020"
time="2020-06-20T08:24:11+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:24:11+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:24:11+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for linuxkit/sshd:v0.5-arm64
time="2020-06-20T08:24:33+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T08:24:33+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T08:24:33+02:00" level=warning msg="Error getting targets/justin: targets/justin expired at Fri May 29 15:28:54 +0100 2020"
time="2020-06-20T08:24:33+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:24:33+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-wwan:5.6.1-arm64
  Create OCI config for lfedge/eve-wlan:5.6.1-arm64
  Create OCI config for lfedge/eve-lisp:5.6.1-arm64
  Create OCI config for lfedge/eve-guacd:5.6.1-arm64
  Create OCI config for lfedge/eve-pillar:5.6.1-arm64
  Create OCI config for lfedge/eve-vtpm:5.6.1-arm64
  Create OCI config for lfedge/eve-watchdog:5.6.1-arm64
  Create OCI config for lfedge/eve-xen-tools:5.6.1-arm64
Add files:
  /etc/eve-release
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[========================-                                   ]  9300/21978  42%[=======================================\                    ] 14600/21978  66%[===========================================================\] 21978/21978 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 251895.84 Kbytes (245.99 Mbytes)
	32.78% of uncompressed filesystem size (768556.50 Kbytes)
Inode table size 245728 bytes (239.97 Kbytes)
	25.13% of uncompressed inode table size (977807 bytes)
Directory table size 267127 bytes (260.87 Kbytes)
	45.59% of uncompressed directory table size (585898 bytes)
Number of duplicate files found 8705
Number of inodes 25119
Number of files 17146
Number of fragments 750
Number of symbolic links  5903
Number of device nodes 4
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 2066
Number of ids (unique uids + gids) 4
Number of uids 2
	root (0)
	unknown (1000)
Number of gids 4
	root (0)
	shadow (42)
	tty (5)
	unknown (1000)
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-u-boot:478e1045beb5159538f0bef9a38ca2b5824e7f85-arm64 boot
7eee75bf49ae0d2545b1c72020762ee750432abebce0176ebde198ef938d3eeb
cp pkg/eve/build.yml pkg/eve/runme.sh images/*.yml /home/zededa-ci/src/eve/dist/arm64
EVE_HASH=5.6.1 DOCKER_ARCH_TAG=arm64 ./tools/parse-pkgs.sh pkg/eve/Dockerfile.in > /home/zededa-ci/src/eve/dist/arm64/Dockerfile
/home/zededa-ci/src/eve/build-tools/bin/linuxkit pkg push --disable-content-trust --hash-path /home/zededa-ci/src/eve --hash 5.6.1-rpi-kvm --release latest --force --disable-cache /home/zededa-ci/src/eve/dist/arm64
Building and pushing "lfedge/eve:5.6.1-rpi-kvm"
Sending build context to Docker daemon    274MB
Step 1/17 : FROM alpine:3.9.4 as tools
 ---> ce544de9ee2c
Step 2/17 : RUN mkdir -p /out/etc/apk /out/boot && cp -r /etc/apk/* /out/etc/apk/
 ---> Running in 97a976db6e47
 ---> 2ff2ce86eaf3
Removing intermediate container 97a976db6e47
Step 3/17 : RUN apk add --no-cache --initdb -p /out qemu-img=3.1.0-r3 tar=1.32-r0
 ---> Running in 19e7604a23ad
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/aarch64/APKINDEX.tar.gz
(1/19) Installing libaio (0.3.111-r0)
(2/19) Installing musl (1.1.20-r5)
(3/19) Installing busybox (1.29.3-r10)
Executing busybox-1.29.3-r10.post-install
(4/19) Installing libffi (3.2.1-r6)
(5/19) Installing libintl (0.19.8.1-r4)
(6/19) Installing libuuid (2.33-r0)
(7/19) Installing libblkid (2.33-r0)
(8/19) Installing libmount (2.33-r0)
(9/19) Installing pcre (8.42-r1)
(10/19) Installing zlib (1.2.11-r1)
(11/19) Installing glib (2.58.1-r3)
(12/19) Installing gmp (6.1.2-r1)
(13/19) Installing nettle (3.4.1-r0)
(14/19) Installing p11-kit (0.23.14-r0)
(15/19) Installing libtasn1 (4.14-r0)
(16/19) Installing libunistring (0.9.10-r0)
(17/19) Installing gnutls (3.6.14-r0)
(18/19) Installing qemu-img (3.1.0-r3)
(19/19) Installing tar (1.32-r0)
Executing busybox-1.29.3-r10.trigger
Executing glib-2.58.1-r3.trigger
OK: 16 MiB in 19 packages
 ---> f0c1998ede11
Removing intermediate container 19e7604a23ad
Step 4/17 : FROM lfedge/eve-mkimage-iso-efi:5.6.1-arm64 as iso
 ---> 6367126336f3
Step 5/17 : FROM lfedge/eve-mkimage-raw-efi:5.6.1-arm64 as raw
 ---> 1e46d6e1a3d1
Step 6/17 : RUN rm /initrd.img
 ---> Running in 8fbe36029244
 ---> 4a0fc9574595
Removing intermediate container 8fbe36029244
Step 7/17 : FROM lfedge/eve-mkconf:5.6.1-arm64 as conf
 ---> 42b86ded0f7e
Step 8/17 : COPY --from=iso / /
 ---> 9194e9d4ee15
Step 9/17 : COPY --from=raw / /
 ---> daacad14b73f
Step 10/17 : COPY --from=tools /out/ /
 ---> e619954f9b76
Step 11/17 : COPY installer /bits
 ---> 5540c3bd698a
Step 12/17 : COPY OVMF* /firmware/
 ---> 95e77c448ecd
Step 13/17 : COPY runme.sh /
 ---> 3bbe69c47bea
Step 14/17 : RUN mkdir /in /out
 ---> Running in c0ea1782db96
 ---> 8e21cc26bec1
Removing intermediate container c0ea1782db96
Step 15/17 : WORKDIR /bits
 ---> fb6637c12b62
Removing intermediate container 0fdd4c6339ea
Step 16/17 : ENTRYPOINT /runme.sh
 ---> Running in c3dda78d8b01
 ---> 51557c1b39ea
Removing intermediate container c3dda78d8b01
Step 17/17 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'b9f5fbf4f631d4bd3df5a1e22ccd09c537422c5a' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in ddfaac7cf5da
 ---> 11a145537865
Removing intermediate container ddfaac7cf5da
Successfully built 11a145537865
Successfully tagged lfedge/eve:5.6.1-rpi-kvm-arm64
Pushing lfedge/eve:5.6.1-rpi-kvm-arm64
The push refers to a repository [docker.io/lfedge/eve]
f4738183e57c: Preparing
2ac2a1741096: Preparing
21df2c5f91a0: Preparing
430693893ce4: Preparing
68b95f8822a7: Preparing
a41d2d8ba0b6: Preparing
144a7a8118c4: Preparing
591aad82f13c: Preparing
144a7a8118c4: Waiting
a41d2d8ba0b6: Waiting
f4738183e57c: Pushed
2ac2a1741096: Pushed
21df2c5f91a0: Pushed
a41d2d8ba0b6: Layer already exists
144a7a8118c4: Layer already exists
591aad82f13c: Layer already exists
68b95f8822a7: Pushed
430693893ce4: Pushed
5.6.1-rpi-kvm-arm64: digest: sha256:ad5b05966a20ea27d1c80ce3009e2f2ab311d32889dc42a4b0348da5f5fa7c1e size: 1999
Pushing lfedge/eve:5.6.1-rpi-kvm-arm64 to manifest lfedge/eve:5.6.1-rpi-kvm
time="2020-06-20T08:30:02+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:5.6.1-rpi-kvm-amd64\". Skipping image."
time="2020-06-20T08:30:05+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:5.6.1-rpi-kvm-s390x\". Skipping image."
Digest: sha256:fa74a618c21d3e458ac0482a66bdbe25f4b702396cfeb7b7fd2b261295d8770d 434
Not signing lfedge/eve:5.6.1-rpi-kvm
Tagging lfedge/eve:5.6.1-rpi-kvm-arm64 as lfedge/eve:latest-arm64
Pushing lfedge/eve:latest-arm64
The push refers to a repository [docker.io/lfedge/eve]
f4738183e57c: Preparing
2ac2a1741096: Preparing
21df2c5f91a0: Preparing
430693893ce4: Preparing
68b95f8822a7: Preparing
a41d2d8ba0b6: Preparing
144a7a8118c4: Preparing
591aad82f13c: Preparing
a41d2d8ba0b6: Waiting
144a7a8118c4: Waiting
591aad82f13c: Waiting
430693893ce4: Layer already exists
f4738183e57c: Layer already exists
21df2c5f91a0: Layer already exists
68b95f8822a7: Layer already exists
2ac2a1741096: Layer already exists
a41d2d8ba0b6: Layer already exists
591aad82f13c: Layer already exists
144a7a8118c4: Layer already exists
latest-arm64: digest: sha256:ad5b05966a20ea27d1c80ce3009e2f2ab311d32889dc42a4b0348da5f5fa7c1e size: 1999
Pushing lfedge/eve:latest-arm64 to manifest lfedge/eve:latest
time="2020-06-20T08:30:29+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:latest-s390x\". Skipping image."
Digest: sha256:ba9dcb457905b7532e40f716b770ae5b5c2bd70093c86195a932dc27918b3bff 743
Not signing lfedge/eve:latest
Build, push and release of "latest" complete, all done.
rm images/rootfs-rpi-kvm.yml images/rootfs-rpi-kvm.yml.in
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
mkdir -p /home/zededa-ci/src/eve/dist/arm64
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF.fd
0a5382664b8f22854d7c505aa873d48d3aa54e965b2a29f87847ef0077370539
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_CODE.fd
tar: OVMF_CODE.fd: Not found in archive
tar: Exiting with failure status due to previous errors
8bbc6bfcceba0b8ad4fcd6376d4891c16e2d3f5aba9634fd8c266f009b884fee
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_VARS.fd
ba4e22394c6e8dc64f07eac0b3866e840a346604f46a6d4eb456f125bbc1998f
mkdir -p /home/zededa-ci/src/eve/dist/arm64/installer
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5-arm64 EFI
4b0799781afd763605b0a68d021407c6af7bd5407b1bf7bf7c10fca7cb1070ae
./tools/makeconfig.sh /home/zededa-ci/src/eve/dist/arm64/installer/config.img conf/authorized_keys conf/DevicePortConfig conf/grub.cfg conf/onboard.cert.pem conf/onboard.key.pem conf/root-certificate.pem conf/server conf/v2tlsbaseroot-certificates.pem
1024+0 records in
1024+0 records out
mkfs.fat 4.1 (2017-01-24)
/config.img has 64 heads and 32 sectors per track,
hidden sectors 0x0000;
logical sector size is 512,
using 0xf8 media descriptor, with 2048 sectors;
drive number 0x80;
filesystem has 2 12-bit FATs and 4 sectors per cluster.
FAT size is 2 sectors, and provides 502 clusters.
There is 1 reserved sector.
Root directory contains 512 slots and uses 32 sectors.
Volume ID is d19b1be2, volume label EVE        .
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b-arm64 initrd.img EFI
b294072ddb86cee9816d4f64c8b369daee822bf5e17e3f1dca64dc17adfd21e1
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
./tools/makerootfs.sh images/rootfs-kvm.yml /home/zededa-ci/src/eve/dist/arm64/installer/rootfs-5.6.1-kvm-arm64.squash squash
Extract kernel image: lfedge/eve-kernel:5.6.1-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
time="2020-06-20T08:31:09+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/runc:f79954950022fea76b8b6f10de58cb48e4fb3878-arm64
time="2020-06-20T08:31:29+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:31:29+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:31:29+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:32:34 -0700 2020"
time="2020-06-20T08:31:29+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:31:29+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/containerd:6ef473a228db6f6ee163f9b9a051102a1552a4ef-arm64
time="2020-06-20T08:31:52+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:31:52+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:31:52+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Sat Jun 6 08:35:43 -0700 2020"
time="2020-06-20T08:31:52+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:31:52+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/getty:v0.5-arm64
time="2020-06-20T08:32:14+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:32:14+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:32:14+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/memlogd:v0.5-arm64
Process init image: lfedge/eve-grub:5.6.1-arm64
Process init image: lfedge/eve-fw:5.6.1-arm64
Process init image: lfedge/eve-xen:5.6.1-arm64
Process init image: lfedge/eve-gpt-tools:5.6.1-arm64
Process init image: lfedge/eve-dom0-ztools:5.6.1-arm64
Add onboot containers:
  Create OCI config for lfedge/eve-storage-init:5.6.1-arm64
  Create OCI config for linuxkit/sysctl:v0.5-arm64
time="2020-06-20T08:33:09+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:33:09+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-rngd:5.6.1-arm64
  Create OCI config for linuxkit/modprobe:v0.5-arm64
time="2020-06-20T08:33:31+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:33:31+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
Add service containers:
  Create OCI config for lfedge/eve-rsyslog:5.6.1-arm64
  Create OCI config for linuxkit/openntpd:v0.5-arm64
time="2020-06-20T08:33:52+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:33:52+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:33:52+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:06:33 -0700 2020"
time="2020-06-20T08:33:52+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:33:52+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:33:52+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for linuxkit/sshd:v0.5-arm64
time="2020-06-20T08:34:11+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T08:34:11+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T08:34:11+02:00" level=warning msg="Error getting targets/justin: targets/justin expired at Fri May 29 15:28:54 +0100 2020"
time="2020-06-20T08:34:11+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:34:11+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-wwan:5.6.1-arm64
  Create OCI config for lfedge/eve-wlan:5.6.1-arm64
  Create OCI config for lfedge/eve-lisp:5.6.1-arm64
  Create OCI config for lfedge/eve-guacd:5.6.1-arm64
  Create OCI config for lfedge/eve-pillar:5.6.1-arm64
  Create OCI config for lfedge/eve-vtpm:5.6.1-arm64
  Create OCI config for lfedge/eve-watchdog:5.6.1-arm64
  Create OCI config for lfedge/eve-xen-tools:5.6.1-arm64
Add files:
  /etc/eve-release
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[=======================|                                    ]  8600/21411  40%[===============================================\            ] 17200/21411  80%[===============================================|            ] 17400/21411  81%[================================================|           ] 17700/21411  82%[===========================================================-] 21411/21411 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 246711.90 Kbytes (240.93 Mbytes)
	33.08% of uncompressed filesystem size (745853.15 Kbytes)
Inode table size 241902 bytes (236.23 Kbytes)
	25.11% of uncompressed inode table size (963383 bytes)
Directory table size 261396 bytes (255.27 Kbytes)
	45.57% of uncompressed directory table size (573667 bytes)
Number of duplicate files found 8705
Number of inodes 24679
Number of files 16735
Number of fragments 678
Number of symbolic links  5903
Number of device nodes 4
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 2037
Number of ids (unique uids + gids) 4
Number of uids 2
	root (0)
	unknown (1000)
Number of gids 4
	root (0)
	shadow (42)
	tty (5)
	unknown (1000)
cp pkg/eve/build.yml pkg/eve/runme.sh images/*.yml /home/zededa-ci/src/eve/dist/arm64
EVE_HASH=5.6.1 DOCKER_ARCH_TAG=arm64 ./tools/parse-pkgs.sh pkg/eve/Dockerfile.in > /home/zededa-ci/src/eve/dist/arm64/Dockerfile
/home/zededa-ci/src/eve/build-tools/bin/linuxkit pkg push --disable-content-trust --hash-path /home/zededa-ci/src/eve --hash 5.6.1-kvm --release latest --force --disable-cache /home/zededa-ci/src/eve/dist/arm64
Building and pushing "lfedge/eve:5.6.1-kvm"
Sending build context to Docker daemon  265.3MB
Step 1/17 : FROM alpine:3.9.4 as tools
 ---> ce544de9ee2c
Step 2/17 : RUN mkdir -p /out/etc/apk /out/boot && cp -r /etc/apk/* /out/etc/apk/
 ---> Running in 3f1e2f3b8e38
 ---> 8320e562c8c5
Removing intermediate container 3f1e2f3b8e38
Step 3/17 : RUN apk add --no-cache --initdb -p /out qemu-img=3.1.0-r3 tar=1.32-r0
 ---> Running in a756f84bf40c
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/aarch64/APKINDEX.tar.gz
(1/19) Installing libaio (0.3.111-r0)
(2/19) Installing musl (1.1.20-r5)
(3/19) Installing busybox (1.29.3-r10)
Executing busybox-1.29.3-r10.post-install
(4/19) Installing libffi (3.2.1-r6)
(5/19) Installing libintl (0.19.8.1-r4)
(6/19) Installing libuuid (2.33-r0)
(7/19) Installing libblkid (2.33-r0)
(8/19) Installing libmount (2.33-r0)
(9/19) Installing pcre (8.42-r1)
(10/19) Installing zlib (1.2.11-r1)
(11/19) Installing glib (2.58.1-r3)
(12/19) Installing gmp (6.1.2-r1)
(13/19) Installing nettle (3.4.1-r0)
(14/19) Installing p11-kit (0.23.14-r0)
(15/19) Installing libtasn1 (4.14-r0)
(16/19) Installing libunistring (0.9.10-r0)
(17/19) Installing gnutls (3.6.14-r0)
(18/19) Installing qemu-img (3.1.0-r3)
(19/19) Installing tar (1.32-r0)
Executing busybox-1.29.3-r10.trigger
Executing glib-2.58.1-r3.trigger
OK: 16 MiB in 19 packages
 ---> 40fe8d5971c8
Removing intermediate container a756f84bf40c
Step 4/17 : FROM lfedge/eve-mkimage-iso-efi:5.6.1-arm64 as iso
 ---> 6367126336f3
Step 5/17 : FROM lfedge/eve-mkimage-raw-efi:5.6.1-arm64 as raw
 ---> 1e46d6e1a3d1
Step 6/17 : RUN rm /initrd.img
 ---> Running in 806beb949aaa
 ---> a376e3d0dd57
Removing intermediate container 806beb949aaa
Step 7/17 : FROM lfedge/eve-mkconf:5.6.1-arm64 as conf
 ---> 42b86ded0f7e
Step 8/17 : COPY --from=iso / /
 ---> a632359a83bb
Step 9/17 : COPY --from=raw / /
 ---> 14e9065ebf4d
Step 10/17 : COPY --from=tools /out/ /
 ---> 210851d3adb2
Step 11/17 : COPY installer /bits
 ---> 53dccc731304
Step 12/17 : COPY OVMF* /firmware/
 ---> 59aa31825d92
Step 13/17 : COPY runme.sh /
 ---> 5613ff577e48
Step 14/17 : RUN mkdir /in /out
 ---> Running in 26187f67f6e8
 ---> 6c5a43499ffb
Removing intermediate container 26187f67f6e8
Step 15/17 : WORKDIR /bits
 ---> ded8f4c5fdc4
Removing intermediate container b298a3a0f2c6
Step 16/17 : ENTRYPOINT /runme.sh
 ---> Running in df404443ed16
 ---> 96e59c7ca8f7
Removing intermediate container df404443ed16
Step 17/17 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'b9f5fbf4f631d4bd3df5a1e22ccd09c537422c5a' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 2ebc841a062c
 ---> d59aa996aaed
Removing intermediate container 2ebc841a062c
Successfully built d59aa996aaed
Successfully tagged lfedge/eve:5.6.1-kvm-arm64
Pushing lfedge/eve:5.6.1-kvm-arm64
The push refers to a repository [docker.io/lfedge/eve]
de90d78c29c4: Preparing
a4a82e2a369e: Preparing
9c3abfe20fd7: Preparing
f3752030ff33: Preparing
ffcddd1c7515: Preparing
a41d2d8ba0b6: Preparing
144a7a8118c4: Preparing
591aad82f13c: Preparing
a41d2d8ba0b6: Waiting
591aad82f13c: Waiting
144a7a8118c4: Waiting
de90d78c29c4: Pushed
a4a82e2a369e: Pushed
a41d2d8ba0b6: Layer already exists
144a7a8118c4: Layer already exists
591aad82f13c: Layer already exists
9c3abfe20fd7: Pushed
ffcddd1c7515: Pushed
f3752030ff33: Pushed
5.6.1-kvm-arm64: digest: sha256:0af3ea137600693d576f1ea500e2737f44bc76cdbb174566acd3a3bec48e5bd0 size: 1999
Pushing lfedge/eve:5.6.1-kvm-arm64 to manifest lfedge/eve:5.6.1-kvm
time="2020-06-20T08:39:36+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:5.6.1-kvm-s390x\". Skipping image."
Digest: sha256:4909b98b60bef558e928fa50c7934a051253d4b8d44d15d4fe99122082af7639 743
Not signing lfedge/eve:5.6.1-kvm
Tagging lfedge/eve:5.6.1-kvm-arm64 as lfedge/eve:latest-arm64
Pushing lfedge/eve:latest-arm64
The push refers to a repository [docker.io/lfedge/eve]
de90d78c29c4: Preparing
a4a82e2a369e: Preparing
9c3abfe20fd7: Preparing
f3752030ff33: Preparing
ffcddd1c7515: Preparing
a41d2d8ba0b6: Preparing
144a7a8118c4: Preparing
591aad82f13c: Preparing
a41d2d8ba0b6: Waiting
144a7a8118c4: Waiting
591aad82f13c: Waiting
9c3abfe20fd7: Layer already exists
a4a82e2a369e: Layer already exists
f3752030ff33: Layer already exists
de90d78c29c4: Layer already exists
ffcddd1c7515: Layer already exists
a41d2d8ba0b6: Layer already exists
591aad82f13c: Layer already exists
144a7a8118c4: Layer already exists
latest-arm64: digest: sha256:0af3ea137600693d576f1ea500e2737f44bc76cdbb174566acd3a3bec48e5bd0 size: 1999
Pushing lfedge/eve:latest-arm64 to manifest lfedge/eve:latest
time="2020-06-20T08:39:59+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:latest-s390x\". Skipping image."
Digest: sha256:7e22cb6293eb913f168a0c031af0233df96f17ff4d94365e1d9af2c2f4770cfd 743
Not signing lfedge/eve:latest
Build, push and release of "latest" complete, all done.
rm images/rootfs-kvm.yml images/rootfs-kvm.yml.in
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
mkdir -p /home/zededa-ci/src/eve/dist/arm64
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF.fd
a164bc72ba2b1aa0b70bd2e80079369ee026d3696bd38e683294ac9372c647aa
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_CODE.fd
tar: OVMF_CODE.fd: Not found in archive
tar: Exiting with failure status due to previous errors
ca8619fec0ad9fc24cba7f49a83c04859616dcd78c511404728062bdbb125201
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_VARS.fd
af781887783e865b8de1007be778c6b96ad77e5fccde8025d7768abcdb844d56
mkdir -p /home/zededa-ci/src/eve/dist/arm64/installer
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5-arm64 EFI
84e048f2b4ef83f6a78af55439a7745510bcc17edc6b62ffc4c1c4354312a9fc
./tools/makeconfig.sh /home/zededa-ci/src/eve/dist/arm64/installer/config.img conf/authorized_keys conf/DevicePortConfig conf/grub.cfg conf/onboard.cert.pem conf/onboard.key.pem conf/root-certificate.pem conf/server conf/v2tlsbaseroot-certificates.pem
1024+0 records in
1024+0 records out
mkfs.fat 4.1 (2017-01-24)
/config.img has 64 heads and 32 sectors per track,
hidden sectors 0x0000;
logical sector size is 512,
using 0xf8 media descriptor, with 2048 sectors;
drive number 0x80;
filesystem has 2 12-bit FATs and 4 sectors per cluster.
FAT size is 2 sectors, and provides 502 clusters.
There is 1 reserved sector.
Root directory contains 512 slots and uses 32 sectors.
Volume ID is f4be1df6, volume label EVE        .
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b-arm64 initrd.img EFI
faf65b4f32301d8cd2b82e630a20b4583c3bb1eb737c18415401012d25796745
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
./tools/makerootfs.sh images/rootfs-xen.yml /home/zededa-ci/src/eve/dist/arm64/installer/rootfs-5.6.1-xen-arm64.squash squash
Extract kernel image: lfedge/eve-kernel:5.6.1-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
time="2020-06-20T08:40:27+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/runc:f79954950022fea76b8b6f10de58cb48e4fb3878-arm64
time="2020-06-20T08:40:47+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:40:47+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:40:47+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:32:34 -0700 2020"
time="2020-06-20T08:40:47+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:40:47+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/containerd:6ef473a228db6f6ee163f9b9a051102a1552a4ef-arm64
time="2020-06-20T08:41:07+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:41:07+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:41:07+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Sat Jun 6 08:35:43 -0700 2020"
time="2020-06-20T08:41:07+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:41:07+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/getty:v0.5-arm64
time="2020-06-20T08:41:27+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:41:27+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:41:27+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/memlogd:v0.5-arm64
Process init image: lfedge/eve-grub:5.6.1-arm64
Process init image: lfedge/eve-fw:5.6.1-arm64
Process init image: lfedge/eve-xen:5.6.1-arm64
Process init image: lfedge/eve-gpt-tools:5.6.1-arm64
Process init image: lfedge/eve-dom0-ztools:5.6.1-arm64
Add onboot containers:
  Create OCI config for lfedge/eve-storage-init:5.6.1-arm64
  Create OCI config for linuxkit/sysctl:v0.5-arm64
time="2020-06-20T08:42:19+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:42:19+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-rngd:5.6.1-arm64
  Create OCI config for linuxkit/modprobe:v0.5-arm64
time="2020-06-20T08:42:41+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:42:41+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Add service containers:
  Create OCI config for lfedge/eve-rsyslog:5.6.1-arm64
  Create OCI config for linuxkit/openntpd:v0.5-arm64
time="2020-06-20T08:43:03+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:43:03+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T08:43:03+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:06:33 -0700 2020"
time="2020-06-20T08:43:03+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:43:03+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:43:03+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for linuxkit/sshd:v0.5-arm64
time="2020-06-20T08:43:22+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T08:43:23+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T08:43:23+02:00" level=warning msg="Error getting targets/justin: targets/justin expired at Fri May 29 15:28:54 +0100 2020"
time="2020-06-20T08:43:23+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T08:43:23+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-wwan:5.6.1-arm64
  Create OCI config for lfedge/eve-wlan:5.6.1-arm64
  Create OCI config for lfedge/eve-lisp:5.6.1-arm64
  Create OCI config for lfedge/eve-guacd:5.6.1-arm64
  Create OCI config for lfedge/eve-pillar:5.6.1-arm64
  Create OCI config for lfedge/eve-vtpm:5.6.1-arm64
  Create OCI config for lfedge/eve-watchdog:5.6.1-arm64
  Create OCI config for lfedge/eve-xen-tools:5.6.1-arm64
Add files:
  /etc/eve-release
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[=======================|                                    ]  8600/21411  40%[===============================================/            ] 17300/21411  80%[================================================\           ] 17500/21411  81%[===========================================================/] 21411/21411 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 246711.91 Kbytes (240.93 Mbytes)
	33.08% of uncompressed filesystem size (745853.15 Kbytes)
Inode table size 241904 bytes (236.23 Kbytes)
	25.11% of uncompressed inode table size (963383 bytes)
Directory table size 261396 bytes (255.27 Kbytes)
	45.57% of uncompressed directory table size (573667 bytes)
Number of duplicate files found 8705
Number of inodes 24679
Number of files 16735
Number of fragments 678
Number of symbolic links  5903
Number of device nodes 4
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 2037
Number of ids (unique uids + gids) 4
Number of uids 2
	root (0)
	unknown (1000)
Number of gids 4
	root (0)
	shadow (42)
	tty (5)
	unknown (1000)
cp pkg/eve/build.yml pkg/eve/runme.sh images/*.yml /home/zededa-ci/src/eve/dist/arm64
EVE_HASH=5.6.1 DOCKER_ARCH_TAG=arm64 ./tools/parse-pkgs.sh pkg/eve/Dockerfile.in > /home/zededa-ci/src/eve/dist/arm64/Dockerfile
/home/zededa-ci/src/eve/build-tools/bin/linuxkit pkg push --disable-content-trust --hash-path /home/zededa-ci/src/eve --hash 5.6.1-xen --release latest --force --disable-cache /home/zededa-ci/src/eve/dist/arm64
Building and pushing "lfedge/eve:5.6.1-xen"
Sending build context to Docker daemon  265.3MB
Step 1/17 : FROM alpine:3.9.4 as tools
 ---> ce544de9ee2c
Step 2/17 : RUN mkdir -p /out/etc/apk /out/boot && cp -r /etc/apk/* /out/etc/apk/
 ---> Running in c93a756a7051
 ---> f159fd6bb714
Removing intermediate container c93a756a7051
Step 3/17 : RUN apk add --no-cache --initdb -p /out qemu-img=3.1.0-r3 tar=1.32-r0
 ---> Running in 5f600be83952
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/aarch64/APKINDEX.tar.gz
(1/19) Installing libaio (0.3.111-r0)
(2/19) Installing musl (1.1.20-r5)
(3/19) Installing busybox (1.29.3-r10)
Executing busybox-1.29.3-r10.post-install
(4/19) Installing libffi (3.2.1-r6)
(5/19) Installing libintl (0.19.8.1-r4)
(6/19) Installing libuuid (2.33-r0)
(7/19) Installing libblkid (2.33-r0)
(8/19) Installing libmount (2.33-r0)
(9/19) Installing pcre (8.42-r1)
(10/19) Installing zlib (1.2.11-r1)
(11/19) Installing glib (2.58.1-r3)
(12/19) Installing gmp (6.1.2-r1)
(13/19) Installing nettle (3.4.1-r0)
(14/19) Installing p11-kit (0.23.14-r0)
(15/19) Installing libtasn1 (4.14-r0)
(16/19) Installing libunistring (0.9.10-r0)
(17/19) Installing gnutls (3.6.14-r0)
(18/19) Installing qemu-img (3.1.0-r3)
(19/19) Installing tar (1.32-r0)
Executing busybox-1.29.3-r10.trigger
Executing glib-2.58.1-r3.trigger
OK: 16 MiB in 19 packages
 ---> 29b8a0e574a5
Removing intermediate container 5f600be83952
Step 4/17 : FROM lfedge/eve-mkimage-iso-efi:5.6.1-arm64 as iso
 ---> 6367126336f3
Step 5/17 : FROM lfedge/eve-mkimage-raw-efi:5.6.1-arm64 as raw
 ---> 1e46d6e1a3d1
Step 6/17 : RUN rm /initrd.img
 ---> Running in 67ccac6841db
 ---> 028fc5acf435
Removing intermediate container 67ccac6841db
Step 7/17 : FROM lfedge/eve-mkconf:5.6.1-arm64 as conf
 ---> 42b86ded0f7e
Step 8/17 : COPY --from=iso / /
 ---> 50dce39a269c
Step 9/17 : COPY --from=raw / /
 ---> 76d41fd428bb
Step 10/17 : COPY --from=tools /out/ /
 ---> a05d9c80b409
Step 11/17 : COPY installer /bits
 ---> d105cb8d3986
Step 12/17 : COPY OVMF* /firmware/
 ---> dce279e5fd31
Step 13/17 : COPY runme.sh /
 ---> fe5e3c91a228
Step 14/17 : RUN mkdir /in /out
 ---> Running in e70c7c7af2c7
 ---> 249f37f73b87
Removing intermediate container e70c7c7af2c7
Step 15/17 : WORKDIR /bits
 ---> 55d947561cd7
Removing intermediate container 6d9b9bad5711
Step 16/17 : ENTRYPOINT /runme.sh
 ---> Running in e3dd3bca1415
 ---> 393fb21b13b0
Removing intermediate container e3dd3bca1415
Step 17/17 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'b9f5fbf4f631d4bd3df5a1e22ccd09c537422c5a' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 9c656f505c63
 ---> ef09654e90ac
Removing intermediate container 9c656f505c63
Successfully built ef09654e90ac
Successfully tagged lfedge/eve:5.6.1-xen-arm64
Pushing lfedge/eve:5.6.1-xen-arm64
The push refers to a repository [docker.io/lfedge/eve]
08c0501284d6: Preparing
8849eb0df6d2: Preparing
0bc35af59e1b: Preparing
88c3178bb78c: Preparing
8dd2d5cd9941: Preparing
a41d2d8ba0b6: Preparing
144a7a8118c4: Preparing
591aad82f13c: Preparing
144a7a8118c4: Waiting
591aad82f13c: Waiting
a41d2d8ba0b6: Waiting
08c0501284d6: Pushed
8849eb0df6d2: Pushed
0bc35af59e1b: Pushed
a41d2d8ba0b6: Layer already exists
144a7a8118c4: Layer already exists
591aad82f13c: Layer already exists
8dd2d5cd9941: Pushed
88c3178bb78c: Pushed
5.6.1-xen-arm64: digest: sha256:ba458d6c72f19c3b7680882b6b1d523447b4c84a120925edc759ff85d0b21404 size: 1999
Pushing lfedge/eve:5.6.1-xen-arm64 to manifest lfedge/eve:5.6.1-xen
time="2020-06-20T08:47:58+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:5.6.1-xen-s390x\". Skipping image."
Digest: sha256:0a42fc267e7ce740efd0df87e74b77cfda018e3d2ae7c422c4866513eefe583b 743
Not signing lfedge/eve:5.6.1-xen
Tagging lfedge/eve:5.6.1-xen-arm64 as lfedge/eve:latest-arm64
Pushing lfedge/eve:latest-arm64
The push refers to a repository [docker.io/lfedge/eve]
08c0501284d6: Preparing
8849eb0df6d2: Preparing
0bc35af59e1b: Preparing
88c3178bb78c: Preparing
8dd2d5cd9941: Preparing
a41d2d8ba0b6: Preparing
144a7a8118c4: Preparing
591aad82f13c: Preparing
a41d2d8ba0b6: Waiting
144a7a8118c4: Waiting
591aad82f13c: Waiting
8dd2d5cd9941: Layer already exists
8849eb0df6d2: Layer already exists
88c3178bb78c: Layer already exists
08c0501284d6: Layer already exists
0bc35af59e1b: Layer already exists
591aad82f13c: Layer already exists
a41d2d8ba0b6: Layer already exists
144a7a8118c4: Layer already exists
latest-arm64: digest: sha256:ba458d6c72f19c3b7680882b6b1d523447b4c84a120925edc759ff85d0b21404 size: 1999
Pushing lfedge/eve:latest-arm64 to manifest lfedge/eve:latest
time="2020-06-20T08:48:22+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:latest-s390x\". Skipping image."
Digest: sha256:0a42fc267e7ce740efd0df87e74b77cfda018e3d2ae7c422c4866513eefe583b 743
Not signing lfedge/eve:latest
Build, push and release of "latest" complete, all done.
rm images/rootfs-xen.yml images/rootfs-xen.yml.in
Skipping repository .go/pkg/dep/sources/https---github.com-linuxkit-linuxkit
Skipping repository .go/pkg/dep/sources/https---github.com-moby-hyperkit
Skipping repository .go/pkg/dep/sources/https---github.com-gorilla-context
Skipping repository .go/pkg/dep/sources/https---github.com-theupdateframework-notary
Skipping repository .go/pkg/dep/sources/https---github.com-mitchellh-go--ps
Skipping repository .go/pkg/dep/sources/https---github.com-golang-appengine
Skipping repository .go/pkg/dep/sources/https---github.com-xeipuuv-gojsonschema
Skipping repository .go/pkg/dep/sources/https---go.googlesource.com-net
Skipping repository .go/pkg/dep/sources/https---github.com-xeipuuv-gojsonpointer
Skipping repository .go/pkg/dep/sources/https---github.com-Azure-azure--sdk--for--go
Skipping repository .go/pkg/dep/sources/https---github.com-moby-tool
Skipping repository .go/pkg/dep/sources/https---github.com-Azure-go--ansiterm
Skipping repository .go/pkg/dep/sources/https---github.com-moby-vpnkit
Skipping repository .go/pkg/dep/sources/https---github.com-moul-anonuuid
Skipping repository .go/pkg/dep/sources/https---github.com-Azure-go--autorest
Skipping repository .go/pkg/dep/sources/https---github.com-moul-gotty--client
Skipping repository .go/pkg/dep/sources/https---github.com-Microsoft-go--winio
Skipping repository .go/pkg/dep/sources/https---github.com-agl-ed25519
Skipping repository .go/pkg/dep/sources/https---github.com-aws-aws--sdk--go
Skipping repository .go/pkg/dep/sources/https---github.com-containerd-containerd
Skipping repository .go/pkg/dep/sources/https---github.com-opencontainers-go--digest
Skipping repository .go/pkg/dep/sources/https---github.com-opencontainers-image--spec
Skipping repository .go/pkg/dep/sources/https---github.com-opencontainers-runtime--spec
Skipping repository .go/pkg/dep/sources/https---github.com-packethost-packngo
Skipping repository .go/pkg/dep/sources/https---github.com-pkg-errors
Skipping repository .go/pkg/dep/sources/https---github.com-radu--matei-azure--sdk--for--go
Skipping repository .go/pkg/dep/sources/https---github.com-radu--matei-azure--vhd--utils
Skipping repository .go/pkg/dep/sources/https---github.com-renstrom-fuzzysearch
Skipping repository .go/pkg/dep/sources/https---github.com-rn-iso9660wrap
Skipping repository .go/pkg/dep/sources/https---github.com-creack-goselect
Skipping repository .go/pkg/dep/sources/https---github.com-dgrijalva-jwt--go
Skipping repository .go/pkg/dep/sources/https---github.com-docker-distribution
Skipping repository .go/pkg/dep/sources/https---github.com-docker-docker
Skipping repository .go/pkg/dep/sources/https---github.com-docker-go
Skipping repository .go/pkg/dep/sources/https---github.com-docker-go--connections
Skipping repository .go/pkg/dep/sources/https---github.com-docker-go--units
Skipping repository .go/pkg/dep/sources/https---github.com-jmespath-go--jmespath
Skipping repository .go/pkg/dep/sources/https---github.com-scaleway-go--scaleway
Skipping repository .go/pkg/dep/sources/https---github.com-go--ini-ini
Skipping repository .go/pkg/dep/sources/https---github.com-gorilla-mux
Skipping repository .go/pkg/dep/sources/https---github.com-gogo-protobuf
Skipping repository .go/pkg/dep/sources/https---github.com-gorilla-websocket
Skipping repository .go/pkg/dep/sources/https---github.com-vmware-govmomi
Skipping repository .go/pkg/dep/sources/https---github.com-sirupsen-logrus
Skipping repository .go/pkg/dep/sources/https---gopkg.in-yaml.v2
Skipping repository .go/pkg/dep/sources/https---github.com-golang-protobuf
Skipping repository .go/pkg/dep/sources/https---github.com-docker-go--p9p
Skipping repository .go/pkg/dep/sources/https---github.com-google-uuid
Skipping repository .go/pkg/dep/sources/https---github.com-gophercloud-gophercloud
Skipping repository .go/pkg/dep/sources/https---github.com-xeipuuv-gojsonreference
Skipping repository .go/pkg/dep/sources/https---github.com-moby-datakit
Skipping repository .go/pkg/dep/sources/https---github.com-surma-gocpio
Skipping repository .go/pkg/dep/sources/https---github.com-miekg-pkcs11
Skipping repository .go/pkg/dep/sources/https---go.googlesource.com-sync
Skipping repository .go/pkg/dep/sources/https---go.googlesource.com-oauth2
Skipping repository .go/pkg/dep/sources/https---code.googlesource.com-gocloud
Skipping repository .go/pkg/dep/sources/https---go.googlesource.com-sys
Skipping repository .go/pkg/dep/sources/https---go.googlesource.com-crypto
Skipping repository .go/pkg/dep/sources/https---code.googlesource.com-google--api--go--client
Skipping repository .go/pkg/dep/sources/https---github.com-census--instrumentation-opencensus--go
Skipping repository .go/pkg/dep/sources/https---github.com-googleapis-gax--go
Skipping repository .go/pkg/dep/sources/https---github.com-grpc-grpc--go
Skipping repository .go/pkg/dep/sources/https---github.com-konsorten-go--windows--terminal--sequences
Skipping repository .go/pkg/dep/sources/https---github.com-golang-groupcache
Skipping repository .go/pkg/dep/sources/https---github.com-google-go--genproto
Skipping repository .go/pkg/dep/sources/https---go.googlesource.com-text
Removing .go/src
Removing .go/bin
Removing build-tools/bin/linuxkit
Removing build-tools/bin/manifest-tool
Removing dist/
HEAD is now at eabf41c1 Harmonizing qemu options between ARM and x86
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
Building and pushing "lfedge/eve-acrn:4671ddb5582e8c788d6953ce113ca1f53af81fe8"
4671ddb5582e8c788d6953ce113ca1f53af81fe8: Pulling from lfedge/eve-acrn
Digest: sha256:7d8badd1ec2a820dd5c442f6e9ee0a369d786609f4c029e300efb9065a88e944
Status: Image is up to date for lfedge/eve-acrn:4671ddb5582e8c788d6953ce113ca1f53af81fe8
Building and pushing "lfedge/eve-acrn-kernel:1dcbb693d67ce409e081bf5fdaa3b3c6cd1cf7c9"
1dcbb693d67ce409e081bf5fdaa3b3c6cd1cf7c9: Pulling from lfedge/eve-acrn-kernel
Digest: sha256:4e919dabba56fe57cea76b45a0e81a6c0b964b5f4d622e8f38f9e989d78cd6a2
Status: Image is up to date for lfedge/eve-acrn-kernel:1dcbb693d67ce409e081bf5fdaa3b3c6cd1cf7c9
Building and pushing "lfedge/eve-alpine:ac1dc159510afa61334222cedf085c7730e4583c"
ac1dc159510afa61334222cedf085c7730e4583c: Pulling from lfedge/eve-alpine
Digest: sha256:11acfecd7d2baf8c6b9b369db7c57f805db63901eaba796f59d755daa0212ed6
Status: Image is up to date for lfedge/eve-alpine:ac1dc159510afa61334222cedf085c7730e4583c
Building and pushing "lfedge/eve-debug:2ff5b19ea565a13fa93a634abdef20e04276b73b"
2ff5b19ea565a13fa93a634abdef20e04276b73b: Pulling from lfedge/eve-debug
Digest: sha256:5635f14ff52bd253d475322d9082e33364662ab71b14717dd67a9bf7e3eb84ea
Status: Image is up to date for lfedge/eve-debug:2ff5b19ea565a13fa93a634abdef20e04276b73b
Building and pushing "lfedge/eve-dnsmasq:daf64b1cfa970979aa461faf7024beea9b5d6ded"
daf64b1cfa970979aa461faf7024beea9b5d6ded: Pulling from lfedge/eve-dnsmasq
Digest: sha256:154f733a60bc10438f9e6125442bb0f4424995d099b830385371c3430e1813f7
Status: Image is up to date for lfedge/eve-dnsmasq:daf64b1cfa970979aa461faf7024beea9b5d6ded
Building and pushing "lfedge/eve-dom0-ztools:5450ed24dca591ec67c2a7465df5b203e7e92479"
5450ed24dca591ec67c2a7465df5b203e7e92479: Pulling from lfedge/eve-dom0-ztools
Digest: sha256:948f14182f26680b7428d2cea334a30c57f595faf640c78078a6fb75e2d451ee
Status: Image is up to date for lfedge/eve-dom0-ztools:5450ed24dca591ec67c2a7465df5b203e7e92479
Building and pushing "lfedge/eve-fw:60af30b13b43cdc50b6cbb6e30a5e4d1feb154e0"
60af30b13b43cdc50b6cbb6e30a5e4d1feb154e0: Pulling from lfedge/eve-fw
Digest: sha256:66ab18a572b7e443201cfc837ac02d97b4006ade3c8e2791ccee30576556327e
Status: Image is up to date for lfedge/eve-fw:60af30b13b43cdc50b6cbb6e30a5e4d1feb154e0
Building and pushing "lfedge/eve-gpt-tools:e378abea66b77fb7e9587b798a8caf5c78f440c1"
e378abea66b77fb7e9587b798a8caf5c78f440c1: Pulling from lfedge/eve-gpt-tools
Digest: sha256:5ab0097ee02c29d030203bd8abd8bcff401b987d5d009db75c8ac051e147210b
Status: Image is up to date for lfedge/eve-gpt-tools:e378abea66b77fb7e9587b798a8caf5c78f440c1
Building and pushing "lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5"
3ea7b9ddda60231ee7234e3517c4bb357687afa5: Pulling from lfedge/eve-grub
Digest: sha256:7f402740c60afa6bd5cd8c90eb19ecc8de5f78a188ab6a39681e9b5ac756c267
Status: Image is up to date for lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5
Building and pushing "lfedge/eve-guacd:f1f08a0fcadd35320f5d03fe0f0a1a318e8449be"
f1f08a0fcadd35320f5d03fe0f0a1a318e8449be: Pulling from lfedge/eve-guacd
Digest: sha256:c63eaa48b06670e26a257eff3264a87bf0117effb2bb63ba5609b89ec4dcdc1c
Status: Image is up to date for lfedge/eve-guacd:f1f08a0fcadd35320f5d03fe0f0a1a318e8449be
Building and pushing "lfedge/eve-kernel:de55c886d1a6c3b503641aacb9a539978f053dca"
de55c886d1a6c3b503641aacb9a539978f053dca: Pulling from lfedge/eve-kernel
Digest: sha256:0a02dd25e7437e7ba22f0f41ca64cbf78159bd7cfa4dc72096d2dfe1de263988
Status: Image is up to date for lfedge/eve-kernel:de55c886d1a6c3b503641aacb9a539978f053dca
Building and pushing "lfedge/eve-lisp:6fe9cf905fb0fc657f646a82b42aa95e4f68f5e5"
6fe9cf905fb0fc657f646a82b42aa95e4f68f5e5: Pulling from lfedge/eve-lisp
Digest: sha256:ffd1e627f758962b57ccab772aa0bfb1e60704574a4b7795008da1fce6315dd0
Status: Image is up to date for lfedge/eve-lisp:6fe9cf905fb0fc657f646a82b42aa95e4f68f5e5
Building and pushing "lfedge/eve-mkconf:b9a89148618d45bd26a93a68701f5d0588e501a9"
b9a89148618d45bd26a93a68701f5d0588e501a9: Pulling from lfedge/eve-mkconf
Digest: sha256:62bd4b02798c2ee42a4bb295dcb67c8a25dfe731466327ac11b163a4928d716d
Status: Image is up to date for lfedge/eve-mkconf:b9a89148618d45bd26a93a68701f5d0588e501a9
Building and pushing "lfedge/eve-mkimage-iso-efi:e0cc637b8d693c6718d31dc1cbab1f7557823c0b"
e0cc637b8d693c6718d31dc1cbab1f7557823c0b: Pulling from lfedge/eve-mkimage-iso-efi
Digest: sha256:c36b9380912751ad210224f1b46b633b6c21371261f03d29dfdbc007b91c4673
Status: Image is up to date for lfedge/eve-mkimage-iso-efi:e0cc637b8d693c6718d31dc1cbab1f7557823c0b
Building and pushing "lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b"
80aee6209772d98c323d04cb76c617a2bd31937b: Pulling from lfedge/eve-mkimage-raw-efi
Digest: sha256:6246bcb7ac34a3168fb5f636f00cd03fbe405126b22c26077570c4968d1e7a9b
Status: Image is up to date for lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b
Building and pushing "lfedge/eve-mkrootfs-ext4:17ec5bda58c7f6d3717b88d3da55df4516cdb6f3"
17ec5bda58c7f6d3717b88d3da55df4516cdb6f3: Pulling from lfedge/eve-mkrootfs-ext4
Digest: sha256:b867059462b3864d19c8f185331bc5ea7c351a90f69b4f7b97d925ec294d03eb
Status: Image is up to date for lfedge/eve-mkrootfs-ext4:17ec5bda58c7f6d3717b88d3da55df4516cdb6f3
Building and pushing "lfedge/eve-mkrootfs-squash:70b1faff4c3b512c91a1b7157fbddabbd41992f0"
70b1faff4c3b512c91a1b7157fbddabbd41992f0: Pulling from lfedge/eve-mkrootfs-squash
Digest: sha256:bd251f51068e34d09a6b0aad4162484fe8dc09a2a3ca14b57134e49a4838e9b8
Status: Image is up to date for lfedge/eve-mkrootfs-squash:70b1faff4c3b512c91a1b7157fbddabbd41992f0
Building and pushing "lfedge/eve-new-kernel:39a59146b7b8861b857804b104ace9f2d64f411c"
39a59146b7b8861b857804b104ace9f2d64f411c: Pulling from lfedge/eve-new-kernel
Digest: sha256:25a202af16a3ba038f7a251cdfc84e2b14292d5e4f6cb6fee02079db68a2ee44
Status: Image is up to date for lfedge/eve-new-kernel:39a59146b7b8861b857804b104ace9f2d64f411c
Building and pushing "lfedge/eve-strongswan:6dda5ee56b295a0115e7c09a0ca23aa925426252"
6dda5ee56b295a0115e7c09a0ca23aa925426252: Pulling from lfedge/eve-strongswan
Digest: sha256:981b13f775e13852c196038eee1fb7163340e9281a5b8a017bf75e1ad10ba8c3
Status: Image is up to date for lfedge/eve-strongswan:6dda5ee56b295a0115e7c09a0ca23aa925426252
Building and pushing "lfedge/eve-pillar:ad579245c66d591564493bd9fae22d8fcbda7c00"
ad579245c66d591564493bd9fae22d8fcbda7c00: Pulling from lfedge/eve-pillar
no matching manifest for linux/arm64 in the manifest list entries
No image pulled, continuing with build
Sending build context to Docker daemon  32.13MB
Step 1/45 : ARG GOVER=1.12.4
 ---> 
Step 2/45 : FROM lfedge/eve-alpine:ac1dc159510afa61334222cedf085c7730e4583c as fscrypt-build
 ---> 71f89e1f36c5
Step 3/45 : RUN apk add --no-cache git=2.20.2-r0 gcc=8.3.0-r0 linux-headers=4.18.13-r1                        libc-dev=0.7.1-r0 make=4.2.1-r2 linux-pam-dev=1.3.0-r0                        m4=1.4.18-r1 findutils=4.6.0-r1 go=1.11.5-r0
 ---> Running in 4045995c26d0
(1/36) Installing findutils (4.6.0-r1)
(2/36) Installing binutils (2.31.1-r2)
(3/36) Installing gmp (6.1.2-r1)
(4/36) Installing isl (0.18-r0)
(5/36) Installing libgomp (8.3.0-r0)
(6/36) Installing libatomic (8.3.0-r0)
(7/36) Installing libgcc (8.3.0-r0)
(8/36) Installing mpfr3 (3.1.5-r1)
(9/36) Installing mpc1 (1.0.3-r1)
(10/36) Installing libstdc++ (8.3.0-r0)
(11/36) Installing gcc (8.3.0-r0)
(12/36) Installing ca-certificates (20190108-r0)
(13/36) Installing nghttp2-libs (1.35.1-r1)
(14/36) Installing libssh2 (1.9.0-r1)
(15/36) Installing libcurl (7.64.0-r3)
(16/36) Installing expat (2.2.8-r0)
(17/36) Installing pcre2 (10.32-r1)
(18/36) Installing git (2.20.2-r0)
(19/36) Installing go (1.11.5-r0)
(20/36) Installing musl-dev (1.1.20-r5)
(21/36) Installing libc-dev (0.7.1-r0)
(22/36) Installing linux-headers (4.18.13-r1)
(23/36) Installing gettext-asprintf (0.19.8.1-r4)
(24/36) Installing libintl (0.19.8.1-r4)
(25/36) Installing libunistring (0.9.10-r0)
(26/36) Installing gettext-libs (0.19.8.1-r4)
(27/36) Installing ncurses-terminfo-base (6.1_p20190105-r0)
(28/36) Installing ncurses-terminfo (6.1_p20190105-r0)
(29/36) Installing ncurses-libs (6.1_p20190105-r0)
(30/36) Installing libxml2 (2.9.9-r2)
(31/36) Installing gettext (0.19.8.1-r4)
(32/36) Installing gettext-dev (0.19.8.1-r4)
(33/36) Installing linux-pam (1.3.0-r0)
(34/36) Installing linux-pam-dev (1.3.0-r0)
(35/36) Installing m4 (1.4.18-r1)
(36/36) Installing make (4.2.1-r2)
Executing busybox-1.29.3-r10.trigger
Executing ca-certificates-20190108-r0.trigger
OK: 375 MiB in 50 packages
 ---> 5e11fe85a2ff
Removing intermediate container 4045995c26d0
Step 4/45 : RUN mkdir -p /go/src/github.com/google
 ---> Running in 5cebe390a7d5
 ---> 6bd86a03701c
Removing intermediate container 5cebe390a7d5
Step 5/45 : WORKDIR /go/src/github.com/google
 ---> de9478cb7262
Removing intermediate container 85a8dbed6b79
Step 6/45 : RUN git clone https://github.com/google/fscrypt
 ---> Running in f977f4130206
[91mCloning into 'fscrypt'...
[0m ---> 8e2c4e0d14d2
Removing intermediate container f977f4130206
Step 7/45 : WORKDIR /go/src/github.com/google/fscrypt
 ---> 94a86fc12c31
Removing intermediate container 30de95286b91
Step 8/45 : RUN git reset --hard b41569d397d3e66099cde07d8eef36b2f42dd0ec
 ---> Running in 4b2d052c8828
HEAD is now at b41569d README.md: improve documentation for moving files into encrypted dirs (#138)
 ---> c5c3bed39491
Removing intermediate container 4b2d052c8828
Step 9/45 : COPY fscrypt/* ./
 ---> c538e2352ef3
Step 10/45 : RUN patch -p1 < patch01-no-pam.diff &&     patch -p1 < patch02-rotate-raw-key.diff &&     make && make install
 ---> Running in abab8dfb03a2
patching file actions/callback.go
patching file cmd/fscrypt/keys.go
patching file cmd/fscrypt/commands.go
patching file cmd/fscrypt/flags.go
patching file cmd/fscrypt/keys.go
patching file cmd/fscrypt/prompt.go
go build --ldflags '-s -w -X "main.version=v0.2.4-29-gb41569d" -X "main.buildTime=Sat Jun 20 06:57:43 UTC 2020" -extldflags ""' -o bin/fscrypt ./cmd/fscrypt
[91mgo: finding github.com/pkg/errors v0.8.0
[0m[91mgo: finding github.com/urfave/cli v1.20.0
[0m[91mgo: finding github.com/golang/protobuf v1.2.0
[0m[91mgo: finding golang.org/x/sync v0.0.0-20180314180146-1d60e4601c6f
[0m[91mgo: finding golang.org/x/sys v0.0.0-20180828065106-d99a578cf41b
[0m[91mgo: finding golang.org/x/net v0.0.0-20180826012351-8a410e7b638d
[0m[91mgo: finding golang.org/x/crypto v0.0.0-20180820150726-614d502a4dac
[0m[91mgo: downloading golang.org/x/crypto v0.0.0-20180820150726-614d502a4dac
[0m[91mgo: downloading github.com/pkg/errors v0.8.0
[0m[91mgo: downloading github.com/urfave/cli v1.20.0
[0m[91mgo: downloading golang.org/x/sys v0.0.0-20180828065106-d99a578cf41b
[0m[91mgo: downloading github.com/golang/protobuf v1.2.0
[0mgo build -buildmode=c-shared --ldflags '-s -w -X "main.version=v0.2.4-29-gb41569d" -X "main.buildTime=Sat Jun 20 06:57:43 UTC 2020" -extldflags ""' -o bin/pam_fscrypt.so ./pam_fscrypt
rm -f bin/pam_fscrypt.h
install -d /usr/local/bin
install bin/fscrypt /usr/local/bin
install -d /usr/local/lib/security
install bin/pam_fscrypt.so /usr/local/lib/security
m4 --define=PAM_INSTALL_PATH=/usr/local/lib/security/pam_fscrypt.so < pam_fscrypt/config > bin/config
install -d /usr/local/share/pam-configs
install bin/config /usr/local/share/pam-configs/fscrypt
 ---> acfd43b9c54c
Removing intermediate container abab8dfb03a2
Step 11/45 : ARG GOVER=1.12.4
 ---> Running in 78fed4f48f4a
 ---> 660069ebd223
Removing intermediate container 78fed4f48f4a
Step 12/45 : FROM golang:${GOVER}-alpine as build
 ---> 7701ec5e84de
Step 13/45 : RUN apk update
 ---> Running in b374789c0d1f
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/aarch64/APKINDEX.tar.gz
v3.9.6-39-g2347c56424 [http://dl-cdn.alpinelinux.org/alpine/v3.9/main]
v3.9.6-37-g4a8b4cfd7e [http://dl-cdn.alpinelinux.org/alpine/v3.9/community]
OK: 9567 distinct packages available
 ---> 1da74ba6e318
Removing intermediate container b374789c0d1f
Step 14/45 : RUN apk add --no-cache git gcc linux-headers libc-dev util-linux make
 ---> Running in 70be2274987b
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/aarch64/APKINDEX.tar.gz
(1/32) Upgrading musl (1.1.20-r4 -> 1.1.20-r5)
(2/32) Installing binutils (2.31.1-r2)
(3/32) Installing gmp (6.1.2-r1)
(4/32) Installing isl (0.18-r0)
(5/32) Installing libgomp (8.3.0-r0)
(6/32) Installing libatomic (8.3.0-r0)
(7/32) Installing libgcc (8.3.0-r0)
(8/32) Installing mpfr3 (3.1.5-r1)
(9/32) Installing mpc1 (1.0.3-r1)
(10/32) Installing libstdc++ (8.3.0-r0)
(11/32) Installing gcc (8.3.0-r0)
(12/32) Installing nghttp2-libs (1.35.1-r2)
(13/32) Installing libssh2 (1.9.0-r1)
(14/32) Installing libcurl (7.64.0-r3)
(15/32) Installing expat (2.2.8-r0)
(16/32) Installing pcre2 (10.32-r1)
(17/32) Installing git (2.20.4-r0)
(18/32) Installing musl-dev (1.1.20-r5)
(19/32) Installing libc-dev (0.7.1-r0)
(20/32) Upgrading musl-utils (1.1.20-r4 -> 1.1.20-r5)
(21/32) Installing linux-headers (4.18.13-r1)
(22/32) Installing make (4.2.1-r2)
(23/32) Installing libuuid (2.33-r0)
(24/32) Installing libblkid (2.33-r0)
(25/32) Installing libmount (2.33-r0)
(26/32) Installing libsmartcols (2.33-r0)
(27/32) Installing findmnt (2.33-r0)
(28/32) Installing libfdisk (2.33-r0)
(29/32) Installing ncurses-terminfo-base (6.1_p20190105-r0)
(30/32) Installing ncurses-terminfo (6.1_p20190105-r0)
(31/32) Installing ncurses-libs (6.1_p20190105-r0)
(32/32) Installing util-linux (2.33-r0)
Executing busybox-1.29.3-r10.trigger
OK: 124 MiB in 45 packages
 ---> cd882c49a3e2
Removing intermediate container 70be2274987b
Step 15/45 : ENV GOFLAGS -mod=vendor
 ---> Running in 6bd4b73c0e5c
 ---> 05583451b1cd
Removing intermediate container 6bd4b73c0e5c
Step 16/45 : ENV GO111MODULE on
 ---> Running in a4e0f217924f
 ---> a850b58f39eb
Removing intermediate container a4e0f217924f
Step 17/45 : ENV CGO_ENABLED 1
 ---> Running in e8e49c45636e
 ---> 856c08e18c46
Removing intermediate container e8e49c45636e
Step 18/45 : ARG GOARCH=
 ---> Running in d9eac7e6d9fa
 ---> 57e60c5937d2
Removing intermediate container d9eac7e6d9fa
Step 19/45 : ARG CROSS_GCC=https://musl.cc/aarch64-linux-musleabi-cross.tgz
 ---> Running in 6e17c67e4e6c
 ---> 85f3933a31f6
Removing intermediate container 6e17c67e4e6c
Step 20/45 : RUN [ -z "$GOARCH" ] || (cd / ; apk add --no-cache wget && wget -O - $CROSS_GCC | tar xzvf -)
 ---> Running in 6fe16bf7ce4d
 ---> fc46cb91e67a
Removing intermediate container 6fe16bf7ce4d
Step 21/45 : ADD ./ /pillar/
 ---> 24acf2267b69
Step 22/45 : WORKDIR /pillar
 ---> 4bda395068d8
Removing intermediate container fbbc84f85ecb
Step 23/45 : RUN [ -z "$GOARCH" ] || export CC=$(echo /*-cross/bin/*-gcc) ;    echo "Running go vet" && go vet ./... &&     echo "Running go fmt" && ERR=$(gofmt -e -l -s $(find . -name \*.go | grep -v /vendor/)) &&        if [ -n "$ERR" ] ; then echo "go fmt Failed - ERR: "$ERR ; exit 1 ; fi &&     make DISTDIR=/dist build
 ---> Running in 2f4b71ee14ed
Running go vet
Running go fmt
mkdir -p /dist
Building /dist/zedbox
GO111MODULE=on GOOS=linux CGO_ENABLED=0 go build -mod=vendor -ldflags -X=main.Version=---2020-06-20.07.04 -o /dist/zedbox ./zedbox
hardwaremodel
executor
conntrack
downloader
zedagent
volumemgr
identitymgr
logmanager
command
tpmmgr
ipcmonitor
zedmanager
baseosmgr
diag
verifier
zedrouter
vaultmgr
domainmgr
ledmanager
nim
nodeagent
waitforaddr
client
upgradeconverter
wstunnelclient
 ---> f2e43b4b1af3
Removing intermediate container 2f4b71ee14ed
Step 24/45 : FROM lfedge/eve-dnsmasq:daf64b1cfa970979aa461faf7024beea9b5d6ded-arm64 as dnsmasq
 ---> e76395b68c8c
Step 25/45 : FROM lfedge/eve-strongswan:6dda5ee56b295a0115e7c09a0ca23aa925426252-arm64 as strongswan
 ---> af45318b6ce9
Step 26/45 : FROM lfedge/eve-gpt-tools:e378abea66b77fb7e9587b798a8caf5c78f440c1-arm64 as gpttools
 ---> c3e0d17cf29d
Step 27/45 : FROM alpine:3.8
 ---> b22edbe95d11
Step 28/45 : SHELL /bin/ash -eo pipefail -c
 ---> Running in cb0739bae61e
 ---> 737cc6b9dfbd
Removing intermediate container cb0739bae61e
Step 29/45 : RUN apk add --no-cache     yajl xz bash openssl iptables ip6tables iproute2 dhcpcd          coreutils dmidecode libbz2 libuuid ipset           curl radvd ethtool     util-linux e2fsprogs libcrypto1.0 xorriso qemu-img     jq e2fsprogs-extra keyutils ca-certificates
 ---> Running in fbdf9ede0fcf
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/aarch64/APKINDEX.tar.gz
(1/65) Installing ncurses-terminfo-base (6.1_p20180818-r1)
(2/65) Installing ncurses-terminfo (6.1_p20180818-r1)
(3/65) Installing ncurses-libs (6.1_p20180818-r1)
(4/65) Installing readline (7.0.003-r0)
(5/65) Installing bash (4.4.19-r1)
Executing bash-4.4.19-r1.post-install
(6/65) Installing ca-certificates (20191127-r2)
(7/65) Installing libattr (2.4.47-r7)
(8/65) Installing libacl (2.2.52-r5)
(9/65) Installing coreutils (8.29-r2)
(10/65) Installing nghttp2-libs (1.39.2-r0)
(11/65) Installing libssh2 (1.9.0-r1)
(12/65) Installing libcurl (7.61.1-r3)
(13/65) Installing curl (7.61.1-r3)
(14/65) Installing dhcpcd (7.0.7-r0)
(15/65) Installing dmidecode (3.1-r0)
(16/65) Installing libuuid (2.32-r0)
(17/65) Installing libblkid (2.32-r0)
(18/65) Installing libcom_err (1.44.2-r2)
(19/65) Installing e2fsprogs-libs (1.44.2-r2)
(20/65) Installing e2fsprogs (1.44.2-r2)
(21/65) Installing e2fsprogs-extra (1.44.2-r2)
(22/65) Installing ethtool (4.16-r0)
(23/65) Installing libmnl (1.0.4-r0)
(24/65) Installing jansson (2.11-r0)
(25/65) Installing libnftnl-libs (1.1.1-r0)
(26/65) Installing iptables (1.6.2-r0)
(27/65) Installing ip6tables (1.6.2-r0)
(28/65) Installing libelf (0.8.13-r3)
(29/65) Installing iproute2 (4.13.0-r0)
Executing iproute2-4.13.0-r0.post-install
(30/65) Installing ipset (6.38-r1)
(31/65) Installing oniguruma (6.9.4-r0)
(32/65) Installing jq (1.6_rc1-r1)
(33/65) Installing keyutils-libs (1.5.10-r0)
(34/65) Installing keyutils (1.5.10-r0)
(35/65) Installing libbz2 (1.0.6-r7)
(36/65) Installing libcrypto1.0 (1.0.2u-r0)
(37/65) Installing libssl1.0 (1.0.2u-r0)
(38/65) Installing openssl (1.0.2u-r0)
(39/65) Installing libaio (0.3.111-r0)
(40/65) Installing libgcc (6.4.0-r9)
(41/65) Installing libffi (3.2.1-r4)
(42/65) Installing libintl (0.19.8.1-r2)
(43/65) Installing libmount (2.32-r0)
(44/65) Installing pcre (8.42-r0)
(45/65) Installing glib (2.56.1-r1)
(46/65) Installing gmp (6.1.2-r1)
(47/65) Installing nettle (3.4.1-r0)
(48/65) Installing p11-kit (0.23.10-r0)
(49/65) Installing libtasn1 (4.14-r0)
(50/65) Installing libunistring (0.9.7-r0)
(51/65) Installing gnutls (3.6.14-r0)
(52/65) Installing qemu-img (2.12.0-r3)
(53/65) Installing radvd (2.17-r2)
Executing radvd-2.17-r2.pre-install
(54/65) Installing libsmartcols (2.32-r0)
(55/65) Installing findmnt (2.32-r0)
(56/65) Installing libfdisk (2.32-r0)
(57/65) Installing util-linux (2.32-r0)
(58/65) Installing libburn (1.4.8-r0)
(59/65) Installing libedit (20170329.3.1-r3)
(60/65) Installing libisofs (1.4.8-r0)
(61/65) Installing libisoburn (1.4.8-r0)
(62/65) Installing xorriso (1.4.8-r0)
(63/65) Installing xz-libs (5.2.4-r0)
(64/65) Installing xz (5.2.4-r0)
(65/65) Installing yajl (2.1.0-r0)
Executing busybox-1.28.4-r3.trigger
Executing ca-certificates-20191127-r2.trigger
Executing glib-2.56.1-r1.trigger
OK: 44 MiB in 78 packages
 ---> d4ead292ad23
Removing intermediate container fbdf9ede0fcf
Step 30/45 : ADD conf/root-certificate.pem conf/server conf/server.production /opt/zededa/examples/config/
 ---> 929bfb5214f9
Step 31/45 : ADD scripts/device-steps.sh scripts/generate-device.sh scripts/generate-self-signed.sh scripts/handlezedserverconfig.sh scripts/veth.sh /opt/zededa/bin/
 ---> 273e7591a765
Step 32/45 : ADD conf/lisp.config.base /var/tmp/zededa/lisp.config.base
 ---> e23ef166f995
Step 33/45 : COPY patches/* /patches/
 ---> dd18cafd5281
Step 34/45 : RUN set -e && for patch in ../patches/*.patch; do         echo "Applying $patch";         patch -p1 < "$patch";     done
 ---> Running in cd3b104fc26f
Applying ../patches/001-dhcpcd-no-resolv-conf.patch
patching file usr/lib/dhcpcd/dhcpcd-hooks/20-resolv.conf
 ---> 7db91daf55dc
Removing intermediate container cd3b104fc26f
Step 35/45 : COPY --from=build /dist /opt/zededa/bin
 ---> 2d8b26733ae6
Step 36/45 : COPY --from=gpttools / /
 ---> 233b7947afde
Step 37/45 : COPY --from=dnsmasq /usr/sbin/dnsmasq /opt/zededa/bin/dnsmasq
 ---> d2063aa7d538
Step 38/45 : COPY --from=strongswan / /
 ---> 367114c3002f
Step 39/45 : COPY --from=fscrypt-build /usr/local/bin/fscrypt /opt/zededa/bin/fscrypt
 ---> 36140bfcd37b
Step 40/45 : COPY rootfs/ /
 ---> 676c5008a921
Step 41/45 : RUN if [ "$(uname -m)" = "aarch64" ] ; then                                                    apk add --no-cache findutils=4.6.0-r1 binutils=2.30-r6 file=5.32-r2             ;       find / -type f -executable -exec file {} \; | grep 'not stripped' | cut -f1 -d: |       xargs strip                                                                     ;       apk del findutils binutils file                                                 ;    fi
 ---> Running in 942ac7cb393e
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.8/community/aarch64/APKINDEX.tar.gz
(1/4) Installing binutils (2.30-r6)
(2/4) Installing libmagic (5.32-r2)
(3/4) Installing file (5.32-r2)
(4/4) Installing findutils (4.6.0-r1)
Executing busybox-1.28.4-r3.trigger
OK: 60 MiB in 82 packages
[91mWARNING: [0m[91mIgnoring APKINDEX.adfa7ceb.tar.gz: No such file or directory
WARNING: Ignoring APKINDEX.efaa1f73.tar.gz: No such file or directory
[0m(1/4) Purging binutils (2.30-r6)
(2/4) Purging file (5.32-r2)
(3/4) Purging findutils (4.6.0-r1)
(4/4) Purging libmagic (5.32-r2)
Executing busybox-1.28.4-r3.trigger
OK: 44 MiB in 78 packages
 ---> 3745b4238e6f
Removing intermediate container 942ac7cb393e
Step 42/45 : SHELL /bin/sh -c
 ---> Running in 412d9c64a447
 ---> 6c88928af86c
Removing intermediate container 412d9c64a447
Step 43/45 : WORKDIR /
 ---> 95378ef4384b
Removing intermediate container b6000ee6d8d4
Step 44/45 : CMD /init.sh
 ---> Running in d9e5c79c5c8f
 ---> f3b162107ec2
Removing intermediate container d9e5c79c5c8f
Step 45/45 : LABEL org.mobyproject.config '{"capabilities":["all"],"binds":["/lib/modules:/lib/modules","/dev:/dev","/etc/resolv.conf:/etc/resolv.conf","/run:/run","/var/config:/config","/:/hostfs","/var/persist:/persist:rshared,rbind"],"net":"host","pid":"host","rootfsPropagation":"shared"}' org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'eabf41c10e17f630813c439468ffd6a74e33e29d' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in d4edcb78835e
 ---> dce55682162e
Removing intermediate container d4edcb78835e
Successfully built dce55682162e
Successfully tagged lfedge/eve-pillar:ad579245c66d591564493bd9fae22d8fcbda7c00-arm64
Pushing lfedge/eve-pillar:ad579245c66d591564493bd9fae22d8fcbda7c00-arm64
The push refers to a repository [docker.io/lfedge/eve-pillar]
c20141c0231d: Preparing
5e658113c918: Preparing
cc176a546879: Preparing
67a010638612: Preparing
12b14dbc66f7: Preparing
2bf6c87c9bcb: Preparing
2ba7f60d36c6: Preparing
9857cc790182: Preparing
ff4bde2e16fb: Preparing
6d5f0070b15d: Preparing
bc782b520b93: Preparing
69d9ef2f3225: Preparing
f0c2644b6d7d: Preparing
7207ab4ea143: Preparing
6d5f0070b15d: Waiting
2bf6c87c9bcb: Waiting
bc782b520b93: Waiting
2ba7f60d36c6: Waiting
69d9ef2f3225: Waiting
9857cc790182: Waiting
f0c2644b6d7d: Waiting
ff4bde2e16fb: Waiting
5e658113c918: Layer already exists
67a010638612: Layer already exists
2bf6c87c9bcb: Layer already exists
12b14dbc66f7: Pushed
9857cc790182: Pushed
cc176a546879: Pushed
ff4bde2e16fb: Pushed
6d5f0070b15d: Pushed
bc782b520b93: Pushed
7207ab4ea143: Layer already exists
69d9ef2f3225: Pushed
c20141c0231d: Pushed
2ba7f60d36c6: Pushed
f0c2644b6d7d: Pushed
ad579245c66d591564493bd9fae22d8fcbda7c00-arm64: digest: sha256:87720f5e42af3fedf5a8cac89e736ad776ba13635ab831267615ca02919cc082 size: 3255
Pushing lfedge/eve-pillar:ad579245c66d591564493bd9fae22d8fcbda7c00-arm64 to manifest lfedge/eve-pillar:ad579245c66d591564493bd9fae22d8fcbda7c00
time="2020-06-20T09:07:48+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve-pillar:ad579245c66d591564493bd9fae22d8fcbda7c00-s390x\". Skipping image."
Digest: sha256:55247165de345a102d06eb971282d49208212bf4b095546b577e2a6541acd608 743
Not signing lfedge/eve-pillar:ad579245c66d591564493bd9fae22d8fcbda7c00
Tagging lfedge/eve-pillar:ad579245c66d591564493bd9fae22d8fcbda7c00-arm64 as lfedge/eve-pillar:snapshot-arm64
Pushing lfedge/eve-pillar:snapshot-arm64
The push refers to a repository [docker.io/lfedge/eve-pillar]
c20141c0231d: Preparing
5e658113c918: Preparing
cc176a546879: Preparing
67a010638612: Preparing
12b14dbc66f7: Preparing
2bf6c87c9bcb: Preparing
2ba7f60d36c6: Preparing
9857cc790182: Preparing
ff4bde2e16fb: Preparing
6d5f0070b15d: Preparing
bc782b520b93: Preparing
69d9ef2f3225: Preparing
f0c2644b6d7d: Preparing
7207ab4ea143: Preparing
ff4bde2e16fb: Waiting
6d5f0070b15d: Waiting
bc782b520b93: Waiting
69d9ef2f3225: Waiting
f0c2644b6d7d: Waiting
7207ab4ea143: Waiting
2bf6c87c9bcb: Waiting
2ba7f60d36c6: Waiting
9857cc790182: Waiting
12b14dbc66f7: Layer already exists
cc176a546879: Layer already exists
c20141c0231d: Layer already exists
67a010638612: Layer already exists
5e658113c918: Layer already exists
2bf6c87c9bcb: Layer already exists
2ba7f60d36c6: Layer already exists
ff4bde2e16fb: Layer already exists
6d5f0070b15d: Layer already exists
9857cc790182: Layer already exists
bc782b520b93: Layer already exists
69d9ef2f3225: Layer already exists
7207ab4ea143: Layer already exists
f0c2644b6d7d: Layer already exists
snapshot-arm64: digest: sha256:87720f5e42af3fedf5a8cac89e736ad776ba13635ab831267615ca02919cc082 size: 3255
Pushing lfedge/eve-pillar:snapshot-arm64 to manifest lfedge/eve-pillar:snapshot
time="2020-06-20T09:08:12+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve-pillar:snapshot-s390x\". Skipping image."
Digest: sha256:55247165de345a102d06eb971282d49208212bf4b095546b577e2a6541acd608 743
Not signing lfedge/eve-pillar:snapshot
Build, push and release of "snapshot" complete, all done.
Building and pushing "lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b"
5c00deeac0b200565fee599905f5346ffaafc10b: Pulling from lfedge/eve-uefi
Digest: sha256:ab6885d4cf29e33b9097cd2d51844591c46204c49f053297d2653fa6be2ec576
Status: Image is up to date for lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b
Building and pushing "lfedge/eve-xen-tools:955c1a053b125fc78467091618d8d1e6cfa80c08"
955c1a053b125fc78467091618d8d1e6cfa80c08: Pulling from lfedge/eve-xen-tools
Digest: sha256:aa0ebe1c87164aa1620092960210305c4071fb03c838bf0740709703d3ec780f
Status: Image is up to date for lfedge/eve-xen-tools:955c1a053b125fc78467091618d8d1e6cfa80c08
Building and pushing "lfedge/eve-qrexec-lib:b0fb86eb752be7884d4d83c1dbbb025e75c5c466"
b0fb86eb752be7884d4d83c1dbbb025e75c5c466: Pulling from lfedge/eve-qrexec-lib
Digest: sha256:abd39f4a76686a94b422d935bc9a3f194250bc5bdfe1ca0a2d129490060011d4
Status: Image is up to date for lfedge/eve-qrexec-lib:b0fb86eb752be7884d4d83c1dbbb025e75c5c466
Building and pushing "lfedge/eve-qrexec-dom0:29024a9e04a96b4baede4f474dcf85c1cef98607"
29024a9e04a96b4baede4f474dcf85c1cef98607: Pulling from lfedge/eve-qrexec-dom0
Digest: sha256:c9c1e1021d32a2ceae4c0c3ac06fea559a447165f9a1400456d8fd05d7cfd2d6
Status: Image is up to date for lfedge/eve-qrexec-dom0:29024a9e04a96b4baede4f474dcf85c1cef98607
Building and pushing "lfedge/eve-rngd:6e16dad8553a6c2939854abfa9f34a5f2604bce7"
6e16dad8553a6c2939854abfa9f34a5f2604bce7: Pulling from lfedge/eve-rngd
Digest: sha256:d18f87ec9e50c7a996e1a9c78589b5dba52e53d59c81998503e782d65875a6dc
Status: Image is up to date for lfedge/eve-rngd:6e16dad8553a6c2939854abfa9f34a5f2604bce7
Building and pushing "lfedge/eve-rsyslog:49556e27198614b57d70e76f8bfcca3068056cfc"
49556e27198614b57d70e76f8bfcca3068056cfc: Pulling from lfedge/eve-rsyslog
Digest: sha256:88ab77ddfd593bb7b59c2fd1cdc03ad4f133f7e1bb20aecfeb0102a7bfe59f95
Status: Image is up to date for lfedge/eve-rsyslog:49556e27198614b57d70e76f8bfcca3068056cfc
Building and pushing "lfedge/eve-storage-init:31ed12195e31e7f4b118cbcc2cecfce815e5c4ed"
31ed12195e31e7f4b118cbcc2cecfce815e5c4ed: Pulling from lfedge/eve-storage-init
Digest: sha256:9a9d0ee33bd1f163f68926cfca523480d7a4501147112709796e86f62829ae1e
Status: Image is up to date for lfedge/eve-storage-init:31ed12195e31e7f4b118cbcc2cecfce815e5c4ed
Building and pushing "lfedge/eve-u-boot:478e1045beb5159538f0bef9a38ca2b5824e7f85"
478e1045beb5159538f0bef9a38ca2b5824e7f85: Pulling from lfedge/eve-u-boot
Digest: sha256:fce61e42979c2dc5bbd038dc1be8942bf57ba0fed506dc00954666a9db15cf0a
Status: Image is up to date for lfedge/eve-u-boot:478e1045beb5159538f0bef9a38ca2b5824e7f85
Building and pushing "lfedge/eve-vtpm:11365a20a21fa000e9d48614e9303c8f0e81477f"
11365a20a21fa000e9d48614e9303c8f0e81477f: Pulling from lfedge/eve-vtpm
Digest: sha256:04a0292c68d3e35c25320befcb19735faa248b4ecd7211d84eb03f6ce3659bef
Status: Image is up to date for lfedge/eve-vtpm:11365a20a21fa000e9d48614e9303c8f0e81477f
Building and pushing "lfedge/eve-watchdog:288a4129631e73aad6a9e5c01f229205f5dbc9be"
288a4129631e73aad6a9e5c01f229205f5dbc9be: Pulling from lfedge/eve-watchdog
Digest: sha256:bac09ff8ba45c195bde56ace1a04c084ee074eff30eef7e7cd6e5e6b69c8edf7
Status: Image is up to date for lfedge/eve-watchdog:288a4129631e73aad6a9e5c01f229205f5dbc9be
Building and pushing "lfedge/eve-wlan:ac31bb78810451ef1333b3970f29bebc0a6c9c44"
ac31bb78810451ef1333b3970f29bebc0a6c9c44: Pulling from lfedge/eve-wlan
Digest: sha256:c3d7e2a6b381a6bdd4c1a1d1e44b46bb348990777cc828cb575f79a515d35830
Status: Image is up to date for lfedge/eve-wlan:ac31bb78810451ef1333b3970f29bebc0a6c9c44
Building and pushing "lfedge/eve-wwan:31a3911c7aa7e5c44e19406d6277173b494c6f35"
31a3911c7aa7e5c44e19406d6277173b494c6f35: Pulling from lfedge/eve-wwan
Digest: sha256:e0dfd4fb011f186f726453825cac33899766425c382a747dcd46c5d83f6946f6
Status: Image is up to date for lfedge/eve-wwan:31a3911c7aa7e5c44e19406d6277173b494c6f35
Building and pushing "lfedge/eve-xen:92959f50dff5b1a5b6ab8fbc9014369f3e3a493c"
92959f50dff5b1a5b6ab8fbc9014369f3e3a493c: Pulling from lfedge/eve-xen
Digest: sha256:2fa872b1b6c982821db90f74ca4772a3c1ad293205558bfef9a229be0f783bdc
Status: Image is up to date for lfedge/eve-xen:92959f50dff5b1a5b6ab8fbc9014369f3e3a493c
Done building packages
rm pkg/qrexec-dom0/Dockerfile pkg/xen-tools/Dockerfile pkg/qrexec-lib/Dockerfile pkg/pillar/Dockerfile
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
mkdir -p /home/zededa-ci/src/eve/dist/arm64
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF.fd
3f1342180c433fd8a2b40511f698560bfa22383b275a7b87294b6cac1dd798eb
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_CODE.fd
tar: OVMF_CODE.fd: Not found in archive
tar: Exiting with failure status due to previous errors
d2ca7dd40da7cb238f2e5523d0dbc18d753d3fc765872539ebd1997083370195
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_VARS.fd
0003237d488cde9064c390c9777dbcf89437d13e4b9ba92406d2a51bc876b2c9
mkdir -p /home/zededa-ci/src/eve/dist/arm64/installer
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5-arm64 EFI
38c2593629ffd8c62aca08d904e1a77802224407080466294e70df194d8e5ea6
./tools/makeconfig.sh /home/zededa-ci/src/eve/dist/arm64/installer/config.img conf/authorized_keys conf/DevicePortConfig conf/grub.cfg conf/onboard.cert.pem conf/onboard.key.pem conf/root-certificate.pem conf/server conf/v2tlsbaseroot-certificates.pem
1024+0 records in
1024+0 records out
mkfs.fat 4.1 (2017-01-24)
/config.img has 64 heads and 32 sectors per track,
hidden sectors 0x0000;
logical sector size is 512,
using 0xf8 media descriptor, with 2048 sectors;
drive number 0x80;
filesystem has 2 12-bit FATs and 4 sectors per cluster.
FAT size is 2 sectors, and provides 502 clusters.
There is 1 reserved sector.
Root directory contains 512 slots and uses 32 sectors.
Volume ID is 6c367040, volume label EVE        .
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b-arm64 initrd.img EFI
8c6a21ba93af08985553eecba37ba4a227602e361c756a074433529bf3f2330f
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
patching file images/rootfs-rpi.yml.in.sed (read from images/rootfs.yml.in)
./tools/makerootfs.sh images/rootfs-rpi.yml /home/zededa-ci/src/eve/dist/arm64/installer/rootfs-0.0.0-snapshot-master-eabf41c1-rpi-arm64.squash squash
Extract kernel image: lfedge/eve-new-kernel:39a59146b7b8861b857804b104ace9f2d64f411c-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
time="2020-06-20T09:12:31+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/runc:f79954950022fea76b8b6f10de58cb48e4fb3878-arm64
time="2020-06-20T09:12:57+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:12:57+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:12:57+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:32:34 -0700 2020"
time="2020-06-20T09:12:57+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:12:57+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/containerd:6ef473a228db6f6ee163f9b9a051102a1552a4ef-arm64
time="2020-06-20T09:13:18+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:13:18+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:13:18+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Sat Jun 6 08:35:43 -0700 2020"
time="2020-06-20T09:13:18+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:13:18+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/getty:v0.5-arm64
time="2020-06-20T09:13:40+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:13:40+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:13:40+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/memlogd:v0.5-arm64
Process init image: lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5-arm64
Process init image: lfedge/eve-fw:60af30b13b43cdc50b6cbb6e30a5e4d1feb154e0-arm64
Process init image: lfedge/eve-xen:92959f50dff5b1a5b6ab8fbc9014369f3e3a493c-arm64
Process init image: lfedge/eve-gpt-tools:e378abea66b77fb7e9587b798a8caf5c78f440c1-arm64
Process init image: lfedge/eve-dom0-ztools:5450ed24dca591ec67c2a7465df5b203e7e92479-arm64
Add onboot containers:
  Create OCI config for lfedge/eve-storage-init:31ed12195e31e7f4b118cbcc2cecfce815e5c4ed-arm64
  Create OCI config for linuxkit/sysctl:v0.5-arm64
time="2020-06-20T09:14:49+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:14:49+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-rngd:6e16dad8553a6c2939854abfa9f34a5f2604bce7-arm64
  Create OCI config for linuxkit/modprobe:v0.5-arm64
time="2020-06-20T09:15:12+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:15:12+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
Add service containers:
  Create OCI config for lfedge/eve-rsyslog:49556e27198614b57d70e76f8bfcca3068056cfc-arm64
  Create OCI config for linuxkit/openntpd:v0.5-arm64
time="2020-06-20T09:15:34+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:15:34+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:15:34+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:06:33 -0700 2020"
time="2020-06-20T09:15:34+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:15:34+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:15:34+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for linuxkit/sshd:v0.5-arm64
time="2020-06-20T09:15:54+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T09:15:54+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T09:15:54+02:00" level=warning msg="Error getting targets/justin: targets/justin expired at Fri May 29 15:28:54 +0100 2020"
time="2020-06-20T09:15:54+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:15:54+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-wwan:31a3911c7aa7e5c44e19406d6277173b494c6f35-arm64
  Create OCI config for lfedge/eve-wlan:ac31bb78810451ef1333b3970f29bebc0a6c9c44-arm64
  Create OCI config for lfedge/eve-lisp:6fe9cf905fb0fc657f646a82b42aa95e4f68f5e5-arm64
  Create OCI config for lfedge/eve-guacd:f1f08a0fcadd35320f5d03fe0f0a1a318e8449be-arm64
  Create OCI config for lfedge/eve-pillar:ad579245c66d591564493bd9fae22d8fcbda7c00-arm64
  Create OCI config for lfedge/eve-vtpm:11365a20a21fa000e9d48614e9303c8f0e81477f-arm64
  Create OCI config for lfedge/eve-watchdog:288a4129631e73aad6a9e5c01f229205f5dbc9be-arm64
  Create OCI config for lfedge/eve-xen-tools:955c1a053b125fc78467091618d8d1e6cfa80c08-arm64
Add files:
  /etc/eve-release
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[==================================================\         ] 18900/21931  86%[===================================================/        ] 19100/21931  87%[===================================================|        ] 19300/21931  88%[====================================================\       ] 19500/21931  88%[===========================================================-] 21931/21931 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 253541.00 Kbytes (247.60 Mbytes)
	33.00% of uncompressed filesystem size (768401.03 Kbytes)
Inode table size 244967 bytes (239.23 Kbytes)
	25.10% of uncompressed inode table size (975854 bytes)
Directory table size 265792 bytes (259.56 Kbytes)
	45.46% of uncompressed directory table size (584628 bytes)
Number of duplicate files found 8681
Number of inodes 25060
Number of files 17094
Number of fragments 749
Number of symbolic links  5901
Number of device nodes 4
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 2061
Number of ids (unique uids + gids) 4
Number of uids 2
	root (0)
	unknown (1000)
Number of gids 4
	root (0)
	shadow (42)
	tty (5)
	unknown (1000)
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-u-boot:478e1045beb5159538f0bef9a38ca2b5824e7f85-arm64 boot
d929cb6d696b197b76308bc5260af88a51838b9f090911111a24112be92df9a5
cp pkg/eve/build.yml pkg/eve/runme.sh images/*.yml /home/zededa-ci/src/eve/dist/arm64
DOCKER_ARCH_TAG=arm64 ./tools/parse-pkgs.sh pkg/eve/Dockerfile.in > /home/zededa-ci/src/eve/dist/arm64/Dockerfile
/home/zededa-ci/src/eve/build-tools/bin/linuxkit pkg push --disable-content-trust --hash-path /home/zededa-ci/src/eve --hash 0.0.0-snapshot-master-eabf41c1-rpi --release snapshot --force --disable-cache /home/zededa-ci/src/eve/dist/arm64
Building and pushing "lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi"
Sending build context to Docker daemon  275.7MB
Step 1/17 : FROM alpine:3.9.4 as tools
 ---> ce544de9ee2c
Step 2/17 : RUN mkdir -p /out/etc/apk /out/boot && cp -r /etc/apk/* /out/etc/apk/
 ---> Running in 2731560342e5
 ---> e313ab258ce0
Removing intermediate container 2731560342e5
Step 3/17 : RUN apk add --no-cache --initdb -p /out qemu-img=3.1.0-r3 tar=1.32-r0
 ---> Running in 6a85d6f7b221
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/aarch64/APKINDEX.tar.gz
(1/19) Installing libaio (0.3.111-r0)
(2/19) Installing musl (1.1.20-r5)
(3/19) Installing busybox (1.29.3-r10)
Executing busybox-1.29.3-r10.post-install
(4/19) Installing libffi (3.2.1-r6)
(5/19) Installing libintl (0.19.8.1-r4)
(6/19) Installing libuuid (2.33-r0)
(7/19) Installing libblkid (2.33-r0)
(8/19) Installing libmount (2.33-r0)
(9/19) Installing pcre (8.42-r1)
(10/19) Installing zlib (1.2.11-r1)
(11/19) Installing glib (2.58.1-r3)
(12/19) Installing gmp (6.1.2-r1)
(13/19) Installing nettle (3.4.1-r0)
(14/19) Installing p11-kit (0.23.14-r0)
(15/19) Installing libtasn1 (4.14-r0)
(16/19) Installing libunistring (0.9.10-r0)
(17/19) Installing gnutls (3.6.14-r0)
(18/19) Installing qemu-img (3.1.0-r3)
(19/19) Installing tar (1.32-r0)
Executing busybox-1.29.3-r10.trigger
Executing glib-2.58.1-r3.trigger
OK: 16 MiB in 19 packages
 ---> 174b817a9b93
Removing intermediate container 6a85d6f7b221
Step 4/17 : FROM lfedge/eve-mkimage-iso-efi:e0cc637b8d693c6718d31dc1cbab1f7557823c0b-arm64 as iso
 ---> 74679271e526
Step 5/17 : FROM lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b-arm64 as raw
 ---> 28084ef12a49
Step 6/17 : RUN rm /initrd.img
 ---> Running in ad6efc2e0a1c
 ---> b1bd85e6b502
Removing intermediate container ad6efc2e0a1c
Step 7/17 : FROM lfedge/eve-mkconf:b9a89148618d45bd26a93a68701f5d0588e501a9-arm64 as conf
 ---> ac9fa4d52a61
Step 8/17 : COPY --from=iso / /
 ---> 7a21c10df4c7
Step 9/17 : COPY --from=raw / /
 ---> b314b9c72585
Step 10/17 : COPY --from=tools /out/ /
 ---> 14ed3941ad2b
Step 11/17 : COPY installer /bits
 ---> cff92d9a39b8
Step 12/17 : COPY OVMF* /firmware/
 ---> 6bfa6d5656ab
Step 13/17 : COPY runme.sh /
 ---> 70b3325efd8a
Step 14/17 : RUN mkdir /in /out
 ---> Running in f20bb7b3c062
 ---> e0ec4674700d
Removing intermediate container f20bb7b3c062
Step 15/17 : WORKDIR /bits
 ---> 2d8f505ffc18
Removing intermediate container 2dbe67823405
Step 16/17 : ENTRYPOINT /runme.sh
 ---> Running in 47446125e313
 ---> c690dd0adf8a
Removing intermediate container 47446125e313
Step 17/17 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'eabf41c10e17f630813c439468ffd6a74e33e29d' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 6db64b5bb8ab
 ---> 39de1d717ac9
Removing intermediate container 6db64b5bb8ab
Successfully built 39de1d717ac9
Successfully tagged lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-arm64
Pushing lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-arm64
The push refers to a repository [docker.io/lfedge/eve]
328c4b41c364: Preparing
82eced6ff9d6: Preparing
7b32835b00b4: Preparing
51260164584f: Preparing
b1e0c42d50bf: Preparing
8eca285174be: Preparing
9a50430de2c7: Preparing
41396e0b608d: Preparing
9a50430de2c7: Waiting
41396e0b608d: Waiting
8eca285174be: Waiting
7b32835b00b4: Pushed
328c4b41c364: Pushed
82eced6ff9d6: Pushed
8eca285174be: Layer already exists
9a50430de2c7: Layer already exists
41396e0b608d: Layer already exists
b1e0c42d50bf: Pushed
51260164584f: Pushed
0.0.0-snapshot-master-eabf41c1-rpi-arm64: digest: sha256:ad47b2951fa6004e1f4f31d0d17d4bc95aa3bed67a2456b34f6ed0f612f84fa0 size: 1999
Pushing lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-arm64 to manifest lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi
time="2020-06-20T09:21:37+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-amd64\". Skipping image."
time="2020-06-20T09:21:40+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-s390x\". Skipping image."
Digest: sha256:38c5d05535e8611d901f08cf07f0427eb483030998fee4e2bece1f84b29c8388 434
Not signing lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi
Tagging lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-arm64 as lfedge/eve:snapshot-arm64
Pushing lfedge/eve:snapshot-arm64
The push refers to a repository [docker.io/lfedge/eve]
328c4b41c364: Preparing
82eced6ff9d6: Preparing
7b32835b00b4: Preparing
51260164584f: Preparing
b1e0c42d50bf: Preparing
8eca285174be: Preparing
9a50430de2c7: Preparing
41396e0b608d: Preparing
8eca285174be: Waiting
9a50430de2c7: Waiting
41396e0b608d: Waiting
7b32835b00b4: Layer already exists
328c4b41c364: Layer already exists
b1e0c42d50bf: Layer already exists
51260164584f: Layer already exists
82eced6ff9d6: Layer already exists
8eca285174be: Layer already exists
9a50430de2c7: Layer already exists
41396e0b608d: Layer already exists
snapshot-arm64: digest: sha256:ad47b2951fa6004e1f4f31d0d17d4bc95aa3bed67a2456b34f6ed0f612f84fa0 size: 1999
Pushing lfedge/eve:snapshot-arm64 to manifest lfedge/eve:snapshot
time="2020-06-20T09:22:04+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:snapshot-s390x\". Skipping image."
Digest: sha256:dc0aab5bc1721839ba76d0574b62e5cd4908380757c509de566911a313862e4b 743
Not signing lfedge/eve:snapshot
Build, push and release of "snapshot" complete, all done.
rm images/rootfs-rpi.yml.in images/rootfs-rpi.yml
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
mkdir -p /home/zededa-ci/src/eve/dist/arm64
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF.fd
02bab2cf6222be4d3c331aa36ed2e4596260ddbc36b24755d449a2bcee75b9a4
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_CODE.fd
tar: OVMF_CODE.fd: Not found in archive
tar: Exiting with failure status due to previous errors
21927e2e6ca9e2e19f6683234410b8ee51ff454034e747b8d41d5e3ef6cf34d2
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_VARS.fd
3f7f7a7f7eddd9ac197d465769b0eb8945fc1f428047680c1333af5860fe7921
mkdir -p /home/zededa-ci/src/eve/dist/arm64/installer
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5-arm64 EFI
64894c76ae2234c8227f947a981a9ad528f37aad621800f9a93c2169ee42c01c
./tools/makeconfig.sh /home/zededa-ci/src/eve/dist/arm64/installer/config.img conf/authorized_keys conf/DevicePortConfig conf/grub.cfg conf/onboard.cert.pem conf/onboard.key.pem conf/root-certificate.pem conf/server conf/v2tlsbaseroot-certificates.pem
1024+0 records in
1024+0 records out
mkfs.fat 4.1 (2017-01-24)
/config.img has 64 heads and 32 sectors per track,
hidden sectors 0x0000;
logical sector size is 512,
using 0xf8 media descriptor, with 2048 sectors;
drive number 0x80;
filesystem has 2 12-bit FATs and 4 sectors per cluster.
FAT size is 2 sectors, and provides 502 clusters.
There is 1 reserved sector.
Root directory contains 512 slots and uses 32 sectors.
Volume ID is 92d5b62a, volume label EVE        .
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b-arm64 initrd.img EFI
a13e73d7355fa7101684a3e3d15ae36687f87121385ec748fc49f70f6b4bb6fc
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
patching file images/rootfs-rpi-kvm.yml.in.sed (read from images/rootfs.yml.in)
./tools/makerootfs.sh images/rootfs-rpi-kvm.yml /home/zededa-ci/src/eve/dist/arm64/installer/rootfs-0.0.0-snapshot-master-eabf41c1-rpi-kvm-arm64.squash squash
Extract kernel image: lfedge/eve-new-kernel:39a59146b7b8861b857804b104ace9f2d64f411c-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
time="2020-06-20T09:22:39+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/runc:f79954950022fea76b8b6f10de58cb48e4fb3878-arm64
time="2020-06-20T09:23:01+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:23:01+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:23:01+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:32:34 -0700 2020"
time="2020-06-20T09:23:01+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:23:01+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/containerd:6ef473a228db6f6ee163f9b9a051102a1552a4ef-arm64
time="2020-06-20T09:23:23+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:23:23+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:23:23+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Sat Jun 6 08:35:43 -0700 2020"
time="2020-06-20T09:23:23+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:23:23+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/getty:v0.5-arm64
time="2020-06-20T09:23:44+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:23:44+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:23:44+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/memlogd:v0.5-arm64
Process init image: lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5-arm64
Process init image: lfedge/eve-fw:60af30b13b43cdc50b6cbb6e30a5e4d1feb154e0-arm64
Process init image: lfedge/eve-xen:92959f50dff5b1a5b6ab8fbc9014369f3e3a493c-arm64
Process init image: lfedge/eve-gpt-tools:e378abea66b77fb7e9587b798a8caf5c78f440c1-arm64
Process init image: lfedge/eve-dom0-ztools:5450ed24dca591ec67c2a7465df5b203e7e92479-arm64
Add onboot containers:
  Create OCI config for lfedge/eve-storage-init:31ed12195e31e7f4b118cbcc2cecfce815e5c4ed-arm64
  Create OCI config for linuxkit/sysctl:v0.5-arm64
time="2020-06-20T09:24:43+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:24:43+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-rngd:6e16dad8553a6c2939854abfa9f34a5f2604bce7-arm64
  Create OCI config for linuxkit/modprobe:v0.5-arm64
time="2020-06-20T09:25:07+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:25:07+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
Add service containers:
  Create OCI config for lfedge/eve-rsyslog:49556e27198614b57d70e76f8bfcca3068056cfc-arm64
  Create OCI config for linuxkit/openntpd:v0.5-arm64
time="2020-06-20T09:25:29+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:25:29+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:25:29+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:06:33 -0700 2020"
time="2020-06-20T09:25:29+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:25:29+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:25:29+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for linuxkit/sshd:v0.5-arm64
time="2020-06-20T09:25:47+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T09:25:47+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T09:25:47+02:00" level=warning msg="Error getting targets/justin: targets/justin expired at Fri May 29 15:28:54 +0100 2020"
time="2020-06-20T09:25:47+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:25:47+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-wwan:31a3911c7aa7e5c44e19406d6277173b494c6f35-arm64
  Create OCI config for lfedge/eve-wlan:ac31bb78810451ef1333b3970f29bebc0a6c9c44-arm64
  Create OCI config for lfedge/eve-lisp:6fe9cf905fb0fc657f646a82b42aa95e4f68f5e5-arm64
  Create OCI config for lfedge/eve-guacd:f1f08a0fcadd35320f5d03fe0f0a1a318e8449be-arm64
  Create OCI config for lfedge/eve-pillar:ad579245c66d591564493bd9fae22d8fcbda7c00-arm64
  Create OCI config for lfedge/eve-vtpm:11365a20a21fa000e9d48614e9303c8f0e81477f-arm64
  Create OCI config for lfedge/eve-watchdog:288a4129631e73aad6a9e5c01f229205f5dbc9be-arm64
  Create OCI config for lfedge/eve-xen-tools:955c1a053b125fc78467091618d8d1e6cfa80c08-arm64
Add files:
  /etc/eve-release
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[==============================================-             ] 17300/21931  78%[===============================================/            ] 17700/21931  80%[================================================-           ] 17900/21931  81%[=================================================/          ] 18300/21931  83%[===========================================================\] 21931/21931 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 253541.00 Kbytes (247.60 Mbytes)
	33.00% of uncompressed filesystem size (768401.04 Kbytes)
Inode table size 245004 bytes (239.26 Kbytes)
	25.11% of uncompressed inode table size (975854 bytes)
Directory table size 265754 bytes (259.53 Kbytes)
	45.46% of uncompressed directory table size (584628 bytes)
Number of duplicate files found 8681
Number of inodes 25060
Number of files 17094
Number of fragments 749
Number of symbolic links  5901
Number of device nodes 4
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 2061
Number of ids (unique uids + gids) 4
Number of uids 2
	root (0)
	unknown (1000)
Number of gids 4
	root (0)
	shadow (42)
	tty (5)
	unknown (1000)
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-u-boot:478e1045beb5159538f0bef9a38ca2b5824e7f85-arm64 boot
a41c5cd53680d241542a1d8c623558ce5b09a8fe1890fda25f13db3862da1c51
cp pkg/eve/build.yml pkg/eve/runme.sh images/*.yml /home/zededa-ci/src/eve/dist/arm64
DOCKER_ARCH_TAG=arm64 ./tools/parse-pkgs.sh pkg/eve/Dockerfile.in > /home/zededa-ci/src/eve/dist/arm64/Dockerfile
/home/zededa-ci/src/eve/build-tools/bin/linuxkit pkg push --disable-content-trust --hash-path /home/zededa-ci/src/eve --hash 0.0.0-snapshot-master-eabf41c1-rpi-kvm --release snapshot --force --disable-cache /home/zededa-ci/src/eve/dist/arm64
Building and pushing "lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-kvm"
Sending build context to Docker daemon  275.7MB
Step 1/17 : FROM alpine:3.9.4 as tools
 ---> ce544de9ee2c
Step 2/17 : RUN mkdir -p /out/etc/apk /out/boot && cp -r /etc/apk/* /out/etc/apk/
 ---> Running in e7015fa8c16e
 ---> cbcdf109e8dc
Removing intermediate container e7015fa8c16e
Step 3/17 : RUN apk add --no-cache --initdb -p /out qemu-img=3.1.0-r3 tar=1.32-r0
 ---> Running in fe60077d5557
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/aarch64/APKINDEX.tar.gz
(1/19) Installing libaio (0.3.111-r0)
(2/19) Installing musl (1.1.20-r5)
(3/19) Installing busybox (1.29.3-r10)
Executing busybox-1.29.3-r10.post-install
(4/19) Installing libffi (3.2.1-r6)
(5/19) Installing libintl (0.19.8.1-r4)
(6/19) Installing libuuid (2.33-r0)
(7/19) Installing libblkid (2.33-r0)
(8/19) Installing libmount (2.33-r0)
(9/19) Installing pcre (8.42-r1)
(10/19) Installing zlib (1.2.11-r1)
(11/19) Installing glib (2.58.1-r3)
(12/19) Installing gmp (6.1.2-r1)
(13/19) Installing nettle (3.4.1-r0)
(14/19) Installing p11-kit (0.23.14-r0)
(15/19) Installing libtasn1 (4.14-r0)
(16/19) Installing libunistring (0.9.10-r0)
(17/19) Installing gnutls (3.6.14-r0)
(18/19) Installing qemu-img (3.1.0-r3)
(19/19) Installing tar (1.32-r0)
Executing busybox-1.29.3-r10.trigger
Executing glib-2.58.1-r3.trigger
OK: 16 MiB in 19 packages
 ---> c3f583954693
Removing intermediate container fe60077d5557
Step 4/17 : FROM lfedge/eve-mkimage-iso-efi:e0cc637b8d693c6718d31dc1cbab1f7557823c0b-arm64 as iso
 ---> 74679271e526
Step 5/17 : FROM lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b-arm64 as raw
 ---> 28084ef12a49
Step 6/17 : RUN rm /initrd.img
 ---> Running in 6f685fb1e742
 ---> 709b87a9265b
Removing intermediate container 6f685fb1e742
Step 7/17 : FROM lfedge/eve-mkconf:b9a89148618d45bd26a93a68701f5d0588e501a9-arm64 as conf
 ---> ac9fa4d52a61
Step 8/17 : COPY --from=iso / /
 ---> 9da31c623c06
Step 9/17 : COPY --from=raw / /
 ---> 332c38e4f3b7
Step 10/17 : COPY --from=tools /out/ /
 ---> 2bd369b37f94
Step 11/17 : COPY installer /bits
 ---> af0e499bfdbd
Step 12/17 : COPY OVMF* /firmware/
 ---> 115987767f03
Step 13/17 : COPY runme.sh /
 ---> 6b7fc10becac
Step 14/17 : RUN mkdir /in /out
 ---> Running in 2097a2a47042
 ---> 6b3d8808277d
Removing intermediate container 2097a2a47042
Step 15/17 : WORKDIR /bits
 ---> 5e65b6454a77
Removing intermediate container e37f39f11acd
Step 16/17 : ENTRYPOINT /runme.sh
 ---> Running in 55cf2829fcbf
 ---> 60213dd24a3c
Removing intermediate container 55cf2829fcbf
Step 17/17 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'eabf41c10e17f630813c439468ffd6a74e33e29d' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in a999389f5168
 ---> 35ecfbaa6fcc
Removing intermediate container a999389f5168
Successfully built 35ecfbaa6fcc
Successfully tagged lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-kvm-arm64
Pushing lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-kvm-arm64
The push refers to a repository [docker.io/lfedge/eve]
d7972af2b094: Preparing
bd9a495607b3: Preparing
7efd4fa978f0: Preparing
3759c1c93ab9: Preparing
64380d778026: Preparing
8eca285174be: Preparing
9a50430de2c7: Preparing
41396e0b608d: Preparing
9a50430de2c7: Waiting
41396e0b608d: Waiting
8eca285174be: Waiting
bd9a495607b3: Pushed
d7972af2b094: Pushed
8eca285174be: Layer already exists
7efd4fa978f0: Pushed
9a50430de2c7: Layer already exists
41396e0b608d: Layer already exists
64380d778026: Pushed
3759c1c93ab9: Pushed
0.0.0-snapshot-master-eabf41c1-rpi-kvm-arm64: digest: sha256:a34e0a5816839f5fba9d0ff99effd81314b717938af2d9a6baa8e22f7d882e5e size: 1999
Pushing lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-kvm-arm64 to manifest lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-kvm
time="2020-06-20T09:31:55+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-kvm-amd64\". Skipping image."
time="2020-06-20T09:31:58+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-kvm-s390x\". Skipping image."
Digest: sha256:fb2cadc15b71c9f5b6f153079de324badff2a5d1773edfc9d698715f86ac70ce 434
Not signing lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-kvm
Tagging lfedge/eve:0.0.0-snapshot-master-eabf41c1-rpi-kvm-arm64 as lfedge/eve:snapshot-arm64
Pushing lfedge/eve:snapshot-arm64
The push refers to a repository [docker.io/lfedge/eve]
d7972af2b094: Preparing
bd9a495607b3: Preparing
7efd4fa978f0: Preparing
3759c1c93ab9: Preparing
64380d778026: Preparing
8eca285174be: Preparing
9a50430de2c7: Preparing
41396e0b608d: Preparing
8eca285174be: Waiting
9a50430de2c7: Waiting
41396e0b608d: Waiting
bd9a495607b3: Layer already exists
7efd4fa978f0: Layer already exists
64380d778026: Layer already exists
d7972af2b094: Layer already exists
3759c1c93ab9: Layer already exists
9a50430de2c7: Layer already exists
8eca285174be: Layer already exists
41396e0b608d: Layer already exists
snapshot-arm64: digest: sha256:a34e0a5816839f5fba9d0ff99effd81314b717938af2d9a6baa8e22f7d882e5e size: 1999
Pushing lfedge/eve:snapshot-arm64 to manifest lfedge/eve:snapshot
time="2020-06-20T09:32:21+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:snapshot-s390x\". Skipping image."
Digest: sha256:452265c4d96780888af829d50443a84eb05bee2c320cb567cb216d3aee1343fa 743
Not signing lfedge/eve:snapshot
Build, push and release of "snapshot" complete, all done.
rm images/rootfs-rpi-kvm.yml images/rootfs-rpi-kvm.yml.in
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
mkdir -p /home/zededa-ci/src/eve/dist/arm64
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF.fd
d83e4de057bef4a43f4e4a5436f67ae14a30e1bb9036197d85dedcb9efc3ff11
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_CODE.fd
tar: OVMF_CODE.fd: Not found in archive
tar: Exiting with failure status due to previous errors
6a59a2c783367a5f8d76348f0d38627bf3febf60ab4388d822152e0281c06b2c
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_VARS.fd
1b87928a81ae5076022990ea26ccd25bbc03d34f8c4cef8e63e9145389fb0c43
mkdir -p /home/zededa-ci/src/eve/dist/arm64/installer
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5-arm64 EFI
333dcd74ad9513c7fa45b5f8b7a7154c79fad53e8ccb5c0de61b4f721d50ab65
./tools/makeconfig.sh /home/zededa-ci/src/eve/dist/arm64/installer/config.img conf/authorized_keys conf/DevicePortConfig conf/grub.cfg conf/onboard.cert.pem conf/onboard.key.pem conf/root-certificate.pem conf/server conf/v2tlsbaseroot-certificates.pem
1024+0 records in
1024+0 records out
mkfs.fat 4.1 (2017-01-24)
/config.img has 64 heads and 32 sectors per track,
hidden sectors 0x0000;
logical sector size is 512,
using 0xf8 media descriptor, with 2048 sectors;
drive number 0x80;
filesystem has 2 12-bit FATs and 4 sectors per cluster.
FAT size is 2 sectors, and provides 502 clusters.
There is 1 reserved sector.
Root directory contains 512 slots and uses 32 sectors.
Volume ID is b986a48e, volume label EVE        .
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b-arm64 initrd.img EFI
0c81c7d539d129a80d99b54ef1ca9de9a159b7f6f8f1363d2e5d42ee4eb41372
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
./tools/makerootfs.sh images/rootfs-kvm.yml /home/zededa-ci/src/eve/dist/arm64/installer/rootfs-0.0.0-snapshot-master-eabf41c1-kvm-arm64.squash squash
Extract kernel image: lfedge/eve-kernel:de55c886d1a6c3b503641aacb9a539978f053dca-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
time="2020-06-20T09:32:58+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/runc:f79954950022fea76b8b6f10de58cb48e4fb3878-arm64
time="2020-06-20T09:33:19+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:33:19+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:33:19+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:32:34 -0700 2020"
time="2020-06-20T09:33:19+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:33:19+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/containerd:6ef473a228db6f6ee163f9b9a051102a1552a4ef-arm64
time="2020-06-20T09:33:41+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:33:41+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:33:41+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Sat Jun 6 08:35:43 -0700 2020"
time="2020-06-20T09:33:41+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:33:41+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/getty:v0.5-arm64
time="2020-06-20T09:34:04+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:34:04+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:34:04+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/memlogd:v0.5-arm64
Process init image: lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5-arm64
Process init image: lfedge/eve-fw:60af30b13b43cdc50b6cbb6e30a5e4d1feb154e0-arm64
Process init image: lfedge/eve-xen:92959f50dff5b1a5b6ab8fbc9014369f3e3a493c-arm64
Process init image: lfedge/eve-gpt-tools:e378abea66b77fb7e9587b798a8caf5c78f440c1-arm64
Process init image: lfedge/eve-dom0-ztools:5450ed24dca591ec67c2a7465df5b203e7e92479-arm64
Add onboot containers:
  Create OCI config for lfedge/eve-storage-init:31ed12195e31e7f4b118cbcc2cecfce815e5c4ed-arm64
  Create OCI config for linuxkit/sysctl:v0.5-arm64
time="2020-06-20T09:35:06+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:35:06+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-rngd:6e16dad8553a6c2939854abfa9f34a5f2604bce7-arm64
  Create OCI config for linuxkit/modprobe:v0.5-arm64
time="2020-06-20T09:35:27+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:35:27+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
Add service containers:
  Create OCI config for lfedge/eve-rsyslog:49556e27198614b57d70e76f8bfcca3068056cfc-arm64
  Create OCI config for linuxkit/openntpd:v0.5-arm64
time="2020-06-20T09:35:48+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:35:48+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:35:48+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:06:33 -0700 2020"
time="2020-06-20T09:35:48+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:35:48+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:35:48+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for linuxkit/sshd:v0.5-arm64
time="2020-06-20T09:36:08+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T09:36:08+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T09:36:08+02:00" level=warning msg="Error getting targets/justin: targets/justin expired at Fri May 29 15:28:54 +0100 2020"
time="2020-06-20T09:36:08+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:36:08+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-wwan:31a3911c7aa7e5c44e19406d6277173b494c6f35-arm64
  Create OCI config for lfedge/eve-wlan:ac31bb78810451ef1333b3970f29bebc0a6c9c44-arm64
  Create OCI config for lfedge/eve-lisp:6fe9cf905fb0fc657f646a82b42aa95e4f68f5e5-arm64
  Create OCI config for lfedge/eve-guacd:f1f08a0fcadd35320f5d03fe0f0a1a318e8449be-arm64
  Create OCI config for lfedge/eve-pillar:ad579245c66d591564493bd9fae22d8fcbda7c00-arm64
  Create OCI config for lfedge/eve-vtpm:11365a20a21fa000e9d48614e9303c8f0e81477f-arm64
  Create OCI config for lfedge/eve-watchdog:288a4129631e73aad6a9e5c01f229205f5dbc9be-arm64
  Create OCI config for lfedge/eve-xen-tools:955c1a053b125fc78467091618d8d1e6cfa80c08-arm64
Add files:
  /etc/eve-release
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[======================/                                     ]  8300/21364  38%[==============================|                             ] 10900/21364  51%[===========================================================\] 21364/21364 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 248357.97 Kbytes (242.54 Mbytes)
	33.31% of uncompressed filesystem size (745697.42 Kbytes)
Inode table size 241276 bytes (235.62 Kbytes)
	25.10% of uncompressed inode table size (961430 bytes)
Directory table size 260858 bytes (254.74 Kbytes)
	45.59% of uncompressed directory table size (572131 bytes)
Number of duplicate files found 8681
Number of inodes 24620
Number of files 16683
Number of fragments 677
Number of symbolic links  5901
Number of device nodes 4
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 2032
Number of ids (unique uids + gids) 4
Number of uids 2
	root (0)
	unknown (1000)
Number of gids 4
	root (0)
	shadow (42)
	tty (5)
	unknown (1000)
cp pkg/eve/build.yml pkg/eve/runme.sh images/*.yml /home/zededa-ci/src/eve/dist/arm64
DOCKER_ARCH_TAG=arm64 ./tools/parse-pkgs.sh pkg/eve/Dockerfile.in > /home/zededa-ci/src/eve/dist/arm64/Dockerfile
/home/zededa-ci/src/eve/build-tools/bin/linuxkit pkg push --disable-content-trust --hash-path /home/zededa-ci/src/eve --hash 0.0.0-snapshot-master-eabf41c1-kvm --release snapshot --force --disable-cache /home/zededa-ci/src/eve/dist/arm64
Building and pushing "lfedge/eve:0.0.0-snapshot-master-eabf41c1-kvm"
Sending build context to Docker daemon    267MB
Step 1/17 : FROM alpine:3.9.4 as tools
 ---> ce544de9ee2c
Step 2/17 : RUN mkdir -p /out/etc/apk /out/boot && cp -r /etc/apk/* /out/etc/apk/
 ---> Running in 12140dc85452
 ---> 46f2597a79c6
Removing intermediate container 12140dc85452
Step 3/17 : RUN apk add --no-cache --initdb -p /out qemu-img=3.1.0-r3 tar=1.32-r0
 ---> Running in 4b71a0e68cf0
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/aarch64/APKINDEX.tar.gz
(1/19) Installing libaio (0.3.111-r0)
(2/19) Installing musl (1.1.20-r5)
(3/19) Installing busybox (1.29.3-r10)
Executing busybox-1.29.3-r10.post-install
(4/19) Installing libffi (3.2.1-r6)
(5/19) Installing libintl (0.19.8.1-r4)
(6/19) Installing libuuid (2.33-r0)
(7/19) Installing libblkid (2.33-r0)
(8/19) Installing libmount (2.33-r0)
(9/19) Installing pcre (8.42-r1)
(10/19) Installing zlib (1.2.11-r1)
(11/19) Installing glib (2.58.1-r3)
(12/19) Installing gmp (6.1.2-r1)
(13/19) Installing nettle (3.4.1-r0)
(14/19) Installing p11-kit (0.23.14-r0)
(15/19) Installing libtasn1 (4.14-r0)
(16/19) Installing libunistring (0.9.10-r0)
(17/19) Installing gnutls (3.6.14-r0)
(18/19) Installing qemu-img (3.1.0-r3)
(19/19) Installing tar (1.32-r0)
Executing busybox-1.29.3-r10.trigger
Executing glib-2.58.1-r3.trigger
OK: 16 MiB in 19 packages
 ---> 419f1b842812
Removing intermediate container 4b71a0e68cf0
Step 4/17 : FROM lfedge/eve-mkimage-iso-efi:e0cc637b8d693c6718d31dc1cbab1f7557823c0b-arm64 as iso
 ---> 74679271e526
Step 5/17 : FROM lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b-arm64 as raw
 ---> 28084ef12a49
Step 6/17 : RUN rm /initrd.img
 ---> Running in 7789f1deef6c
 ---> 021f3cc0a6ab
Removing intermediate container 7789f1deef6c
Step 7/17 : FROM lfedge/eve-mkconf:b9a89148618d45bd26a93a68701f5d0588e501a9-arm64 as conf
 ---> ac9fa4d52a61
Step 8/17 : COPY --from=iso / /
 ---> c7359cedb2e7
Step 9/17 : COPY --from=raw / /
 ---> 40a33bd0c753
Step 10/17 : COPY --from=tools /out/ /
 ---> df4e6b057188
Step 11/17 : COPY installer /bits
 ---> bb106eb4f6d3
Step 12/17 : COPY OVMF* /firmware/
 ---> 4df965d1f5a3
Step 13/17 : COPY runme.sh /
 ---> 1a70eeca8c31
Step 14/17 : RUN mkdir /in /out
 ---> Running in 7b75fb2e6e05
 ---> 9099a877c3c0
Removing intermediate container 7b75fb2e6e05
Step 15/17 : WORKDIR /bits
 ---> a19779e92612
Removing intermediate container 188f3a710f43
Step 16/17 : ENTRYPOINT /runme.sh
 ---> Running in 390bc4c61faf
 ---> 2193eef9f3c1
Removing intermediate container 390bc4c61faf
Step 17/17 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'eabf41c10e17f630813c439468ffd6a74e33e29d' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 390a0c567fc7
 ---> e5c7ed9a5106
Removing intermediate container 390a0c567fc7
Successfully built e5c7ed9a5106
Successfully tagged lfedge/eve:0.0.0-snapshot-master-eabf41c1-kvm-arm64
Pushing lfedge/eve:0.0.0-snapshot-master-eabf41c1-kvm-arm64
The push refers to a repository [docker.io/lfedge/eve]
a072ef056cf1: Preparing
bd7e974f34d1: Preparing
3bdb6c07671f: Preparing
a32585a64dfb: Preparing
9f747b7a82fc: Preparing
8eca285174be: Preparing
9a50430de2c7: Preparing
41396e0b608d: Preparing
8eca285174be: Waiting
9a50430de2c7: Waiting
41396e0b608d: Waiting
a072ef056cf1: Pushed
8eca285174be: Layer already exists
3bdb6c07671f: Pushed
bd7e974f34d1: Pushed
9a50430de2c7: Layer already exists
41396e0b608d: Layer already exists
9f747b7a82fc: Pushed
a32585a64dfb: Pushed
0.0.0-snapshot-master-eabf41c1-kvm-arm64: digest: sha256:8a177b8535092104563bcb1725279190e602060deb7553ebd501d76a4e7930f4 size: 1999
Pushing lfedge/eve:0.0.0-snapshot-master-eabf41c1-kvm-arm64 to manifest lfedge/eve:0.0.0-snapshot-master-eabf41c1-kvm
time="2020-06-20T09:41:11+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:0.0.0-snapshot-master-eabf41c1-kvm-s390x\". Skipping image."
Digest: sha256:98d40453b1342a11b84c7a14f53da304093057193bac8a91da6d1a6de65882c9 743
Not signing lfedge/eve:0.0.0-snapshot-master-eabf41c1-kvm
Tagging lfedge/eve:0.0.0-snapshot-master-eabf41c1-kvm-arm64 as lfedge/eve:snapshot-arm64
Pushing lfedge/eve:snapshot-arm64
The push refers to a repository [docker.io/lfedge/eve]
a072ef056cf1: Preparing
bd7e974f34d1: Preparing
3bdb6c07671f: Preparing
a32585a64dfb: Preparing
9f747b7a82fc: Preparing
8eca285174be: Preparing
9a50430de2c7: Preparing
41396e0b608d: Preparing
8eca285174be: Waiting
9a50430de2c7: Waiting
41396e0b608d: Waiting
bd7e974f34d1: Layer already exists
3bdb6c07671f: Layer already exists
9f747b7a82fc: Layer already exists
a32585a64dfb: Layer already exists
a072ef056cf1: Layer already exists
8eca285174be: Layer already exists
9a50430de2c7: Layer already exists
41396e0b608d: Layer already exists
snapshot-arm64: digest: sha256:8a177b8535092104563bcb1725279190e602060deb7553ebd501d76a4e7930f4 size: 1999
Pushing lfedge/eve:snapshot-arm64 to manifest lfedge/eve:snapshot
time="2020-06-20T09:41:35+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:snapshot-s390x\". Skipping image."
Digest: sha256:bafc6886ef8c799124b464d4cf8cdcb7fab3985d34020a50d8eca6fc1225d510 743
Not signing lfedge/eve:snapshot
Build, push and release of "snapshot" complete, all done.
rm images/rootfs-kvm.yml images/rootfs-kvm.yml.in
Creating go builder image for user zededa-ci
eve-build-zededa-ci docker container is ready to use
mkdir -p /home/zededa-ci/src/eve/dist/arm64
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF.fd
32654af36ad6d3e89db08b9737ca605fec63a2bad27ee498ef1597619d4314ac
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_CODE.fd
tar: OVMF_CODE.fd: Not found in archive
tar: Exiting with failure status due to previous errors
021262f5125241cf2d5170cc89f20bfe7f72dd56aacd6071c4dc8986beb3560f
cd /home/zededa-ci/src/eve/dist/arm64 ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-uefi:5c00deeac0b200565fee599905f5346ffaafc10b-arm64 OVMF_VARS.fd
01012a9953979dfbce66f3be63fc748512b2e83862d3b55e9f56666cbc2b9ab6
mkdir -p /home/zededa-ci/src/eve/dist/arm64/installer
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5-arm64 EFI
501ba8556827baecfcdb15e41c7b9ebcfad8cab71821775f0fadefded90a5618
./tools/makeconfig.sh /home/zededa-ci/src/eve/dist/arm64/installer/config.img conf/authorized_keys conf/DevicePortConfig conf/grub.cfg conf/onboard.cert.pem conf/onboard.key.pem conf/root-certificate.pem conf/server conf/v2tlsbaseroot-certificates.pem
1024+0 records in
1024+0 records out
mkfs.fat 4.1 (2017-01-24)
/config.img has 64 heads and 32 sectors per track,
hidden sectors 0x0000;
logical sector size is 512,
using 0xf8 media descriptor, with 2048 sectors;
drive number 0x80;
filesystem has 2 12-bit FATs and 4 sectors per cluster.
FAT size is 2 sectors, and provides 502 clusters.
There is 1 reserved sector.
Root directory contains 512 slots and uses 32 sectors.
Volume ID is db8c9741, volume label EVE        .
cd /home/zededa-ci/src/eve/dist/arm64/installer ; _() { C=`docker create $1 fake` ; shift ; docker export $C | tar -xf - "$@" ; docker rm $C ; } ; _ lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b-arm64 initrd.img EFI
f9db5d3fedc5dffaa74e4cd3cab966cab31191575ba8acd5cb862f6ce95c7ac3
Done building /home/zededa-ci/src/eve/build-tools/bin/linuxkit
./tools/makerootfs.sh images/rootfs-xen.yml /home/zededa-ci/src/eve/dist/arm64/installer/rootfs-0.0.0-snapshot-master-eabf41c1-xen-arm64.squash squash
Extract kernel image: lfedge/eve-kernel:de55c886d1a6c3b503641aacb9a539978f053dca-arm64
Add init containers:
Process init image: linuxkit/init:v0.5-arm64
time="2020-06-20T09:41:57+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/runc:f79954950022fea76b8b6f10de58cb48e4fb3878-arm64
time="2020-06-20T09:42:15+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:42:15+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:42:15+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:32:34 -0700 2020"
time="2020-06-20T09:42:15+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:42:15+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/containerd:6ef473a228db6f6ee163f9b9a051102a1552a4ef-arm64
time="2020-06-20T09:42:34+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:42:34+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:42:34+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Sat Jun 6 08:35:43 -0700 2020"
time="2020-06-20T09:42:34+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:42:34+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/getty:v0.5-arm64
time="2020-06-20T09:42:53+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:42:53+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:42:53+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
Process init image: linuxkit/memlogd:v0.5-arm64
Process init image: lfedge/eve-grub:3ea7b9ddda60231ee7234e3517c4bb357687afa5-arm64
Process init image: lfedge/eve-fw:60af30b13b43cdc50b6cbb6e30a5e4d1feb154e0-arm64
Process init image: lfedge/eve-xen:92959f50dff5b1a5b6ab8fbc9014369f3e3a493c-arm64
Process init image: lfedge/eve-gpt-tools:e378abea66b77fb7e9587b798a8caf5c78f440c1-arm64
Process init image: lfedge/eve-dom0-ztools:5450ed24dca591ec67c2a7465df5b203e7e92479-arm64
Add onboot containers:
  Create OCI config for lfedge/eve-storage-init:31ed12195e31e7f4b118cbcc2cecfce815e5c4ed-arm64
  Create OCI config for linuxkit/sysctl:v0.5-arm64
time="2020-06-20T09:43:39+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:43:39+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-rngd:6e16dad8553a6c2939854abfa9f34a5f2604bce7-arm64
  Create OCI config for linuxkit/modprobe:v0.5-arm64
time="2020-06-20T09:43:58+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:43:58+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
Add service containers:
  Create OCI config for lfedge/eve-rsyslog:49556e27198614b57d70e76f8bfcca3068056cfc-arm64
  Create OCI config for linuxkit/openntpd:v0.5-arm64
time="2020-06-20T09:44:17+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:44:17+02:00" level=error msg="Metadata for targets/riyaz expired"
time="2020-06-20T09:44:17+02:00" level=warning msg="Error getting targets/riyaz: targets/riyaz expired at Mon May 25 15:06:33 -0700 2020"
time="2020-06-20T09:44:17+02:00" level=warning msg="targets/ian metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:44:17+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:44:17+02:00" level=warning msg="targets/justin metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for linuxkit/sshd:v0.5-arm64
time="2020-06-20T09:44:35+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T09:44:35+02:00" level=error msg="Metadata for targets/justin expired"
time="2020-06-20T09:44:35+02:00" level=warning msg="Error getting targets/justin: targets/justin expired at Fri May 29 15:28:54 +0100 2020"
time="2020-06-20T09:44:35+02:00" level=warning msg="targets metadata is nearing expiry, you should re-sign the role metadata"
time="2020-06-20T09:44:35+02:00" level=warning msg="targets/riyaz metadata is nearing expiry, you should re-sign the role metadata"
  Create OCI config for lfedge/eve-wwan:31a3911c7aa7e5c44e19406d6277173b494c6f35-arm64
  Create OCI config for lfedge/eve-wlan:ac31bb78810451ef1333b3970f29bebc0a6c9c44-arm64
  Create OCI config for lfedge/eve-lisp:6fe9cf905fb0fc657f646a82b42aa95e4f68f5e5-arm64
  Create OCI config for lfedge/eve-guacd:f1f08a0fcadd35320f5d03fe0f0a1a318e8449be-arm64
  Create OCI config for lfedge/eve-pillar:ad579245c66d591564493bd9fae22d8fcbda7c00-arm64
  Create OCI config for lfedge/eve-vtpm:11365a20a21fa000e9d48614e9303c8f0e81477f-arm64
  Create OCI config for lfedge/eve-watchdog:288a4129631e73aad6a9e5c01f229205f5dbc9be-arm64
  Create OCI config for lfedge/eve-xen-tools:955c1a053b125fc78467091618d8d1e6cfa80c08-arm64
Add files:
  /etc/eve-release
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on /rootfs.img, block size 131072.
[======================-                                     ]  8000/21364  37%[=====================================================|      ] 19400/21364  90%[===========================================================|] 21364/21364 100%

Exportable Squashfs 4.0 filesystem, gzip compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments, compressed xattrs
	duplicates are removed
Filesystem size 248358.01 Kbytes (242.54 Mbytes)
	33.31% of uncompressed filesystem size (745697.42 Kbytes)
Inode table size 241301 bytes (235.65 Kbytes)
	25.10% of uncompressed inode table size (961430 bytes)
Directory table size 260866 bytes (254.75 Kbytes)
	45.60% of uncompressed directory table size (572131 bytes)
Number of duplicate files found 8681
Number of inodes 24620
Number of files 16683
Number of fragments 677
Number of symbolic links  5901
Number of device nodes 4
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 2032
Number of ids (unique uids + gids) 4
Number of uids 2
	root (0)
	unknown (1000)
Number of gids 4
	root (0)
	shadow (42)
	tty (5)
	unknown (1000)
cp pkg/eve/build.yml pkg/eve/runme.sh images/*.yml /home/zededa-ci/src/eve/dist/arm64
DOCKER_ARCH_TAG=arm64 ./tools/parse-pkgs.sh pkg/eve/Dockerfile.in > /home/zededa-ci/src/eve/dist/arm64/Dockerfile
/home/zededa-ci/src/eve/build-tools/bin/linuxkit pkg push --disable-content-trust --hash-path /home/zededa-ci/src/eve --hash 0.0.0-snapshot-master-eabf41c1-xen --release snapshot --force --disable-cache /home/zededa-ci/src/eve/dist/arm64
Building and pushing "lfedge/eve:0.0.0-snapshot-master-eabf41c1-xen"
Sending build context to Docker daemon    267MB
Step 1/17 : FROM alpine:3.9.4 as tools
 ---> ce544de9ee2c
Step 2/17 : RUN mkdir -p /out/etc/apk /out/boot && cp -r /etc/apk/* /out/etc/apk/
 ---> Running in 102710b0eca6
 ---> 666074af7a99
Removing intermediate container 102710b0eca6
Step 3/17 : RUN apk add --no-cache --initdb -p /out qemu-img=3.1.0-r3 tar=1.32-r0
 ---> Running in bf9282aff9aa
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/aarch64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/aarch64/APKINDEX.tar.gz
(1/19) Installing libaio (0.3.111-r0)
(2/19) Installing musl (1.1.20-r5)
(3/19) Installing busybox (1.29.3-r10)
Executing busybox-1.29.3-r10.post-install
(4/19) Installing libffi (3.2.1-r6)
(5/19) Installing libintl (0.19.8.1-r4)
(6/19) Installing libuuid (2.33-r0)
(7/19) Installing libblkid (2.33-r0)
(8/19) Installing libmount (2.33-r0)
(9/19) Installing pcre (8.42-r1)
(10/19) Installing zlib (1.2.11-r1)
(11/19) Installing glib (2.58.1-r3)
(12/19) Installing gmp (6.1.2-r1)
(13/19) Installing nettle (3.4.1-r0)
(14/19) Installing p11-kit (0.23.14-r0)
(15/19) Installing libtasn1 (4.14-r0)
(16/19) Installing libunistring (0.9.10-r0)
(17/19) Installing gnutls (3.6.14-r0)
(18/19) Installing qemu-img (3.1.0-r3)
(19/19) Installing tar (1.32-r0)
Executing busybox-1.29.3-r10.trigger
Executing glib-2.58.1-r3.trigger
OK: 16 MiB in 19 packages
 ---> 613fcb4bd59d
Removing intermediate container bf9282aff9aa
Step 4/17 : FROM lfedge/eve-mkimage-iso-efi:e0cc637b8d693c6718d31dc1cbab1f7557823c0b-arm64 as iso
 ---> 74679271e526
Step 5/17 : FROM lfedge/eve-mkimage-raw-efi:80aee6209772d98c323d04cb76c617a2bd31937b-arm64 as raw
 ---> 28084ef12a49
Step 6/17 : RUN rm /initrd.img
 ---> Running in a6c4e54c7a40
 ---> ddf1bca0d1cc
Removing intermediate container a6c4e54c7a40
Step 7/17 : FROM lfedge/eve-mkconf:b9a89148618d45bd26a93a68701f5d0588e501a9-arm64 as conf
 ---> ac9fa4d52a61
Step 8/17 : COPY --from=iso / /
 ---> 1edbc18e2d79
Step 9/17 : COPY --from=raw / /
 ---> d5e503150b8b
Step 10/17 : COPY --from=tools /out/ /
 ---> d1ea6ff59878
Step 11/17 : COPY installer /bits
 ---> 6191344f943a
Step 12/17 : COPY OVMF* /firmware/
 ---> a591f65d614e
Step 13/17 : COPY runme.sh /
 ---> cd50bcc363fc
Step 14/17 : RUN mkdir /in /out
 ---> Running in 1a18e257e9a6
 ---> d5b231bb65db
Removing intermediate container 1a18e257e9a6
Step 15/17 : WORKDIR /bits
 ---> 2ebc777654a3
Removing intermediate container 708a42b5776f
Step 16/17 : ENTRYPOINT /runme.sh
 ---> Running in ff5fdda66418
 ---> 6739f82c54ec
Removing intermediate container ff5fdda66418
Step 17/17 : LABEL org.mobyproject.linuxkit.revision 'unknown' org.mobyproject.linuxkit.version 'unknown' org.opencontainers.image.revision 'eabf41c10e17f630813c439468ffd6a74e33e29d' org.opencontainers.image.source 'https://github.com/linuxkit/linuxkit'
 ---> Running in 0d4ca43fbc00
 ---> 5aa411967c50
Removing intermediate container 0d4ca43fbc00
Successfully built 5aa411967c50
Successfully tagged lfedge/eve:0.0.0-snapshot-master-eabf41c1-xen-arm64
Pushing lfedge/eve:0.0.0-snapshot-master-eabf41c1-xen-arm64
The push refers to a repository [docker.io/lfedge/eve]
0f01a12871a7: Preparing
396a9df96f9c: Preparing
e285777da5b2: Preparing
6f25bf208135: Preparing
6aa921829638: Preparing
8eca285174be: Preparing
9a50430de2c7: Preparing
41396e0b608d: Preparing
9a50430de2c7: Waiting
8eca285174be: Waiting
41396e0b608d: Waiting
0f01a12871a7: Pushed
8eca285174be: Layer already exists
396a9df96f9c: Pushed
9a50430de2c7: Layer already exists
e285777da5b2: Pushed
41396e0b608d: Layer already exists
6aa921829638: Pushed
6f25bf208135: Pushed
0.0.0-snapshot-master-eabf41c1-xen-arm64: digest: sha256:2014b6dbaafc4263c4bca708b53df322660f10cc344c2e2654852a1736cc4bbd size: 1999
Pushing lfedge/eve:0.0.0-snapshot-master-eabf41c1-xen-arm64 to manifest lfedge/eve:0.0.0-snapshot-master-eabf41c1-xen
time="2020-06-20T09:48:56+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:0.0.0-snapshot-master-eabf41c1-xen-s390x\". Skipping image."
Digest: sha256:24d80e7cdd6496bb78448c6a9397195a7ecaf726676e06b0f78d001bebaa2037 743
Not signing lfedge/eve:0.0.0-snapshot-master-eabf41c1-xen
Tagging lfedge/eve:0.0.0-snapshot-master-eabf41c1-xen-arm64 as lfedge/eve:snapshot-arm64
Pushing lfedge/eve:snapshot-arm64
The push refers to a repository [docker.io/lfedge/eve]
0f01a12871a7: Preparing
396a9df96f9c: Preparing
e285777da5b2: Preparing
6f25bf208135: Preparing
6aa921829638: Preparing
8eca285174be: Preparing
9a50430de2c7: Preparing
41396e0b608d: Preparing
9a50430de2c7: Waiting
41396e0b608d: Waiting
8eca285174be: Waiting
0f01a12871a7: Layer already exists
396a9df96f9c: Layer already exists
6f25bf208135: Layer already exists
6aa921829638: Layer already exists
e285777da5b2: Layer already exists
8eca285174be: Layer already exists
9a50430de2c7: Layer already exists
41396e0b608d: Layer already exists
snapshot-arm64: digest: sha256:2014b6dbaafc4263c4bca708b53df322660f10cc344c2e2654852a1736cc4bbd size: 1999
Pushing lfedge/eve:snapshot-arm64 to manifest lfedge/eve:snapshot
time="2020-06-20T09:49:19+02:00" level=warning msg="Couldn't find or access image reference \"lfedge/eve:snapshot-s390x\". Skipping image."
Digest: sha256:24d80e7cdd6496bb78448c6a9397195a7ecaf726676e06b0f78d001bebaa2037 743
Not signing lfedge/eve:snapshot
Build, push and release of "snapshot" complete, all done.
rm images/rootfs-xen.yml images/rootfs-xen.yml.in
FINISHED
